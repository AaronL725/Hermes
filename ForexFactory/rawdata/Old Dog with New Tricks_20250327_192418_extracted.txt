===== 帖子内容 =====

--- 帖子 #1 ---
It's been awhile since I've seen any new and interesting trading systems on this forum, so I guess it's my turn to contribute.

I realize that my recent postings have been far an few between. Trust me, there has been good reason.

For the past two years, my trading has been very much EA-based. The problem of course was I found myself constantly optimizing and  updating my EAs. It's a fairly tedious process and requires a good amount of analysis on my part. All of the EAs were also problematic in the sense that they are 'dumb'. They do not really analyze the market and try to determine if the current trading market is good for them. That's something I've had to do manually.

Now, I new I needed to come up with some sort of self-optimizing EA, or at least an EA smart enough to know whether or not a specific trading strategy is good for a particular market. There were attempts made to try and mechanically determine if a market was trending or ranging, but that didn't work out too well. There was an article on the MQL codebase explaining how to get an EA to optimize itself, but it was tricky to implement and wholly unreliable.

This system is one of my more promising attempts, and can be very heavy on computer resources. It uses the bars on the chart to try and run a very crude backtest. Based off of the information in that backtest the EA can then decide whether or not the market is appropriate for them. The initial system is based off of an old one: New Highs and New Lows.

At its core, if there is a new high, the EA will place a long trade--assuming it expects a breakout--or a short trade--assuming it expects a counter trade. Consequently, if there is a new low, the EA will place a short trade--assuming a breakout--or a long trade--assuming a counter trade.

The system itself is very simple, there is no doubt about that. The underlying analytics took awhile to code and attempt to perfect.

Every day when the day starts, the EA will re-run the crude backtest to determine if the market is still suitable for a particular trading system.

extern string Remark1 = "== Main Settings =="; extern int MagicNumber = 0;This number should be unique when multiple EAs are attached to a terminal.  extern bool SignalsOnly = False;If set to true, the EA will only alert you to a trade using any combination of the alerts below.  extern bool Alerts = False;If set to true, the EA will send a pop-up alert when a trading signal arrives.  extern bool SignalMail = False;If set to true, the EA will send you an e-mail (assuming you set up your mail in your MT4 Terminal.) when a trading signal arrives.  extern bool PlaySounds = False;If set to true, the EA will play the file, "alerts.wav" when a trading signal arrives.  extern bool ECNBroker = False;Some  brokers require EAs to first place a trade, and then modify the trade with the stoploss and takeprofit. If your broker requires this, set this value to True.  extern bool CloseOnOppositeSignal = True;If set to true, the EA will close a trade if an opposite trading signal appears.  extern bool EachTickMode = True;If set to true, the EA will take a trade immediately if it sees a signal. If set to false, the EA will take a trade only if there is a signal at the end of the bar.  extern double Lots = 0;Fixed lot size  extern bool MoneyManagement = False;Enables/Disables the lot sizing function.  extern int Risk = 0;The percent of your available margin that you are willing to put into a trade.  extern int Slippage = 5;Maximum slippage allowed when placing an order.  extern int StopLoss = 100;Hard Stoploss in pips.  extern int TakeProfit = 60;Hard take profit in pips.  extern string Remark2 = ""; extern string Remark3 = "== HiLo Settings =="; extern int BarStart = 0;This is the number of bars in the chart history that the EA will check when running its backtest. Set to 0 to use all bars on the chart.  extern int InitialRange = 10;The EA looks for new daily highs and lows. This is the number of bars after a new day starts to establish those highs and lows.  extern double WinPercent = 0;This is the minimum win percentage required before an EA decides on which system to use.  extern double MinimumSuccessScore = 0;This is the minimum success score required before an EA decides which system to used.  extern int MinimumConfidence = 90;This is the minimum confidence allowed. Confidence is the number of trades which could not be assign a win or loss.   When you attach this EA to the chart, you'll see the following parameters:

Breakout Win: Number of breakout trades in backtesting that won.

Breakout Loss: Number of breakout trades in backtesting that lost.

Breakout Unsure: Number of breakout trades in backtesting where the EA isn't sure if the trade won or lost.

Counter Win: Number of counter trades in backtesting that won.

Counter Loss: Number of counter trades in backtesting that lost.

Counter Unsure: Number of counter trades in backtesting where the EA isn't sure if the trade won or lost.

Breakout Percent: Percent of trades that won.

Breakout Success Score: The success score of the breakout style trading. (See how I rate systems to understand how I calculate success score.)

Counter Percent: Percent of trades that won.

Counter Success Score: The success score of the counter-trend style trading.

Tester Quality: The percent of trades where the EA is certain of the outcome (win/loss)

High Value: The current daily high price.

Low Value: The current daily low price.

Trading Style: the trading style that the EA uses.

[EDIT]

The previous version of the EA didn't have the CloseOnOppositeSignal value enabled. These versions do.

HiLo Trader [TD] Lines paints lines showing where the internal backtesting engine would have placed high and low trades.

I should probably also explain how the backtester works.

The EA can see every bar that is on the chart. Based on how many bars it is told to look back, the EA checks for highs and lows. When a new daily high is made, the EA calculates what the TP and SL are, and then checks the next few bars to see if the TP or SL is between the high and low of that bar (including the entry bar).  If either the TP or SL is hit in the entry bar, the EA adds to the 'Unsure' count.. If the TP and SL is hit in the same bar after the entry bar, the EA adds to the 'unsure' count. If the TP is hit in a bar after the entry bar, and the SL was never touched, the EA adds to the 'win' count If the SL is hit in a bar after the entry bar, and the TP was never touched, the EA adds to the 'lose' count.

--- 帖子 #2 ---
RR, given your reputation, I find it amazing that it's been over 3 hours since you posted and no one else has replied yet! I'm sure they'll catch up.

Thanks for the EA. I'll definitely check it out.

Dave

--- 帖子 #3 ---
RR,

This is conceptually interesting.

The devil is always in the details.

We anticipate the details with bated breath.

Jim

a

--- 帖子 #4 ---
Been watching the downloads, people are definitely playing with it. I see the ticks being loaded into the database. I guess it's working for them. I know it works for me. =D

--- 帖子 #5 ---
Thanks RR.  I will give it a try.  Does it matter what time frame?  I am assuming the chart should be on daily.  Is that correct?

Thanks again.

--- 帖子 #6 ---
Timeframe does matter. Remember, the pseudo backtest uses the bar history. Basically, the EA scrolls back on the chart.

--- 帖子 #7 ---
Great idea in theory Ron, I hope it works in practice, I've set up a client with it on to see how it goes.

I have a question

extern bool TickDatabase = True;If set to True, the EA will send tick data into the tick database. this option is not there, is this now compulsary as dll import needs to be enabled?

--- 帖子 #8 ---
This EA is my first attempt at having bidirectional communication between a webserver and a client.

In theory it can generate all the statistics by itself. But bar data isn't nearly as reliable as tick data, and that's where this connection comes in. The server can feed the EA statistics based on the broker and the quality of data.

And yes, I am forcing users who use this EA to contribute ticks into the database. In exchange for their streams, the EA is receiving its own mini stream of information. Frankly, I like to think it's fair. Besides, the increased redundancy in tick streams ensures that I have a solid gap-free data set for this EA and my own research to run off of.

--- 帖子 #9 ---
It's possible to show just an Example chart with some

points sell/ buy /SL how and what exactly the Robot doing?

Thank you.

--- 帖子 #10 ---
A self optimizing EA would free up a lot of time wasted on monitoring the markets, if it works then this would be a fairly substantial achievement in my opinion. I'll give it a whirl after my exams are over.

I haven't used this "tick database" before but I can probably imagine its just a collection of tick data uploaded from various users across various broker feeds, so making a forced upload seems like a good idea. That way like you said anyone who uses it is then at least forced to contribute something to the process.

The ingenuity of some of the traders/coders on this forum never ceases to amaze me.

--- Joe

--- 帖子 #11 ---
Here is an example of an EA standing aside.

You'll notice that there are two lines shown, these are the current day's high and low as determined by the EA. the EA shows yellow lines when it is standing aside.

--- 帖子 #12 ---
Here is an EA priming for and eventually taking a short order.

--- 帖子 #13 ---
In the ~5 minutes I took to make this series of posts.

I just made 10 pips.

--- 帖子 #14 ---
it's because you have not yet visited our vsa thread

--- 帖子 #15 ---
Hi,

I tried putting this on USDCHF M1 TF. I can see from the chart that, there were more losses than profits. Can you tell me, if there is anything wrong with that.

And looks like, counter trend trading has given more profit than breakout. Can you give an option in EA to chose either one/both something like that.

Thanks,

Prakash

--- 帖子 #16 ---
Nothing wrong with that.

That's the whole point behind this EA. It's designed to pick for you.

--- 帖子 #17 ---
So based on this past data, it tried to take either counter trend or breakout trading...  is that what you mean.

Thanks for this system.

hope we make some nice pips out of it.

Thanks,

Prakash

--- 帖子 #18 ---
Yes. The EA analyzes the market for you

--- 帖子 #19 ---
Hi Ronald,

Thanks for sharing your work.  Much appreciated.

What period of time is this backtest going over?

Where we have number of wins, is it safe to say:

Number of wins x TP = Pips gained?

Number of losses x SL = Pips lost?

Or will this vary?

Warm Regards,

fxtrader08

--- 帖子 #20 ---
Internal backtest goes for as many bars back as you tell it to.

The win/lose values are based off of the bar itself. There is no guarantee that the EA is 100% correct when it tells you the number of trades won/lost. You can multiply the trades won * number of pips but there really is no need to...

--- 帖子 #21 ---
Hi Ronald

Have you been running it for some time now?

Whats the results so far?

Would you suggest running on a set amount of pairs on multiple time frames?

Warm Regards,

fxtrader08

--- 帖子 #22 ---
The EA won't take a trade.

There have been two opportunities- one on EUR/USD and one on USD/CHF.

I have the smiling face and I have the lot size populated with .01.

Is there anything I'm missing?

--- 帖子 #23 ---
Almost 1.5 years.

Profitable.

Get as many bars on the chart as possible. More bars => Finer data.

What did TradingStyle and TradeTrigger say?

--- 帖子 #24 ---
Stand Aside

None.

I wasn't watching when the daily highs were hit, but that's what they say now.

So do all the other pairs, I have it on.

--- 帖子 #25 ---
EA's standing aside. It means it doesn't think it will make money in the current market.

Generally means your winpercent is too low.

--- 帖子 #26 ---
Gotcha.

--- 帖子 #27 ---
Neural Networks...the,"thinking," of this robot...in the future?

--- 帖子 #28 ---
Maybe...

But definitely not in MQL.

--- 帖子 #29 ---
I am trying the EA RR.......I think it is smarter then I am lol!!......like a much better trader.

Thanks mate

Ezzy

--- 帖子 #30 ---
Ronald, thank you for sharing this EA.  I have loaded it into a $2,500 demo at FXDD.  I think I have the settings right.  should BarStart, IntialRange, and WinPercent be left to their defaults?

Looking forward to see what happens next.  Thanks again.

MurphyMan

Murphysboro, IL

--- 帖子 #31 ---
WinPercent needs to be high enough so only one of the two possibilities (Breakout/Counter Trending) is greater than than the WinPercent.

--- 帖子 #32 ---
How can I have a breakout wins:    10

loss :     0

Breakout percentage    :    100%

and have a success score of only :  33%?

thx,

todd

--- 帖子 #33 ---
Your stoploss is probably 3 times bigger than your takeprofit.

--- 帖子 #34 ---
Thx Ronald,

Yep changed tp sl to 30 and 30 and brought my numbers up to the 70's.

Does the EA have to be rebooted every so often in order to get it out of 'Stand Aside' status?

thx,

todd

--- 帖子 #35 ---
Hi RR, thank you for EA. EA can trade by itself or do I need manually place order when PA touch dashed lines?

TIA

--- 帖子 #36 ---
No. The trading style status will change as new data comes in.

It will trade by itself.

My suggestion to everyone, pick some settings that you know will put the EA out of stand aside mode and let it run a full week without tweaking. See how many trades it takes and if those trades taken line up with the statistics generated by the EA.

--- 帖子 #37 ---
RR, you check my settings?  I haven't had a trade yet.

Thanks!

EA on EURUSD M1

MagicNumber = 12345

SignalsOnly = False

Alerts = True

SignalMail = False

PlaySounds = False

ECNBroker = False;  (FXDD)

TickDatabase = True;

EachTickMode= True;

Lots= 0.1

MoneyManagement = False;

Risk = 3

Slippage =

StopLoss = 50

TakeProfit = 50;

BarStart = 0;

InitialRange = 10;

WinPercent = 50.0;

MinimumSuccessScore = 0.0;

MinimumConfidence = 90;

--- 帖子 #38 ---
I don't see anything wrong....where was the missed trade>

--- 帖子 #39 ---
Just took one.  Sorry for the alarm.

Murph

--- 帖子 #40 ---
Hi Ronald,

I have tried this in Strategy Tester with about 15 different settings on a few different currencies and can't find a setting that is consistently profitable.  Is there a problem using it in the Tester?

What settings do you recommend

--- 帖子 #41 ---
Doesn't work in the backtester.

--- 帖子 #42 ---
A fellow on another board had a similar approach to yours, based purely on statistics.  It adapted by always calculating stats over the last 20 hourly bar and taking trades only in the bias direction.  It was very simple but had an edge which is what got my attention.

It's my next MT4 project, since this guy was strong on statistics but weak in programming.

--- 帖子 #43 ---
Hello Ronald. Too many people asking for Settings

Could you please just upload ea_settings.set file with

recommended settings and then from there everyone can just

change TP or SL to suit there needs.

Thank you.

--- 帖子 #44 ---
In order to get the EA running and in a trade-ready state you simply change the lot size to a non-zero number.

All the other inputs are explained rather clearly if I do say so myself in the first post.

--- 帖子 #45 ---
First of all thanks for the EA.

I get the Error message above, that means I'm the only one running it on the EA on that pair correct? I attached it on all pairs available form forex.com

Thanks

Jado

never mind me I saw your tick database

--- 帖子 #46 ---
RR this is a very interesting puzzle. I've gotten something.. BUT I'm still tweaking to see if I can get a better setting..

--- 帖子 #47 ---
First time all week I got out of "Stand Aside" status and I received the following error message for all currency pairs.

2009.12.18 08:40:08 HiLo Trader [TD] EURJPY,H1: EURJPY Error: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>

<title>Account Suspended</title>

<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />

</head>

<frameset rows="100,*" frameborder="no" border="0" framespacing="0">

<frame src="http://www.justhost.com/error_docs/suspend.header.php">

<frame src="http://searchportal.i

--- 帖子 #48 ---
yeah ron, looks like there's a problem with your justhost.com account.

--- 帖子 #49 ---
Shouldn't a trade have happened today?  Just wondering.

I thought FXDD was a five digit broker, but the screen says 4 digit.  Is there a way to change that?

Also, I see the yellow HiLo lines are missing.

Any suggestions?  Sorry for the trouble.

Murph.

--- 帖子 #50 ---
Murphy, FXDD is 4 digit. You determine your figure by counting after the decimal point. So 1.xxxxx (1.12345) is an example of a 5 digit broker.

--- 帖子 #51 ---
Oops again.  I have two demo brokers and I guess I mixed them up.

--- 帖子 #52 ---
That pair wasn't set up in the database, so yes your EA will only rely on bar data.

--- 帖子 #53 ---
RR Thanks for sharing the ea, are your setting is same like what you shown in the 1 page or did you have another setting that you prefer to use on certain pair and tf? Plz guide us and let us ride the profits like you.

--- 帖子 #54 ---
Yep, happened this morning. My personal tick contributing server is contributing to a backup database, so no data is being lost.

I'm trying to reach them now to resolve this. If there's anyone out there good with LAMP, I'd love it if they could lend a hand.

Yep. Trying to fix it. All EAs will still work, just not as accurately as with the tick DB

--- 帖子 #55 ---
Hi, Ron

very interesting EA that u shared here

I was wondering if u can come up an EA that can scan and alert the market based on Higher/High and Lower/Low ,

for LONG Entry = High/LOW ....Send Alert

for Short Entry = LOW/High .... Send Alert

Trading Range(Price Level) can be input by user

Thanks

--- 帖子 #56 ---
RR,

I've figured out how to get the thing running.   I have not figured out how to get the thing running profitably.

My first idea is a long series of tests (by reloading the EA on a chart) of every combination of the involved variables.  But assuming 10 mins per test outcome, that would take a few years and several machines to do comprehensively.

Several years of tests can't be what you have in mind when you started this thread.  So I must be looking at this wrong...

Once we know how to make the thing run, how do we figure out the settings (Pair, Time Frame, Number of bars in tester, TP, SL, and any others that I don't see yet) that make the thing run profitably?

VBro

--- 帖子 #57 ---
The main reason why I do not post settings I use is because those settings were optimized with my trading style in mind. What works for me may not work for you. I will not risk another lawsuit from somebody who blew his account because they didn't know how to use my EAs.

Here are some things to think about:  Are more recent trades just as relevant than trades far in the past? I did put up a warning that this EA is resource-intensive. The number of bars does affect the 'backtest time' What goals do you have for the EA? Few big wins and several small losses? Several small wins and few big losses? How often does a market change? Every new US president? Every year? Every major financial event? Every week? New moon? What market conditions are ripe for either a breakout or counter-trend? To anyone else with grandiose dreams of 'hitting it big' with this EA:

Do not think for a second that this EA will instantly make you a millionaire. If you think this is the holy grail of EAs, go elsewhere.

--- 帖子 #58 ---
RR,

Difficult to read peoples' intentions with text only, but it looks like you're throwing a bit of a flame at me here.  If I'm wrong, please tell me so.  If I'm right, I have to tell you that I don't think I deserve it.  I asked a fair question, without fawning, guile or malice.  I am a person willing to work, not clear on where to direct his energy, asking for guidance in the next step.

Anyway, thanks the parts of your reply that were constructive and helpful.

VBro

--- 帖子 #59 ---
VBro,

My apologies if I came off as rude. That second part was directed more toward those people who have been contacting me asking for the "best settings". One person had the gall to call me several times.

Those bullet points I outlined are definitely some of the things that I'm thinking about whenever I'm setting up this EA.

--- 帖子 #60 ---
RR,

Thanks for letting me know!

Cheers.

VBro

--- 帖子 #61 ---
I get a zero divide error upon loading the ea on eur/usd 4h chart.

--- 帖子 #62 ---
RR there's something I'd like to ask. Does the EA use hidden SL & TP? I ask this because I see no SL & TP after the trades trigger (even though I have my SL & TP set in the EA properties). Here's a screenshot of one trade it took for instance. I have the bot on VPS while I'm monitoring from desktop so don't worry if the usual parameters don't show up on the left hand side of the screen.

Thanks in anticipation of your response.

Attached Image (click to enlarge)

--- 帖子 #63 ---
Interesting...was there an attempt at a stoploss in the journal?

Was ECNBroker set to true?

--- 帖子 #64 ---
Well the trading is still riding in profits. It has not yet reached my defined TP neither did it touch touch my SL price level (as I have checked). You seem surprised. Maybe I should just wait and see what happens if it gets to my TP target area.

And yeah.. ECN was set to true.. This is MBTrading.. I have the EA on MBTrading & also on FXpro testing out different settings

--- 帖子 #65 ---
What do the stats on the left say? Most likely, one of those values is 0

--- 帖子 #66 ---
I clicked the 15m time and the counter engaged. Seems to work now.

--- 帖子 #67 ---
Attached Image (click to enlarge)

Anyone else experiencing hidden SL & TP fields or is it just me?

--- 帖子 #68 ---
Well, if it is ECN-based, then the trade has to be placed first and then the trade is modified with the SL and TP. From what I currently know, the OrderModify function didn't work as expected. What I want to know is if there was an attempt at modifying the order. If there was and the attempt failed, then the problem is broker-side. If there was no attempt, the EA has a bug somewhere

--- 帖子 #69 ---
Oh I see..

I have been watching the EA performance (with two brokers and different settings) closely & I can firmly say there was no attempt whatsoever at modifying the order. Must be some bug in the script I guess.

Thanks for your response.

--- 帖子 #70 ---
Okay I just tried to close the trade manually and it keeps failing. MBT's Server is having problems at the moment I guess.. That solves it. The problem should be from the broker and not your script.

That clears the air.

--- 帖子 #71 ---
I got Errors in Experts

====

"2009.12.21 08:37:20    HiLo Trader [TD] GBPJPYFXF,H1: GBPJPY Error: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>

<title>Account Suspended</title>

<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />

</head>

<frameset rows="100,*" frameborder="no" border="0" framespacing="0">

<frame src="http://www.justhost.com/error_docs/suspend.header.php">

<frame src="http://searchporta......."

====

On every pair I place the Expert.

Anybody else have that?

--- 帖子 #72 ---
I get the same thing.

--- 帖子 #73 ---
The EA is trying to connect to my website, but JustHost suspended my account. I'm currently trying to find a new webhost for the EA to access The EA is capable of running without the website, so there's nothing much to worry about.

--- 帖子 #74 ---
Ohh, ok, thanks, no problema then

--- 帖子 #75 ---
Dear RR,

After I dragged EA to the chart and filling in the data, a pop-up asking "Do you permit to call function'InternetCloseHandle" from 'wininet.dll' ? Am i suppose to answer yes/no/cancel?

Rgs

--- 帖子 #76 ---
Yes

This EA is trying to communicate with a webserver.

--- 帖子 #77 ---
Webserver is back online. Hopefully this new host can handle the traffic I'm throwing at it.

--- 帖子 #78 ---
I am fooling around with the settings, looking for an optimum combination.  Does this seem like a good idea?  Here are my assumptions, please let me know if I'm out of whack.

Breakout Win x TP shold be as large as possible.

Breadout Loss x SL should be as small as possible.

Breakout Unsure should be as low as possible.

Counter Win x TP shold be as large as possible.

Counter Loss x SL should be as small as possible.

Counter Unsure should be as low as possible.

These would lead us all to the Highest Breakout & Counter Success percentage.

It looks like the MinimiumConfidence should stay at 90 and we can fool around with the WinPercent and the MinimumSuccess Score, in addition to the SL & TP.

I'm think this might be a good application for a Taguchi-style Design of Experiments, to find the best settings to raise the Highest Breakout & Counter Success percentage numbers.  It looks like it might be done with four, or so, variables. If you think this might be worthwhile, I could dust off some old Stats books (or call an old stats professor) and work up a scheme.  May take a while, especially with the holidays coming up.

On the other hand, am barking up the wrong tree?

MurphyMan

--- 帖子 #79 ---
Now you're thinking!

The success score is severely biased to positive profit systems (winning trade is greater than losing trade), so that's not really the strongest metric to measure against.

Breakouts more frequently turn to trends than counter trades...so consider how far the price moves before a breakout or counter trade is over.

--- 帖子 #80 ---
I'll see if I can dust off those cobwebs and come up with something.  Here's a little info: http://nutek-us.com/wp-doe.html

Like I say, may take a little while.

Murph

--- 帖子 #81 ---
That's a little (ok no, a LOT) more advanced than what I used...but maybe it'll yield a better result.

--- 帖子 #82 ---
Thanks RR,

I used GU/EU/UJ pairs on M15 tf for 2 days already and still no trade trigger, although trading style showed breakout and counter. It can't be that long or is there any steps that i missed?

Does the pop-up always appear when u on the EA?

Thanks in advance

rgs

--- 帖子 #83 ---
Patience my friend, that's the essence of the bot. It forces you to wait for the right conditions.

--- 帖子 #84 ---
wh1zz0's right, this EA is designed to find the optimal places to trade based off of the criteria generated.

Also, what is your Testing Quality on that TF?

And, no the EA is perfectly capable of taking a trade on its own, provided "SignalsOnly" is false, and Lots is greater than 0.

--- 帖子 #85 ---
I should probably point out that in the week that I released this EA, it has only taken 14 trades, 8 win, 6 loss.

--- 帖子 #86 ---
What was your profit factor?

--- 帖子 #87 ---
8/6

--- 帖子 #88 ---
Happy Holidays to all and may the new year bring everyone many pips!

Vince

--- 帖子 #89 ---
My tester quality is above 90% but still no trade. Indeed it is very heavy to computer resources, once EA starts operating for different pairs, my computer's fan blow non-stop the whole day and quite frequently hanged my computer. Do u experience that situation?

rgs

Q: Does yr winning result 8/6 a let down to you? how many pairs you use to test?

--- 帖子 #90 ---
This EA really can't backtest because it uses historical bar data to generate its statistics.

I won 8 and lost 6, in 1 week, averaged 3 trades a day, and never had a losing day. I'm quite happy, especially now that I'm in the 50 lot range.

--- 帖子 #91 ---
That's not the profits factor value, but the wining and losing trade count only, base on the 8/6 figure your profits factor is only 1.3 but i dont know the wining pips and the losing pips from your trade setup.......so just let me know your setup for the target and sl so i can count the profits factor ratio and what is your risk control limit. For exp if you set your tp 50 pips and your sl 30 pips means your get more pips but if you put the tp and the sl at the same value it still win but less profits factor value. So this is how to control the risk for all trade setup from your EA and by putting small losses and big wining pips from every trade setup. Hope you can share with us your setup and pairs that you have run the EA.

--- 帖子 #92 ---
I gave you the profit factor.

Profit factor => Gross win / Gross loss, right?

My apologies if I seem like a scrooge. This EA was one of the private EAs which I trade with. I have never seen the underlying concept here on FF before, thus, I think it's safe to believe there hasn't been much thought given to this type of EA, and furthermore, given the 50,000 or so members, that's 50,000 potential new ways to improve.

I will not give the settings I use. I want you all to experiment with this EA just as I did 1.5 years ago. Maybe you will make some discoveries I didn't make. That's what I'm looking for.

--- 帖子 #93 ---
Its doing pretty good  on JPY pairs8/9, gonna  change the settings for the other pairs though.

Thanks RR

--- 帖子 #94 ---
Hi RR,

A question is about the calculator.

With the opening range set to 10, I assume after 10 bars from 00:00, the EA's calculator has a high and a low from the range of those 10 bars, right?

So, once the first trade is triggered by a tick outside the range, will the EA calculate a second, third, fourth (etc) before the first trade is closed?  Or is it only calculating one open trade at a time?

_________________________

Also, how does the EA determine if a higher/lower price qualifies as a new high/low?  Let's say the opening range high is x.  Then price moves through x+0001, x+0002, x+0001, x+0002, x+0003, etc.  Does the EA consider each new pip a new high?  or each new pip on a new candle?  or each new pip after a period of time?

Just trying to understand the system rules, as I suspect that might help me play around with the settings more efficiently.

thanks,

vbro

--- 帖子 #95 ---
Fair enough:

Yes, the initial number of bars is to determine the starting bars. Otherwise, the EA would place a near infinite number of trades when there is a new high/low every tick.

The EA is currently built to only manage one trade at a time, but there is no reason why it cannot handle multiple trades.

The current high/low is the highest high/lowest low in the bars between a day's start and the current time. If the highest/lowest high/low has a shift of 0 (current bar), the EA places a trade. This allows the breakout style of the system to take advantage of the breakouts only when they start--if they start.

Any more questions? (Keep em coming!)

--- 帖子 #96 ---
Great,

So, still trying to understand the rules of the system, and how the calculator applies those rules to it's set up stats...

I've reduced the bars in a 1 min chart to one day's worth (I know we want more, eventually, but for now, just trying to understand how it works).  I did this by adjusting the MT4 Options setting for charts.  I assumed this would limit the EA's set up calculations to just today's bars.  The plan was to  run the set up calculation, and then try to see if I could manually identify all the trades that the calculator reported.

When I run today's 1 min E/U with 300TP/300SL (5 dig brkr), the set up calculation reports 14 trades.

I'm assuming the set up calculator does not use the 'one trade at a time' rule, because when I look at the chart, I see only 2 or 3 300/300 trades (if taken one at a time), from 00:00 today.

So, when the calculator returns 14 trades for 300/300 (all other variables at default), how has it arrived at that number?

Or have I erred in my experiment somewhere?

Thx,

VBro

--- 帖子 #97 ---
Each trade is evaluated separately. There will definitely be overlap between trades. Basically, count each higher high or higher low (where the new high/low happens at least one bar after the current high/low).

Also, the BarStart value can be used to limit the number of bars used in your testing.

--- 帖子 #98 ---
Got it, I think.  For 5 digit broker users, am I correct that the new high/low must be a 4 digit move (1.40083 to >= 1.40093), off of the most recent 5 digit high for the trade to trigger?  For example,

1.) old high is 1.40073, 0 bar high 1.40082, No Trigger.

2.) next bar,

old high becomes 1.40082, 0 bar high 1.40083, No Trigger.

3.) next bar,

old high becomes 1.40083, 0 bar high 1.40093, Yes trigger.

Is this correct?

very helpful. thx.

____________________________________

Here's another question.

I run 300/300, the counter returns 14 trades.  Then I run 100/100 (same settings otherwise), the counter returns 42 trades.  I had been thinking the counter would return the same number of trades, but return varying win/loss results.  What am I missing?

Thx

VBro

--- 帖子 #99 ---
For #1, that isn't supposed to happen... is it happening? One pippette (0.00001) should be enough to trigger a new high or low.

For #2, that's an interesting problem... attached is a version which shows lines demonstrating what the EA is thinking.  Aqua: EA is unsure Lime: High trade taken Red: Low trade taken Yellow: Range start and end times. This will be a very interesting bug to have. I'm surprised I didn't catch this.

--- 帖子 #100 ---
I'm not sure of anything, RR, so before you start digging for bugs, I have to say that I'm probably not clear in my understanding.  Didn't mean to set off an alarm just yet, still trying to understand how the counter works...

Let me put up the line version and see what I learn.

VBro

--- 帖子 #101 ---
Just a simple question,

considering that you may possibly be as good as your hype

why is the sucess ratio so low?

If you look @ your data feed you should see your problem!

when you pass 95% win ratio...then you'll be doing it right!

just a little friendly advice

--- 帖子 #102 ---
You were right, the lines confirm that a pipette does trigger the trade.

I understand, now.

Is it that the counter totals completed trades, not entries, so there will be a lower number of counted trades for the larger TP/SL, right?

The lines all show up, but the counter does not show them as part of the stats because there is no outcome yet.

Thanks for your guidance.

VBro

--- 帖子 #103 ---
The Ea works after i put the lines, but the problem is still there when you set your tp 30 and then the market push up more then the Ea go for counter trend and then you will loss your profits, so for me why not if you put a trailing stop option so we can set it, for me when the market move faster is better to have trailing stop to protect your profits first.

--- 帖子 #104 ---
Can't run a backtest on the trailing stop option using the backtest engine on that EA.

If you're hitting that problem, then you probably should set your success score higher.

--- 帖子 #105 ---
Wanted to wish all on a Happy New Year with tons of pips.  I did have one question reguarding tf. Is there a minumim/maximum tf to try the ea on?  I have tried 1m 5m 1h and even daily last night.  With the daily it stayed on calculating.  I had wins to 100% and tp sl 100 with 7 pairs.

Vince

--- 帖子 #106 ---
EA looks for daily highs and lows, so the daily TF is generally a bad idea.

As a general rule of thumb, minute charts are the best because there is plenty of segmented bar data. On slower moving pairs where the open, high, low, and close are the same price, you may want to move up to 5M.

--- 帖子 #107 ---
Thanks will go back to the 1m or 5m depending on pairs.

Vince

--- 帖子 #108 ---
Well, that's based on my analysis. There could be a benefit to using a larger timeframe. E.G. spikes are contained.

--- 帖子 #109 ---
extern bool CloseOnOppositeSignal = True; If set to true, the EA will close a trade if an opposite trading signal appears. I dont see this option in the input section, it's means the ea only allowed to open a new trade after it closed the current postion by manual or by tp or sl triggered.........because from what i see when there was an opposite trading signal the current position still open and it not counter the new trade setup.

--- 帖子 #110 ---
You're right. I updated the first post with the new EAs.

--- 帖子 #111 ---
So which one i should use? If i put those 2 ea together my pc will hung up and if i use the ea without lines it will stand aside but if im using the lines it will show the trading style and make a trade. So which one is the actual ea you are using for the system........thanks and happy new year.

--- 帖子 #112 ---
They're the same.

One shows you where it would have taken a trade. It's better for visualization purposes. The other one does not show you where it would take a trade. It just gives you the analytics. Run the one without lines if your computer isn't too fast.

--- 帖子 #113 ---
Thanks for the updates. I did have some basic questions if it is ok to ask?
Should you change the magic number if you are running more than one pair using the same tf on all the pairs? I know with some ea's in the past you had to change the magic number each time you used it on another pair.
Another issue has to do with sl/tp and how to handle them. I know if you trade on the institution level there is no worry about spreads, margin calls, and all the other stuff the regular traders have to worry about. I never could find the best way to do sl/tp. There are so many combinations on how to do this, that it can drive you crazy. For example, you could go with a sl of 100 and no tp and use a tsl of maybe 35. You could go with a sl of 100 tp 100. You could go with a management program which moves the sl every time you go positive so many pips. I do see in your ea you can set the risk level which I have at 1% which is great. I also have MM on, but have not seen in the past posts exactly what it does? In some ea's MM on will just set the amount of lots depending on equity in the account?
Vince

--- 帖子 #114 ---
Technically, all my EAs can work together as long as they have a different pair, magicnumber, or both (when using multiple EAs on one pair). You do have to worry about spreads at the institutional level. They change a lot. You also have to worry about fills, getting transactions done, and so on. We may not have to worry about broker 'abuse' but institutional traders have their own sets of problems. MM is based on the percent of available equity you are willing to lose.

--- 帖子 #115 ---
Hate to be thick headed, but just want to make sure I understand what you wrote. For example if I want to use your hilo ea with all the same parameters on same account using the 5m using for example EUR/USD,GBP/USD, can I  have EUR/USD magic 1, GBP/USD magic 2, or can I have EUR/USD magic 1 and GBP/USD magic 1?

I know you said earlier you do not post a set file because someone might say well you said to use these settings and I did, and I lost.  But if it is possible to answer this question, I would appreciate it.  On the sl-tp issue what is best way to do it? Just use 100 sl 100 tp and see what happens you will either get the 100 pips or you will loss the 100 pips?

Like I said before, I have used so many ea's on demo I forget who wrote what.  But I think you also wrote the ea that was called random something where you set how many trades a day and how many pips before you do a reversal I think is how it worked.  So if you set you only want 50 trades and move sl when you reach 40 pips, and also do a sell if you did a buy at first?

Sorry for going on and on especially on New Year's eve!

--- 帖子 #116 ---
Yes, you have it right.

The EA backtests for you. You can set the parameters to whatever you want the EA to do. E.G. I want the EA to trade with a 30TP and 20SL that has a win percent of 50 or more. The EA will then wait until the market conditions fit whatever criteria you want to trade with, and it will place a trade. You don't need to go the other way (try to get the EA in a trade-ready state).

Depending on the market characteristics you're looking for, yes, there is a change you can win or lose that 100 pips, but depending on the EA's settings, the likelihood of either can be predicted--with some accuracy.

--- 帖子 #117 ---
Thanks again Ron I was doing it the other way around trying to get the ea in the ready to trade state.

Have a nice day!

Vince

--- 帖子 #118 ---
very n'tresting.  subscribe and test.

Ron

--- 帖子 #119 ---
I'm not sure if the lack of interest is due to the hangover, or because I didn't give everything on a silver platter. In an effort to partially eliminate the latter...

Consider this: Over a long enough time, the ratio between winning breakout trades and winning counter-trend trades is 1:1 (50%). When you shorten the period to something like 1 month, 3 months, 6 months, patterns start to emerge, as well as trends.

What I would do is have multiple instances of this EA running on my server. There would be a 1 month, 3 months, 6 month, etc. Each EA had the same parameters (20 pips SL and TP, win rate of 60% or better, etc, etc). Each Ea would then trade based off of whatever their individual markets told them to. There were some instances where a new daily high would have all of the EAs enter in a trade, and where a new daily high would only result in a fraction of the EAs to enter in a trade. Apply this against multiple currencies, and you have a semi-intelligent system which is smart enough to know when and when not to trade.

What this means is, the EAs collectively have a form of money management which increases the money applied to a currency pair when the market was strongly biased one way or another (breakout/counter). And decreases the money applied to a currency pair when the market was undecided or confused.

I repeat, this is a VERY resource-intensive EA, and I do not expect it to run on computers built before 2006.

--- 帖子 #120 ---
Is the tick database down again?

--- 帖子 #121 ---
I came up with 8640 bars on the 5m chart for 30 days.  Can somebody check this please.

--- 帖子 #122 ---
I agree with your approach Ronald Raygun.  There's that old-fashioned admonition to "diversify your portfolio" regarding stock portfolios.  For system traders and automated traders, having a diversified portfolio of *systems* is essential.  Market conditions change over time, sometimes trending, sometimes trading sideways.  Having systems to make money under these varying conditions converts a trader from a "one trick pony" to a business.

The trick is knowing which systems to use and when.  Your EA does this.

--- 帖子 #123 ---
Curious with the 20 sl isn't that a little tight in case there is bad news or central banks like BOJ do their daily intervention?

Vince

--- 帖子 #124 ---
Yeah, I'm currently trying to get a refund from the webhost. When I get back to school, I'll build my own server and host it on campus.

--- 帖子 #125 ---
Numbers are different of course, but SL and TP were the same.

--- 帖子 #126 ---
I was wondering why a trade wasn't taken? I am only using one pair this week since I have an older computer. I would think a sell order would trigger? Using the ea without lines.

Thanks

Vince
Attached Image (click to enlarge)

--- 帖子 #127 ---
Any attempts at a trade in the journal/expert tab? SL and TP might be too tight.

--- 帖子 #128 ---
Nothing in both journal or expert tab. SL TP both at 20/20 with win% 70. Perhaps win% is too high and should lower it to 50%?

Thanks

Vince

--- 帖子 #129 ---
What were the win requirements? EA said counter trade, so it knew to place a trade.

--- 帖子 #130 ---
Here is the set file.
Remark1=== Main Settings ==
MagicNumber=0
SignalsOnly=0
Alerts=0
SignalMail=0
PlaySounds=0
ECNBroker=0
EachTickMode=1
CloseOnOppositeSignal=0
Lots=0.10000000
MoneyManagement=0
Risk=4
Slippage=5
StopLoss=20
TakeProfit=20
Remark2=
Remark3=== HiLo Settings ==
BarStart=0
InitialRange=10
WinPercent=70.00000000
MinimumSuccessScore=0.00000000
MinimumConfidence=90

Thanks

Vince

--- 帖子 #131 ---
Your winpercent is 70, and the highest win is only 50. So, yeah that's preventing trades.

--- 帖子 #132 ---
Guess should take it down to 50% or just wait for it to make it to reach 70%

Thanks

Vince

--- 帖子 #133 ---
Ronald and all, I am somewhat amazed there is so little interest being shown with your "Old Dog / New Tricks"!  Am I among only a few that think there is REALLY something to what you have done so far, Ronald?

I for one ask that we keep it going.

Otherwise, I ask you Ronald, to keep me in the loop privately, if you will.

Thank you,

Ron Rhodes

--- 帖子 #134 ---
Hi Ron.  Hope you had a good weekend.  Cold here in southern Illinois.

I just fired up the Old Dog and noticed on the experts tab I'm getting a lot of error messages.  Can you tell me what this is about?  Here is an example.

Thanks, and thanks for sharing all this.

Murph

2010.01.10 17:13:37    HiLo%20Trader%20%5BTD%5D%20Lines GBPUSD,M1: GBPUSD Error: <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">

<html><head>

<title>404 Not Found</title>

</head><body>

<h1>Not Found</h1>

<p>The requested URL /TickDB/Load.php was not found on this server.</p>

<p>Additionally, a 404 Not Found

error was encountered while trying to use an ErrorDocument to handle the request.</p>

<hr>

<address>Apache/2.2.14 (Unix) mod_ssl/2.2.14 OpenSSL/0.9.8e-fips-rhel5 mod_auth_passthrough/2.1 mod_bwlimited/1.4 FrontPage/5.0.2.2

2010.01.10 17:13:37    HiLo%20Trader%20%5BTD%5D%20Lines GBPUSD,M1: GBPUSD Error: <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">

<html><head>

<title>404 Not Found</title>

</head><body>

<h1>Not Found</h1>

<p>The requested URL /TickDB/Load.php was not found on this server.</p>

<p>Additionally, a 404 Not Found

error was encountered while trying to use an ErrorDocument to handle the request.</p>

<hr>

<address>Apache/2.2.14 (Unix) mod_ssl/2.2.14 OpenSSL/0.9.8e-fips-rhel5 mod_auth_passthrough/2.1 mod_bwlimited/1.4 FrontPage/5.0.2.2

--- 帖子 #135 ---
EA is trying to contact the tick database. It's currently down and I'm trying to transfer the data to another host.

--- 帖子 #136 ---
I suspect the reason behind the lack of interest is lack of understanding. Most of the forum is looking for a mechanical system that they can trade manually.

--- 帖子 #137 ---
some are interested, but no new questions yet.

--- 帖子 #138 ---
I've noticed this EA gets a higher tester quality on 4 digit brokers as opposed to 5 digit brokers, can anyone confirm this?

Also, this seems very promising on commodities like gold, natural gas and some CFD's. Has this been tested?

Hopefully I'll start forward tests on those this week.

Thanks to RR and all the testers so far

--- 帖子 #139 ---
Had my settings set to the following E/U 1min TF since 01-03-10 with no trades

I change to the bottom ones to see if it will prompt anything

Could someone confirm the bottom settings or even why the top settings made no trades.

I'm using a 5 didget broker so I'm suer I have that set right

Thanks

Remark1=== Main Settings ==

MagicNumber=123

SignalsOnly=0

Alerts=0

SignalMail=0

PlaySounds=0

ECNBroker=0

EachTickMode=1

CloseOnOppositeSignal=1

Lots=0.10000000

MoneyManagement=1

Risk=3

Slippage=0

StopLoss=500

TakeProfit=500

Remark2=

Remark3=== HiLo Settings ==

BarStart=0

InitialRange=100

WinPercent=50.00000000

MinimumSuccessScore=0.00000000

MinimumConfidence=90

**************************************

Remark1=== Main Settings ==

MagicNumber=0

SignalsOnly=0

Alerts=0

SignalMail=0

PlaySounds=0

ECNBroker=0

EachTickMode=1

CloseOnOppositeSignal=0

Lots=0.10000000

MoneyManagement=0

Risk=4

Slippage=5

StopLoss=200

TakeProfit=200

Remark2=

Remark3=== HiLo Settings ==

BarStart=0

InitialRange=100

WinPercent=50.00000000

MinimumSuccessScore=0.00000000

MinimumConfidence=90

--- 帖子 #140 ---
What did trading style say?

Did trade trigger say anything else?

My suggestion would be to set alerts, and e-mail to true (make sure you set up e-mail) then you can at least know if the EA attempts to make a trade.

--- 帖子 #141 ---
When I download the files into meta editor they appear like this

EX4



So I can't compile them and run them, why is this?

--- 帖子 #142 ---
I'm at work right now  . . . I believe style was trend trigger not sure

I'll set the e-mail function

but in general are these settings doable ?

--- 帖子 #143 ---
Yes. The only thing that stands out to me is the moneymanagement. If the account size isn't large enough, then it's likely the size will be too small that the EA rounds to 0.

--- 帖子 #144 ---
would a setting of 3 work?

--- 帖子 #145 ---
If your account size is ~300k

--- 帖子 #146 ---
What is the minimum account size it could function off? Ive just got the EA running now. but not placing trades.

--- 帖子 #147 ---
This applies to the MM function, but 1 percent I believe requires 100,000 to run 0.1 lots. 10,000 for 0.01 lots

--- 帖子 #148 ---
Why can't we apply a trailing stop?

Do you think it would be useful if we had a seperate option for TP/SL for breakouts as we do for counter trend trades? I would expect breakouts to be larger for example.

Ive been playing with the system for a while now, it seems good.

--- 帖子 #149 ---
Problem with implementing a trailing stop is the actual results will not be anything like the internal backtest.

As for separate TP/SL for breakouts and counter trades, that's interesting. I can see the potential for this applied on an individual basis in other EAs. I'll get around to putting together a coding template exploring this.

--- 帖子 #150 ---
I don't know how easy this would be to implement but how about if time became included in the decision making process.

If we assume downward swing's happen faster than rallies. for counter trending shorts for example if we had the system recognise that a counter trend trade should be entered and exited faster than a breakout going north.

--- 帖子 #151 ---
Could you elaborate?

--- 帖子 #152 ---
I mean that I think sell offs happen much faster in proportion to the amount they move and also as a result happen over shorter time periods than rallies.

I would expect its just because fear has a stronger effect than faith in most peoples buying decisions.

Anyway I think it would be interesting if we had an option to decide the time of a trade dependant on its type for instance CT trades open for 60% of the time a breakout trade is open for in proportion.

Ive got a high CT trade success score here but the EA still has not placed a trade. (96% anyone got it higher?)

--- 帖子 #153 ---
Did any of the alerts go off? (Were they set?)

--- 帖子 #154 ---
I didn't have alerts on, changed the setting to true now, what about the email alerts and signals should I have them on aswell to trigger the most trades possible?

--- 帖子 #155 ---
Signals only isn't necessary

Email works if you set up the terminal

Alerts enables the pop-up.

Sounds aren't really useful...

--- 帖子 #156 ---
I've been trying all sorts of combination's, and still can't get the ea to place any trades on my demo account.  I even have used 0 win percent; 0 min success score; and 10 min. confidence.  I've been trying different combinations for a few weeks now.  Maybe the problem is I keep tinkering with it, but has the ea placed any trades for anyone during the last two weeks?

--- 帖子 #157 ---
In order for the EA to take a trade:  One of the two options (breakout/counter) must be above the win percent and the other option must be below it. Trading style should not say "Stand Aside" The high and low lines should not be yellow. I'll be back at my main computer by Sunday at the latest. I've spent the last 4 weeks taking winter classes, so things have been quite hectic. I can't wait for some normalcy.

--- 帖子 #158 ---
RR -- Thx for getting back to me.  I think my problem is not having one of the options above, and the other below the win percent.  I've adjusted it, and I'll let you know how it goes.

--- 帖子 #159 ---
[quote=Ronald Raygun;3325825]This EA really can't backtest because it uses historical bar data to generate its statistics.

Hi RR, first of all thanks for starting an interesting thread. I was wondering when someone was going to start a thread on "smarter" EAs using simple and profitable strategies. I've done a little work myself building auto-optimisers into EAs (the kinds that find the best parameters for a particular strategy), and know how much work this can be for even a simple trading system. Nice work on such a thorough job, particularly with the performance analysis and resulting stand-aside logic.

A couple of questions; I found my auto-optimising EAs to be very sensitive to the number of bars of history you feed it, and how often it is run. Do you find that yours has similar characteristics?

I've often thought about using a MTF optimising type strategy (the code is complex enough hence I haven't yet tried it) i.e. if profitable in last month AND in last three months then place trades, otherwise stand aside. Have you tested any of these types of scenarios with any of your EAs?

Also, you mentioned that your EA can't be backtested; is there any special reason for it? I would have thought that your EA and optimiser could run in the MT4 backtester (given enough processing power and time)?

I'm also interested to hear more about your brigade of EAs that you use (I'm working on a similar thing but they are not yet profitable); are these mainly based around similar types of breakout strategies or are you using other types of strategies as well? I certainly understand if you do not wish to disclose this, and sorry if I'm getting a little off topic here.

Thanks Michael.

--- 帖子 #160 ---
EA re-calculates its stats at the beginning of each new day ( During the period when the EA is also calculating the new day's starting range).

Yes. As I mentioned earlier, I did it with multiple EAs running simultaneously instead of trying to code everything into one EA. The resulting code is far easier to maintain.

No. The backtesting engine is built directly into the EA. There is no interaction between the EA and strategy tester.

It's all in my profile. My apologies if I seem rude, but I don't think this last bit is appropriate for this thread.

--- 帖子 #161 ---
People keep saying this in various FX trading boards, but it's only really true in the stock market.  The problem is folks read statements about sell-offs happening faster etc etc in books, but those books frequently are geared toward stock trading.  In stocks sell-offs happen faster because many of the market participants are investing in something tangible with real value i.e. a company with earnings.  When they get nervous or scared they sell out their interest in the investment.  Fear is a powerful emotion in an investment scenario.

In FX, you're not "investing" in anything.  All you're really doing is betting on a ratio of two currencies.  Fear goes both ways then.  Folks who like the euro get scared and sell it off, buying usd in the process.  Folks who like the usd get scared and sell off their usd and buy euros instead.

Google "bullish bias" and you'll see what I mean.  Stocks can go to zero but a currency pair can't.

--- 帖子 #162 ---
Not true.

Currencies can indeed go to 0. The Icelandic Krona was 0 for a time due to Iceland's bankruptcy.

--- 帖子 #163 ---
Well you're right but my original point was regarding the idea of sell-offs being faster in FX.  The "bullish" direction of a currency pair is arbitrary so a "sell-off" can go up instead of down depending on which currency is in favor at the time.

With stocks there's only one bullish direction because the price reflects the value of the company.

--- 帖子 #164 ---
Hello, RR.   I have just downloaded and installed your EA and will be giving it a test run on one of my demo accounts for the next week.  I'll report back with the results of your EA versus one of Steve Hopwood's EA, both working on the same pair (but different machines and accounts).

Thanks for sharing it with us.

Ed

--- 帖子 #165 ---
Im aware that its more obvious in stocks but if you look at a bullish chart you will notice that the selling happened much faster than the buying.

And as RR mentioned a currency can go to 0.

All of the instances of the EA I have running at the moment say 'trade trigger: none' Does this mean it won't be trading? Ive had no trades so far even with the very high % scores.

I also find that if I increase the number of bars that it can't calculate anymore, Ive got a daily chart that has tried to calculate something like 18 bars for 1 day now.

RR are you familiar with cognitive biases?

--- 帖子 #166 ---
Trade Trigger "None" means no trade signal at that very moment. Trading Style is what you should look for.

18 bars for 1 day? What timeframe?

And yes, I'm familiar with cognitive bias.

--- 帖子 #167 ---
Thats on the daily TF I guess my computer is just too slow.

--- 帖子 #168 ---
EA won't work on the daily TF at all. It's currently based on the daily high and low. I suggest 1M charts to start out. Step the timeframe up as you need to.

--- 帖子 #169 ---
Hi Ronald,

I am really new in trading system by metatrader.

I'd like to use some trading system that really works with real money.

Could you post a top hit parade of trading system that we could use for real trading divided by category, with a help how setup them and where is it possible download them?

Trending Systems

Ranging Systems

Counter Trending Systems

Breakout Systems

News Systems

Scalping Systems

Pattern System

I'd like to be envolved in database project, what should i do?

Is it possible trade forex by interactivebrokers?

Regards

--- 帖子 #170 ---
Do those systems know when to trade or is it up to the trader?

--- 帖子 #171 ---
New guys, please dont'e expect seasoned traders to answer newbie type questions.  Not to sound rude, but the big guys, like RR have bigger work to do than fundamental education.

Before you make posts requesting informatio that you can find yourself, pick a couple of good threads and read the THOUSANDS of post that are there.  You will both learn a lot and you will also have a better sense of how this community works.

I too have learned this the hard way.

If you have a question, spend  30 minutes or so trying to find the answer on your own, rather than ask someone else to to the work for you. Some of the more experienced members can get somewhat testy when getting these requests, and rightfully so.

From another newbie,

MurphyMan

--- 帖子 #172 ---
This hilo trader is the first generation of a series of 'smart' EAs.

--- 帖子 #173 ---
here are my settings.
Remark1=== Main Settings ==
MagicNumber=32095
SignalsOnly=0
Alerts=true
SignalMail=true
PlaySounds=0
ECNBroker=0
EachTickMode=1
CloseOnOppositeSignal=0
Lots=0.01000000
MoneyManagement=true
Risk=1
Slippage=5
StopLoss=40
TakeProfit=50
Remark2=
Remark3=== HiLo Settings ==
BarStart=0
InitialRange=10
WinPercent=51.0
MinimumSuccessScore=1.0
MinimumConfidence=90

Still no trades placed even though counter trades are 63% success and trading style is set as counter trend.

Don't know why it can't automate trades for itself now, I must have an incorrect setting somewhere, tried with and withought MM on a 25k demo account.

--- 帖子 #174 ---
For those of you having trouble getting this EA to place a trade, here are my trades from last week.

Settings should be easy enough to reverse-engineer.

--- 帖子 #175 ---
My advice guys,

Trade manualy,if you dont have time to trade learn day trading and learn money..I have big colection of EA-s,but just colection i dont trade any of EA...

Viva Manualy trading

--- 帖子 #176 ---
Try setting minimum success score to 0. I need to double check, but I think when both WinPercent and Minimum SuccessScore are non-zero, both must be satisfied. (One trading style is greater, and one style is lesser).

Edit: Confirmed

--- 帖子 #177 ---
Thanks Ive just changed it and put it back on. I notice Bar start is at 0 is that a problem?

--- 帖子 #178 ---
Startbar 0 will use every bar on the chart.

--- 帖子 #179 ---
I had this running all week on some settings which actually seem quite similar to what I can ascertain yours are, however it didn't take any trades. I think that's because I had WinPercent & MinimumSuccess set to something.

Just trying to extrapolate your settings.. the SL & TP are simple enough from the trade list. The settings which are hard to figure out are the BarStart and Initialrange - because the numbers of trades produced in the optimizer are dependent on each of these. i.e. There are a very large number of permutations which would provide the same number of test trades.

What I've figured out presently gives a counter win percent of 53.56%, which is close but not quite right..

I'm guessing that the Initialrange is between 10-35, as the earliest trade that gets taken is at 00:35. The BarStart is entirely dependent on this Initialrange. The SL & TP are self-evident.

I don't think any of the other EA settings will change the optimizer result numbers.

Am I on the right track?

--- 帖子 #180 ---
Thanks, I am sorry for my mistake.

Regards

--- 帖子 #181 ---
Yes. There will be slight differences between brokers regarding the stats generated, but you're very close.

--- 帖子 #182 ---
I installed FxPro's MT4 demo in order to get as close as possible.. but I can't seem to quite replicate your numbers

I've got a 54.4% counter success ratio though.. That's on the equivalent of 2 months worth of bars on M1, default initial range, and SL & TP at 20.

Is there more to this EA than simply taking whichever trade matches up to the stats?

I mean, if I have this right:

1. The EA backtests the set range of bars to calculate what would be more favourable - a breakout from the daily high/low or a countertrend trade.

2. Depending on what success or win rate you select the EA will trade as long as the win/success rate for one of the types of trades is higher.

3. This is where I'm not clear. Will the EA always take a trade when the high or low of the day is hit, as long as it's after the first 10 (default) bars? Surely this cannot be the case, as your stats show only 4 trades for the entire week. The daily high or low is constantly hit as a day's trading range is established. There is an additional filter here, correct?

Further on this point - your numbers show a 54% win rate for counter-trend trades. Yet your actual trades for this week show 80% winning trades. Was this week an anomaly? Your numbers earlier in the thread (8 wins 6 losses) are closer to what would be expected (a 57% win rate).

I guess I'm just wondering about the predictive value of the previous month (or more) worth of data for predicting future breakout/countertrend trades. If, as I would expect, a backtest over longer periods of time does bring us closer to statistical breakeven numbers - then might it not make more sense to trade the opposite of what the stats tell us? i.e. If over the past month counter-trend trades would have won 60% of the time, should there not be some sort of correction so that it may deviate back to the 50% mark, and hence we would be better off taking breakout trades?

That's a whole lot of questions - but as you said, you've been trading this profitably for over a year and a half. I'm interested to hear your view on this

--- 帖子 #183 ---
For #3, the additional filter was trade overlap. The EA was coded to handle one trade at a time. There are some instances where a particular trade ran for a very long time, on the order of a few hours. During which time other signals were triggered.

--- 帖子 #184 ---
Hi RR,

1. Does this EA is designed for low SL and TP? If I set SL20/TP20, my breakout percent and counter percent is about 54% and 44% respectively. However, when I increased my SL and TP to SL100/TP20. My breakout percent and counter percent will increase to 85%. The highest SL I will get a better breakout percent and counter percent. The highest breakout percent and counter percent will better?

2. If Breakout Total is shows 2434, does this means that the EA will open 2434 trade?

Thanks so much for your reply.

--- 帖子 #185 ---
I think the profitability of this EA could be increased with trailing stops to allow the profits to run, and perhaps if trades were only triggered by patterns with higher probability outcomes such as trend divergence.

Have you seen any characteristic differences in the different live tick data feeds your getting now? anything like one lagging behind a considerable amount at busy times? Ive been trying to notice by watching different demo's but you will have a much better view of the differences.

--- 帖子 #186 ---
Higher win percent doesn't always mean a better EA. Look for my thread on "Success Score" Not simultaneously, but yes. It would have opened that many trades if you placed the EA on the chart however many bars ago you used.

--- 帖子 #187 ---
Put the Hilo Trader Lines version of the EA on your chart. You'll notice that some trades took a long time to hit their TP or SL, during that time, a trailing stop would have ended such a trade in a loss. I realize that a trailing stop can help cut losses, but it can also cut profits. By my research, 40% of winners would have ended up as losers if I used a trailing stop. Perhaps you can show some hard numbers showing otherwise? Trend divergence is moving into the realm of human-trading. I know of no reliable way for an EA to calculate divergence.

As for tick feeds, they are all generally the same from what I saw. You'll probably see some errors in the EA. That's largely because my webhost closed my account. I ahven't seen tick streams from [TD] enabled EAs in 3 weeks. I'm trying to find a service that can host the database and handle the traffic that these EAs throw at it. So far, not much is working out. Major differences tend to come at news time, one broker may spike while another will not. General rule of thumb, a broker's quote is within 5 pips of any other broker's quote at one time--for mainstream pairs. Exotic currencies obviously have a larger difference between brokers.

--- 帖子 #188 ---
Ronald,

I have read the whole thread and I can't grasp the concept yet. I just put some numbers and these are the results on the below chart. Do you see anything wrong. This week will start testing. I am very interested in this project.

These are my settings

SL : 200

TP : 200

Win Percent : 90

Minimun Confidence : 90

Do you see anything wrong with the settings?

Thanks

--- 帖子 #189 ---
I think a trailing stop would be fairly detrimental to quick trades, but if this EA could place longer term trades based on the daily and weekly the breakouts are going to be much larger. So then a trailing stop would be a useful way to collect the profits in a manner that lets them run. perhaps even worth using on the 4hr, not sure.

If the EA's could prioritise your trades though. the best RR trades are going to be on the higher TF's and the worst on the lower TF's.

What if collectively the EA's could decide that a 4hr trade is an A trade 1hr a B trade, 1min a C trade.(just an example) to prioritise the trades with a better chance of return for the available account balance. So if not enough trades are being triggered by the higher TF's then the account is kept busy with the 1min trades.

Jacko posted live trades with trailing stops that did really well, ive noticed DANUK used them in his journal and James16 uses trailing stops aswell. they all take very big rewards compared to the risk to trade.

--- 帖子 #190 ---
Hello Ronald,

Thank you for sharing your system.

I've finished reading this topic. Looks interesting and i'm going to start this week "playing" with your system.

Regards, Peter

--- 帖子 #191 ---
I'm not sure how you are able to develop a correlation between a timeframe, and the likelihood of profitability. The EA trades based purely on price, not on any indicators which would be affected by time. The only thing that a timeframe change would do to the EA is decrease the Confidence level. The reason why is because the EA uses the past bars on the chart to determine if a SL or a TP is hit.

Jacko's trading strategy focuses largely on the trend, which is why trailing stops work well there. This strategy does not focus on a trend, it might if you use a large enough TP and/or SL...

I think I'll put that in the next version of the EA.

New features thus far:  Trailing Stop, more trade mangement Choose the timeframe to trade off of. Anything else?

--- 帖子 #192 ---
Those seem fine.

--- 帖子 #193 ---
Yeah I was just thinking of some much bigger TP's automated by a TS with 100 pip SL.

Can't think of anything else yet sorry.

The correlation I see is that with higher TF's you tend to have a lower success rate but the R:R is really high. Wheras with scalping you really need a high success rate because the rewards are so comparatively low.

Overall I think the best trades to be placed are in the higher TF but then your rate of compounding is far smaller than the scalper.

I thought it might be possible to get a happy medium using the EA so your compounding at a high frequency still by using scalp trades to keep the amount of trades nice and high whilst always including the best trades from the higher TF's.

Its probably too complicated or wont work but just an idea. All this was based on me thinking the EA is trend following though.

I look forward to seeing how the EA performs on monday.

--- 帖子 #194 ---
Thanks for your answer. On which pairs have you applied this EA

Thanks

--- 帖子 #195 ---
Nice numbers coming up again but no trades placed as of yet.

--- 帖子 #196 ---
That's a HUGE spread!!!

--- 帖子 #197 ---
Hi RR,

1.  The 'Bar Start' setting tells the counter where to begin counting past opportunities.  I have been assuming that bar '0' is the current, forming bar - is this correct?

2.  The EA will start at any number of bars after 00:00 ('initial range').  This allows us to determine when it will START its count for statistic gathering, and START to place trades each day.

What about adding the ability to set an STOP time?  So if one only wants the EA to look at the London session (as an example), one could set the EA's counter to STOP counting new highs and lows that occur after London has closed, and STOP trading at the London close.

Just a thought as I've been playing with it.

VBro

--- 帖子 #198 ---
Bar Start 0 means all bars. This is to generate the initial range. The reason behind this 'delayed start' is 1) to give the EA time to add the previous day's trades to the statistics generated, and 2) to give a sufficient hilo range to start trading off of. Trading Times are a possibility, I just need to figure out how to build that option into the backtesting engine I wrote.

--- 帖子 #199 ---
Just to be sure...

So if one sets Bar Start to 1, the counter would include all bars on the chart except the most recent bar, or all bars on the chart except the first bar?

Thx.

VBro

--- 帖子 #200 ---
I see.. and other than trade overlap nothing else? I still don't see how that could reduce an average of around 400 trades per week on GBPUSD (by the settings I extrapolated) down to only 4?

I mean, the daily range on the cable is somewhere between 150-200 pips on average. The high and low are hit numerous times as the trading range is established. Even with a 20 pip TP/SL, that's around 4-5 trades per day at a minimum. Unless there's something I'm missing here? :/

One thought I had regarding improving the EA is perhaps adding an option to the optimiser to actually optimise itself. As in - for example -provide a range for the TP, SL & InitialRange (not the BarStart number, as this is probably not so useful to optimise). I'm not sure about your PC, but a month worth of backtesting takes not more than 10 seconds for me. Even a very limited range for that optimisation procedure might work well.

E.g. TP 15-30 (5 pip step), SL 15-30 (5 pip step), InitialRange 10-100 (15 bar step) would be 192 permutations, and on 1 month of data probably take between 15mins-30mins (depending on your PC). Surely this would possibly add great benefit to the system?

A further step along - you could even utilise some sort of distributed computing backtest, whereby others could provide collaborative optimisation data who are trading on the same pair straight to a server, thus providing the best results for all. Thought that might result in a massive bandwagon effect which would end up shifting the market. But hey, it's a thought

--- 帖子 #201 ---
So I loaded this last night and set it with these settings:

Remark1=== Main Settings ==

MagicNumber=0

SignalsOnly=0

Alerts=0

SignalMail=0

PlaySounds=0

ECNBroker=0

EachTickMode=1

CloseOnOppositeSignal=0

Lots=0.10000000

MoneyManagement=0

Risk=1

Slippage=5

StopLoss=200

TakeProfit=200

Remark2=

Remark3=== HiLo Settings ==

BarStart=15000

InitialRange=30

WinPercent=52.00000000

MinimumSuccessScore=0.00000000

MinimumConfidence=90

It drew the initial ranges but no action took place when they were exceeded, nor did they get redrawn. WinPercent is 52 while CounterPercent is 55, did I overlook something simple?

--- 帖子 #202 ---
The EA would only include the previous bar (Current bar - 1)

0 technically disables the limiter, thus telling the EA to use every bar available.

--- 帖子 #203 ---
Optimization gets a little harder, but we'll see. The EA was originally designed for you to 'set and forget'. That is to say, you set the EA to whatever desired parameters you want, E.G. you only want to take trades which in the past month have a 60% chance of winning with a 1:2 risk:reward ratio.

As for a communal 'cluster computer' that's what I have been trying to implement, first with the tick database. Once the tick database is established and stable, phase 2 would be getting EAs to talk to each other similar to a P2P fashion. Then people with the exact same settings would be able to share stats with each other.

My main concern with Phase 2 and the tick database was the preservation of privacy.

--- 帖子 #204 ---
Did you set alerts?

Was there an attempt at a trade?

Did the broker 'hiccup'?

The main drawback of this EA is that it's very sensitive to these sorts of problems. There are usually one or two 'ticks of opportunity' in a signal. Most of my other EAs have 20-40 'ticks of opportunity', and thus are more likely to get their trade placed.

--- 帖子 #205 ---
I did not set alerts, there were no attempts to trade and no broker hiccups. Would changing market orders to limit orders solve this problem in the EA? In the mean time I'll try running it on one of my VPS' that gets a better ping to the broker.

--- 帖子 #206 ---
Still no trades placed and I have the EA running on EURUSD aswell as EURNZD.

I expect its because my internet is too slow considering it has such short windows to open trades.

I notice that terminal.exe is using up about 94% on average of my CPU. that shouldn't be so high should it? :S

--- 帖子 #207 ---
The CPU usage is expected. This is quite resource intensive.

--- 帖子 #208 ---
RR - interesting EA - what kind of profit ratio's are you getting on it?

--- 帖子 #209 ---
I'm having the exact same issue. Tried on a couple of different brokers, on two different PCs. I get no redraw when the high/lows are exceeded and I cannot modify the EA's properties once it's loaded. I actually think that the EA might be crashing.. Any thoughts RR?

Perhaps the updates you have made to the EAs have an issue? I've tried both the EA that draws lines and the one that doesn't.

Oh and one simple addition that might be useful for the EA - as opposed to setting an InitialRange, it might be better if we could either set a timezone offset for the broker, OR set a timerange at the start of which the backtest is run and from which the initial range is set.

--- 帖子 #210 ---
Ive had that problem where it seems to freeze and wont let you change the properties aswell. I just removed and restarted whenever I noticed it. Also kept asking permission for DLL calls even when its set to accept confirm all DLL calls for a few times most restarts.

--- 帖子 #211 ---
It seems to happen all the time to mine. Like only maybe 1 time out of 10 does it actually let me enter the properties of the EA. :/

Edit: Actually, I can only enter EA properties before a new tick has come through. Once a tick comes through the EA updates the status with the success scores and trade triggers but does not let me enter EA properties any more. At this point I'm guessing it's crashed.

--- 帖子 #212 ---
Those of you having trouble with the EA, what system specs do you have?

I'm running Intel Core i7 2.8 Ghz, 8GB DDR3 ram.

The main problem with this EA is that it is resource-intensive. I'm trying to streamline the code for version 2.

--- 帖子 #213 ---
Intel Core 2 Quad Q6600 2.4 GHz, 4 GB DDR2 RAM.

It doesn't seem to be a resource issue.. the backtest is extremely fast. It just seems to be unresponsive after the first tick comes through.

--- 帖子 #214 ---
Im gonna have to give it a miss untill it becomes easier for my computer to handle.

--- 帖子 #215 ---
I have the same issue of not being able to change the specs after it has been placed.  I can change the specs right away, but after a short while then it won't pull up the modify screen.

Also, I believe it should've taken a trade for me during the blue rectangle in the pic.  The green line hasn't changed, and was there before price traded up to that point.

Win percent is at 50.5

Min success score 0

Min Conf. 90

--- 帖子 #216 ---
RR I'm wondering if you modified the EA after posting it here initially, and if perhaps the updates have somehow broken it? Or are you trading yourself with exactly the same EA that is in the first post?

--- 帖子 #217 ---
I downloaded the EA and I'm currently running it. So far, it's working the same.

I may just end up releasing the source code, but before I do that, I'm looking at open source licenses, that way I can afford some protection.

--- 帖子 #218 ---
RR - Worked the same?  As in the same as those of us having trouble... or in the same as it's worked for you?

I think the ea should've taken a trade at the red line, which I highlighted the price area in the blue rectangle....?  The specs are the same as I posted in a few posts above.

--- 帖子 #219 ---
Hmm.. are you able to modify the EA options once it's received its first tick (and shows the success rates etc)?

If you choose to release the source code that would be very generous of you! It would be interesting to see how you've coded the self-optimiser. Hopefully you get the license issue sorted

--- 帖子 #220 ---
Worked the same as my other one.

I agree with your statement there.

And yes, I can change properties...so I'm wondering what I did differently.

--- 帖子 #221 ---
Hm. Well I'm going to try again on a third PC. Could you perhaps post a set file that does not contain your actual trading specs (unless you feel like it ), but one that you believe works fine? I wonder if one of the settings is playing up.

--- 帖子 #222 ---
Default except:

Lots: Non-zero

Win Percent: 50%

TP: 200 (5-digit)

SL: 200 (5-digit)

That should be the bare minimum.

The key is to make sure that one trading style is greater than 50%, and the other trading style is less than 50%

--- 帖子 #223 ---
Just tried that, as well as a number of other permutations. Basically as soon as the first tick comes through I can no longer modify the EA settings. It's as if the EA has crashed. Testing on FxPro's demo platform. Will try on a couple of others now. This is the 3rd machine I'm trying it on, and the second internet connection.

One thought - do you perhaps have it set to access a domain that is not resolving, but you have manually set in your hosts file? Or perhaps you're running your own DNS server and thus there's a lookup that works for you but not for the rest of us. Or could there be some sort of DLL call that's failing as we all don't have the file?

Edit: Same results on other platforms. Tick database connectivity perhaps causing the issue?

--- 帖子 #224 ---
I hope we can resolve this I thought it wasn't allowing me to change the variables because it was crashing on my slow comp. but with so many others having the same problem it seems unlikely now.

--- 帖子 #225 ---
The reason behind the bulk of your problems was a connection to my webserver www.RonaldRaygunForex.com

The EA has a time module which syncs off of GMT. The page www.RonaldRaygunForex.com/TickDB/Time.php didn't exist, and wasn't returning a 404 error, which in turn caused an infinite loop and furthermore resulted in the freezing of the EA.

I did some testing Friday afternoon before the market closed, and it looks like everything should begin working properly come the market open in a few hours.

For those of you anticipating the market open with this EA, here are some settings to try out:

Lots: Not 0

TP: 200 (5-digit)

SL: 200 (5-digit)

WinPercent: 50

Leave the rest as default.

The EA's trading style needs to read either "Breakout" or "Counter Trade" If it says "stand aside" change your win percentage so that one trading style is above it, and one trading style is below.

--- 帖子 #226 ---
I am on board here now, RR, and looking forward to the ride.

Your ideas are breathtakingly imaginative and have got my creative juices sloshing around. You are an extraordinary young man.

Cheers

--- 帖子 #227 ---
Glad to have you around Steve!

If there's anything I can do to help you with development of this concept, let me know.

--- 帖子 #228 ---
Hey Ronald.

I am glad that you are trying to find an algorithm for an EA to adjust itself. I am trying to optimize EA's as well but I use different methods (some arguably more effective), since I have some background in artificial intelligence.

I see that your bots are automatically collecting data. Does it work good? Any chance of getting these (of course history data helps speed up the backtesting and optimizing).

Anyway, hopefully I will post my results soon with data I obtained from forexite.com

--- 帖子 #229 ---
Collected data will be posted on RonaldRaygunForex.com eventually. I'm trying to work out bandwidth limits with my host.

If someone is willing to host these files, or if anyone knows a way to upload these files via script to a website (rapidshare?), I'm all ears. I don't want this account to be suspended like with my previous two hosts.

--- 帖子 #230 ---
Hey RR and Steve! Just have to say that I have been following both of your work for several months now and am awed by your abilities and desire to help others. Man it's great to see the two of you working together! I will be glued to both of your threads. Thank you for all that you have done and are still doing. Good luck!

--- 帖子 #231 ---
Left the computer on overnight with hi low trader running on AUDJPY and USDJPY, I can see that price passed below the red line on USDJPY its set to breakout (58.2%) and didn't place a trade.

--- 帖子 #232 ---
I guess I should've expected this sooner.

Last night I detected a decompiled version of this EA hitting my server. To prevent commercialization, I am releasing the source code in its entirety under the FreeBSD license.

The license is included in the source code, and you are required to read through it if you want to enable the EA. It's a shame that I have to do this.

License:

Copyright (c) 2010, Ronald Raygun

All rights reserved.

Redistribution and use in source and binary forms, with or without

modification, are required provided that the following conditions are met:

* Redistributions of source code must retain the above copyright

notice, this list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright

notice, this list of conditions and the following disclaimer in

the documentation and/or other materials provided with the distribution.

* Neither the name of Ronald Raygun nor the names of any contributors

may be used to endorse or promote products derived from this software

without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"

AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE

IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE

ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE

LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR

CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF

SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS

INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN

CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)

ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE

POSSIBILITY OF SUCH DAMAGE.

For those wishing to purchase a commercial license for this code, please contact

user Ronald Raygun on www.ForexFactory.com.

New settings:

extern int MaxSimultaneousTrades = 0;

extern string Remark3 = "== HiLo Settings ==";

extern int BarStart = 0; The number of bars before the current bar to start the backtest from. Set to 0 to use every bar.

extern int InitialRange = 10; The number of bars after the day's start to determine the initial hilo range.

extern double WinPercent = 0;The minimum win percentage required to trade. One trading style must be above this number, and the other trading style must be below.

extern double MinimumWinDifference = 0; The minimum difference between breakout win and counter trend win.

extern double MinimumSuccessScore = 0; Minimum success score required to trade. One trading style must be above this number, and the other trading style must be below.

extern double MinimumSSDifference = 0; Minimum difference between breakout SS and counter trend SS.

Note: If more than one of these parameters is enabled, the trade conditions needs to match all of the parameters set, otherwise, there will be no trade.

extern int MinimumConfidence = 90; The EA's backtester is sometimes unsure whether or not a trade ended with a win or a loss. This event adds a trade to the 'Unsure" column. If the percentage of unsure trades is greater than 100 - MinimumConfidence, there is no trade.

--- 帖子 #233 ---
Hi RR,

thanks for this gem.

Two questions / comments:

1. You said your EA does not have to be backtestable with the Strategy Tester because it has its own backtesting engine built in.

I agree, but there is one nice feature missing in your backtesting engine (if I did not overlook something) , which could be compensated by the Strategy tester:

A list of walk-forward trades and the resulting equity curve for an simulated run over let´s say the last two years.

Right now your EA tells us the success rate for a given past period and trades according to it (or stands aside).

If it would be possible to use it with the Strategy Tester we would have a nice auto-walk-forward tester, so we wouldnt have to wait for 2 years to see if it is profitable in the long run with some certainty.

If we combine this with the auto-optimization idea of Mindsphere, this would be the first MT4 analogon I know (and have been missing for some time) for these very nice tools for EasyLanguage (TradeStation)

-> http://www.thegrailsystem.com/

-> http://www.profsoftware.com/bt/

2.

Lets say we have 5 breakout bars in a row.

I mean that these 5 bars come in a row and make all new highs.

The Profit Target for all of these bars is successfully reached twenty bars later.

In your stats this would count as 5 successful breakouts.

However in reality we would have entered only one position (at least normally).

Wouldn´t it be better to count only 1 successful breakout instead of 5 ?

--- 帖子 #234 ---
1) It is impossible for the EA to backtest using the strategy tester because the EA is using the chart history. The backtester only loads the data it needs. So the most recent strategy tester trades would be useful and accurate.

What do you mean by a 'walk-forward'? A time-stepped backtest? Could you elaborate?

That is potential future development of the EA. Officially, there is nothing in MQL which allows calls to the strategy tester, so everything would have to be written from scratch. The backtesting code in this version of the EA took 6 months to develop a relatively light and efficient prototype, and another 1.5 years of forward testing to get the damn thing working as flawlessly as possible. I suspect continued development will lead to another few years until a perfected self-optimizing, self backtesting code matures. Hopefully, the addition of more programmers working on this concept will cover the 2 years in man-hours sooner.

2) I know, a lot of people have been complaining about this, there is a new addition in this current version of the EA which allows you to define how many simultaneous trades are allowed.

As for the given example, general rule of thumb, that sort of pattern is incredibly rare with 1:1 SL:TP ratio. If you increase the ratio to something like 10:1 SL:TP ratio, then yes I suppose that scenario is possible, and so is the converse... you could come across a long string of losing trades.

--- 帖子 #235 ---
Its placing trades for me now, got it running on AUDJPY and the small red bars are on the chart. but the small red bars aren't on my USDJPY chart even though its running on the chart the same as for AUDJPY. Perhaps it is only allowing AUDJPY to trade because its more volatile. (Ive been using the penultimate version)

--- 帖子 #236 ---
been running this bot for a week or so and today it took it's first trade on E/U a sell.Lets see what it does

--- 帖子 #237 ---
I am not sure I understood you correctly. Why should it not be possible to use history data in the strategy tester ?

With "walk forward" I mean to simulate the placement of trades (or staying aside) according to the trading style calculated by your EA for every single bar. I am aware that a simulated year could take ages to be processed as the statistics have to be recalculated for every single bar (that could be tweaked by adding only the most recent bars to the statistic and removing the oldest ones).

Probably I am missing something but I cant see what.

If you dont mind I could try to integrate this in your EA.

In my observations this happens quite often, even with a 1:1 ratio.

I have seen the "MaxSimultaneousTrades" parameter but it seems only to prevent opening more than one position, however it does not affect the statistics calculation.

If, in my 5 bars example, a single successful CT would follow, this would be a 5:1 win for the breakout statistic even if it should be 1:1.

--- 帖子 #238 ---
The EA checks bars on a chart, not true history data. At the start of a backtest, there are only a few bars, toward the end of a backtest, there are more bars.

The EA recalculates once daily. It's not the most accurate walk-forward, but the stats are being updated.

Check around line 520 in the code, there should be something that says "IsTrade = False;" that disables the "one trade at a time rule"

--- 帖子 #239 ---
Yesterday I enabled this EA on EU using M15 charts and today it had 3 profitable trades.

Thanks for the EA RR. I have set up additional charts to do some different tests.

Carol

--- 帖子 #240 ---
Thank you RR for the mq4 file.

--- 帖子 #241 ---
Hi RR,

I'm testing your new EA (HiLo Trader 2 [TD].mq4). However, when I run it, it does not show any status at the left corner of chart.

I have the default settings except LicenseCheck1, 2, 3, 4 and LicenseCheck5 changed to "I agree".

Please help. Thanks.

--- 帖子 #242 ---
You didn´t read the license (in the source code)

--- 帖子 #243 ---
You'll figure it out when you read the license carefully.

--- 帖子 #244 ---
hi Ron,

what the hard way have you chosen ?

But thanks for all you are doing and giving part of your knowledge.

Some points are not clear to me:

- bot make stats based on daily data: when day is starting : gmt, server time , else ? What about 24 or 48 or 72 h slide ?

- is that bot staying away from dead hours in small timeframes ?

- is that bot able to use multi core cpu or gpu with opencl or else ?

On my own, i try to trade and think that way: the simpler the better.

So, the title above:

- the biggest time frames include the smallest, right ? So, it's easy to find trends, ranges and decide if price will continue or bounce. That is the big picture (see gif below).

- then in the smaller timeframe, follow the big picture.

you can see on gif:

- the 2 yellow lines are 38 & 50 fibo-fan

- the purple line is 200 ema

- the others are slope & trendlines

- blue & orange horizontal lines are months sup/res

- range is built with i-regr

Of course, the weekly below can be split in daily then hourly and smaller if you want, but the big one is your guide anyway.

--- 帖子 #245 ---
here fibo- fan confirm that trend change on that small timeframe

--- 帖子 #246 ---
The underlying system is hardly complicated at all. The complicated part is teaching the EA when to trade with the underlying system. The damn thing won't listen to my lessons, so I have to write its brain myself.

For further clarification The bot generates stats based on bar history and the number of bars that it is told to check. The EA scrolls back and scans through the bars on your chart. The only timeframe that is relevant is the timeframe that the EA is attached to. No No Pardon my ignorance, but how is mentioning your system relevant to what I'm trying to do in this thread?

This thread--in case you haven't read it all the way through--is specifically geared toward designing an EA which can take an event, and decide on its own what its reaction should be during that event. I'm not looking to add indicators or filters. I am only interested in refining the method.

--- 帖子 #247 ---
Hi RR,

Could you please explain more what is MinimumWinDifference and MinimumSSDifference? How to define what is the suitable value for both? Any examples? Thanks so much.

--- 帖子 #248 ---
[quote=Ronald Raygun;3408002]Pardon my ignorance, but how is mentioning your system relevant to what I'm trying to do in this thread?

In any case i push "my system" against yours, it's not a "system". The general idea behind my comment here is that high time frames teach you where the prices are going, following a dynamic trend channel. Don't mind about what time frame is used as every smaller one is included into a bigger one, only spirit is important. That is where it's "relevant" when you teach the brain's bot. Nobody can see the landscape looking at his feet.

Just catch the spirit here, the gifs above only illustrate what i talk about: where is the main trend, no need multiple filters or indicators, it's only eyes catching. Hope you understand my bad English and i always read "all the way through" when you post something i can see, don't want to be rude anyway, just bring an other sight and contribute with my experience.

Regards

--- 帖子 #249 ---
RR

The ea in post 1 is it the same logic as the last one you posted

or do you recommend the latest posted

--- 帖子 #250 ---
Both the Breakout and CounterTrend Trading Styles have a WinPercent and a SuccessScore.

The purpose behind those two parameters is to tell the EA to trade when one trading style's win percent or success score is greater than another style's win percent or success score by x points.

For example, let's say that I set MinimumWinDifference to 20. That means that in order for the EA to trade either breakout or counter trend, one must have a winpercent that is 20% higher than the other. This I think will be more useful for people whose chart data isn't as complete as the rest of us, and which results in a low confidence level.

The same applies to the SuccessScore.

I'd suggest HiLo trader2. The main advantage over Hilo trader is that it can have multiple trades open--something a lot of people think is necessary.

[quote=dinofx;3408932]
I think you're trying to tell me that it is better to go with the trend, no?

This EA was intended as a swing trading/scalping EA. The complete landscape does not apply as much as the pit you would fall into if you didn't look at your feet.

This EA is designed to look for an edge during a certain event--in this case a new local high, or a new local low. During either of those events, there are two possible solutions: Trade the event as a breakout (New High: Long/New Low: Short) or trade the event as a counter trade (New High: Short/New Low: Long). The EA inspects the past to try and extract an edge. Does one trading style succeed x% more than another trading style? If so, use the other trading style. Simple as that.

In the context of trying to trade with the trend, that is certainly necessary if your trade will last a long time, and by long time, I mean greater than a week.

--- 帖子 #251 ---
thanks Ronald to take time to answer,

i'm sure you have understood what i meant, see any pair with W or Mn time frame like the weekly gif i've posted previouly. Month after month, price goes inside a nice channel. That don't mean i'm telling to trade with the trend on smaller time frame  !!!

Just to say that when this bot analize the risk and choose one scenario, it have to know if price is near or not the main channel border and if this channel is rising or not. This setting have to be known by the bot to exclude high risk and maybe send a buystop or sellstop.

--- 帖子 #252 ---
ok, lets get some good discussion kickstarted here....i havent tried this EA yet...i assume market needs to be open and so i will have to try it on monday...

i have been trading for the past 7 yrs....a year back, i met a friend from holland who was developing a similar ea, not for mt4 though...and i was very very complicated....the idea though was same....we joined together to make the ea better....the ea had 2400 parameters and we kept optimizing each parameter, backtested it using our own data and tried to find the best setting for each pair....

we found that for GU alone (which took all of 2 yrs with 40 systems running 24 hrs a day) but by then i was too exhausted and couldnt believe that trading could be so difficult and so complicated....and i stopped....

i can see that RR is also thinking on the same lines and its good to see....so how do we progress, is something that is still open to interesting discussion....

--- 帖子 #253 ---
The first batch of ticks have been delivered.

www.RonaldRaygunForex.com/TickDB/Archive

Currently, it's unrestricted, but if demand becomes too high, I will either restrict the download speed, the number of simultaneous connections allowed, or both. As an option, will someone take the responsibility of uploading the files to rapidshare, megaupload, or similar websites? That way, we can at least host these files in a cost-effective way.

--- 帖子 #254 ---
Thanks Ronald for this database.

I'm downloading the files at the moment. When I finish I'll upload them to rapidshare.

EDIT:

Rapidshare link to the database:
http://rapidshare.com/files/34346943...2010.01.23.rar

--- 帖子 #255 ---
Hi Ronald

Sorry if this is not the right place, I was looking at an results of an EA you wrote, opto 123, i need to ask a few questions on that, whats the best way to discuss that...thanks....sam

--- 帖子 #256 ---
Ronald et. al.

I've just come across your work here at Forex Factory in the past two days. I've read several of your threads from start to finish and by no means have I read all of them yet.

I've got a few burning questions: 1. I was fascinated and thrilled to see that in your OZ work you used an SL of 40, but it wasn't just an SL, but also a close and re-entry to catch the trend for the ride. If you got stopped out 4 straight times, your loss 160 pips. The genius being in you didn't open the number of loss contracts plus 1, but only one contract then moving your SL to break even as soon as it was reached. Did you consider opening the number of lost contracts plus one, two or three times? What was your decision based on?

2. In decisions of when to enter positions, have you considered times to trade, both entry and perhaps time to close all trades, like market close on Friday afternoon? Reading your flip a coin entry strategy, suggests the trade management is as much if not more important than entry. Have you done any statistical analysis to determine if one directional trading, ie only long or only short, is more profitable than both long and short trading?

3. What are your thoughts on trade direction and identifying and catching the trend?

3. What is your daily or weekly or monthly pip target?

Silly Patch

In VA

--- 帖子 #257 ---
Hi Ron

Your expert advisor makes a simulation trades using history data, yes?  Is it possible to export this results to Exel or other programm and sort  it by 'open hour'?

I will try to explain it on example:

EA opened 90 trades between 9.00 and 10.00 GMT (in simulation on history  data) 60 closed by TP 30 by SL, but between 12.00 and 13.00 GMT 130  trades, 50 closed by TP, 80 by SL (it's only sample values).

If we have got a results from backtest, we will compare it on chart and  we will know which hours are best for counter trading (or breakout).

Can I ask you for do it? I can't programming.

What do you think about this idea?

--- 帖子 #258 ---
Sorting by hour is a possibility. I just haven't released the EA with this feature yet. Still working out the IP rights.

--- 帖子 #259 ---
Could you add trading hours parameters to EA code?

Regards

--- 帖子 #260 ---
Hi Ron,

i get the same divide error issue...

it is due to the stats counters being zero because it would not find any winning and/or loosing trade during optimization.

This is also why we get high cpu load: the error pops all the time until we get those counters !=0, and that causes a looooooooot of "divide error" printouts in the journal (and it also creates huuuuuuuuge log files...)

To fix this, i changed the following code (2 places in the code):

Inserted Code //Calculate Stats
double BOWinRate = 0;
double CTWinRate = 0;
double ErrorRate = 0;

if (BreakoutTotal!=0) BOWinRate = (BreakoutWin / BreakoutTotal) * 100;
if (CounterTotal!=0) CTWinRate = (CounterWin / CounterTotal) * 100;
if ((BreakoutTotal + CounterTotal) != 0) ErrorRate = ((BreakoutTie + CounterTie) / (BreakoutTotal + CounterTotal)) * 100;
now it runs silently...

Sq;

--- 帖子 #261 ---
Ron,

Here is how i understand the strategy based on the the EA implementation:

- every day at midnigt (00:00), the EA "re-optimizes" itself;

- then it uses the resulting "trading style" (breakout or counter trend) for the entire day, until next midnight;

- "re-optimization" takes place over the past "BarStart" bars, and does this:

- each day at midnight, a first high/low range is determined over the "InitialRange" bars preceeding midnight; yellow vertical lines are drawn to show this initial range period;

- then, after midnight, this high/low range widens when price makes a higher high or a lower low;

- when price makes a higher high or a lower low, we test the outcome of a breakout trade and a counter-trend trade that would be sent at that time and price, and update win/loss counters for both styles;

- once we have covered the full "BarStart" period, we compare the win/loss results for breakout style and counter-trend style, and we select the best for the rest of the day, provided that the result ratio meets the expected inputs (WinPercent for instance).

There is an exception to the "midnight re-optimization rule": it optimizes immediately when you start the EA (it will not wait until midnight to estimate the first trading style).

If my interpretation is correct, then i have the following remarks/questions:

- the hi/lo range widens all day long and is reset only at midnight the next day;

meaning that the more we get into the day, the less we will be able to determine if market is moving to ranging type (and therefore take counter-trend trades rather than breakout trades ?)

If price starts retracing, then it may take very long before it breaks the other side.

Having a way to "refocus" the hi/lo range at regular intervals over the same day (instead of only once a day at midnight) would benefit, no ?

Perhaps a "ReOptimizeInterval" input could be interesting ?

Based on a duration rather than a number of bars to make it independent on the timeframe.

At the moment, we could say it's hard-coded at 24-hours interval.

- there is no way to tell the EA what trading hours we want to use, which would also be taken into account for the optimization process;

- on MONDAYS we have an issue: if i set the BarStart to be less than 2 days, say 300 bars on M1 chart (optimizing will take place only over the last 5 hours), then we don't get any trades on monday because the bars examined will be saturday and sunday bars, ending at 00:00 on monday morning.

At least this is what i observed in (visual) backtest.

If we set BarStart to be more than 2 days, then we still go over useless saturday and sunday bars.

I think we should exclude saturday and sunday from the examined bars.

(and from the bars used to determine the outcome of test trades also).

- "midnight" is estimated in local time.

Meaning that we will not have the same EA behaviour all over the planet, due to the hard-coded midnight trigger.

I hope i'm not completely mistaken here...

Sq.

--- 帖子 #262 ---
Should be midnight broker time. Basically, while the EA is waiting for the initial range to form, it reoptimizes itself.

Yes

It's more a backtest than an optimization, but yes.

No. InitialRange bars are the number of bars after midnight (day start).

Yes

Correct.

The theory behind the system the EA is trading is as follows:

"Whenever a new daily high or daily low is made, the price does one of two things:  Break out Retrace The purpose of this system is to decide whether or not a daily high is more likely to breakout than to retrace."

I never meant to code this for the purpose you're outlining, but this EA can certainly be modified to do that.

Correct. I didn't include trading hours because that would require more 'instances' of EAs, and this version of the testing engine only supports two (breakout, and retrace/counter).

The EA calculates its starting times based on shift. The bar shift is not converted to time.

Midnight should be when the broker's clock strikes 00:00.

These are all excellent questions. Keep them coming!

--- 帖子 #263 ---
Ron,

i found a bug in the way the high/low values are determined (took me quite a while to figure out why these @!?@$! iHighest/iLowest() functions did not give me the correct values!!!!)

Here it is:

this code:
Inserted Code             HighShift = iHighest(NULL, 0,[b] [color=Red]PRICE_HIGH[/color][/b], DayStartShift - RangeEndShift, RangeEndShift);
HighValue = iHigh(NULL, 0, HighShift);
LowShift = iLowest(NULL, 0, [b][color=Red]PRICE_LOW[/color][/b], DayStartShift - RangeEndShift, RangeEndShift);

should be:
Inserted Code             HighShift = iHighest(NULL, 0, [color=Red][b]MODE_HIGH[/b][/color], DayStartShift - RangeEndShift, RangeEndShift);
HighValue = iHigh(NULL, 0, HighShift);
LowShift = iLowest(NULL, 0, [b][color=Red]MODE_LOW[/color][/b], DayStartShift - RangeEndShift, RangeEndShift);

sq.

--- 帖子 #264 ---
I have been testing this EA for a while and really like it. Thank you for the contribution Ron.

I agree that making it more dynamic and sensitive to fluctuating market conditions would increase profitability. The only times I really see a problem is when new markets open and close. The back test show a counter trend as the better option then things breakout, sometimes missing the big moves.

I wonder if it would be possible add market times to the test variables so it could better predict daily patterns and when when to switch strategy. Would be cool to add news too.

Is this an EA you plan on trying to auto update with you tick data when you figure that out?

Thanks

--- 帖子 #265 ---
I also like this EA very much. I was testing it when RR first introduced it, but I was having problems because of it using a lot of resources.

I decided when I got a new computer, I would start testing again. I got a new computer last week and I set it up yesterday. Very nice.

Thanks to you, RR.

Carol

--- 帖子 #266 ---
Cheers rfking2 and Eureka.

rfking2, I actually have already done that for a self-optimizing EA. There's a hitch however, I do not want to risk having the trolls and promoters who watch this space steal and sell the EA. I'm currently acquiring international copyright certificates, and moving the bulk of the code to various DLLs.

If you have any more suggestions for DRM-like methods I'd be more than happy to hear them. Until I'm satisfied that there is no chance anyone can successfully sell the EA, I will not release it.

--- 帖子 #267 ---
I was wondering how many currencies do you trade with using this EA?

I am super impressed with this EA. It's a real winner!!

Thanks, RR for presenting it to the board.

Carol

--- 帖子 #268 ---
Every one.

--- 帖子 #269 ---
Maybe you could store the sensitive code on your server and make a dll that calls to it when the mt4 is compiled. That way you would not have to worry about pirates.

Is that possible?

Another idea for DRM would come from the Mdriod bot. They have the EA call to their server to ensure a license exists.

--- 帖子 #270 ---
I'm using this EA with SL=TP=30 on E/U and G/U and it have a loss after 3 weeks !!

It trade counter trend when the market is flat and also when is strong trend ;(

What should I change? Can anyone post the correct settings?
LeW

--- 帖子 #271 ---
I keep getting an error in the Experts tab. Anyone else getting this?

2010.06.22 13:36:06 HiLo Trader 2 [TD] EURUSDm,M1: EURUSD Error:

<br />

<b>Warning</b>:  mysql_connect() [<a href='function.mysql-connect'>function.mysql-connect</a>]: User jedcaban_Feeder already has more than 'max_user_connections' active connections in <b>/home8/jedcaban/public_html/ronaldraygunforex/TickDB/Load.php</b> on line <b>11</b><br />

Could not connect: User jedcaban_Feeder already has more than 'max_user_connections' active connections

--- 帖子 #272 ---
A lot of people are starting to use this and other [TD]-based EAs I'm reaching the capacity in the tick database server. Currently trying to expand available capacity.

--- 帖子 #273 ---
Thanks for explaining.

--- 帖子 #274 ---
I just stopped a test on a demo trading every currency on every time frame. I doubt I single handedly over loaded the server, but maybe it will help

--- 帖子 #275 ---
How was your testing going?

--- 帖子 #276 ---
Currently roughly 2,000 instances of HiLo trader alone hitting the server. I don't think you're single-handedly causing it.

--- 帖子 #277 ---
Going good. I was thinking that having it on multiple time frames would be like doubling down on a good signal but the shorter time frames usually take the same trades at the same time. So there is no point in having many open. As I have said before in this thread, it is profitable, there are some improvements that can be made. But Ron is already on top of that.

--- 帖子 #278 ---
Thanks for the info, rfking2. My testing is also profitable. I would have to say since there are that many instances hitting the server, others must be finding it profitable as well.

--- 帖子 #279 ---
Hey RR, after the EA has been running for a while you don't need the tick database anymore right?  My impression was the tick database was for priming the pump when the EA first starts up.

--- 帖子 #280 ---
Good question. I was just about to ask that. :-)

--- 帖子 #281 ---
EA feeds tick database.

--- 帖子 #282 ---
Here is a map showing approximately where these users are concentrated. The accuracy of the locations is unknown, and in most cases, I can only locate users by country.

http://gyazo.com/f0d748a68bb5a7293a9394b0d251aced.png

--- 帖子 #283 ---
RR,

Will the EA always be reliant upon the server?

--- 帖子 #284 ---
Nope, tick database is independent of EA's backtesting.

--- 帖子 #285 ---
Ah, so the HiLo Trader 2 [TD] EA doesn't use the tick data, it just stores it?

--- 帖子 #286 ---
EA feeds the database. Tick data is sent to the database. As of right now, the EA is not designed to use the tick data, but it is possible.

--- 帖子 #287 ---
OK, thanks.  I had misunderstood how the EA was working.

--- 帖子 #288 ---
Do internal backtests ignore closeonoppasitesignal value and just use tp?

--- 帖子 #289 ---
nevermind, I finally found the mq4

--- 帖子 #290 ---
I'm the one on the left....next to that other guy.

--- 帖子 #291 ---
The young handsome one?

--- 帖子 #292 ---
I just got a new computer and I'm doing some extensive testing of this EA. I have a couple of questions for RR.

1. I guess by now, you have been trading this EA profitably for about 2 years. Approximately how many losing weeks have you had?

2. You said that you trade every pair with this EA. Does each one have it's own specialized settings or does the same settings work on all pair?

I appreciate your help. I really like this EA. It's so very unique.

Carol

--- 帖子 #293 ---
Maybe 5 or 6. Losing weeks tend to come when the overall market moves from trending to ranging or vice versa. Different settings based largely on spread and my personal knowledge with the pair.

--- 帖子 #294 ---
Thanks for your answers, RR.

--- 帖子 #295 ---
This bot turns into a nice little scalper during the Asian session when you change it from daily HiLow to hourly, force it to only trade counter trend, and have it close on opposite signal.

--- 帖子 #296 ---
rfking,

u scalping EURUSD? I've been testing it only a day and had a good positive result.

http://www.myfxbook.com/members/gett...me3wksea/32204

1288- GU 1hr

1289- GU daily

1298- EU 1hr

1299- EU daily

--- 帖子 #297 ---
Attachment

1298 looks good. I like the EURGBP because it stays in a nice range for a long time.

--- 帖子 #298 ---
rfking,

HiLo Trader Version 4; do u mind sharing that...impressive, interesting the up and down perimeters, I never could get success score higher than 60%

Thanks

--- 帖子 #299 ---
OH LOL... 4 is not a release by RR. Its my own unfinished experimental version. I just used the 4 to keep track of the changes I made in the code. I don't have any problem posting it. But I don't want to pollute RR's thread of a nice profitable bot with an experimental version that could potentially blow your acct, and has no guarantee of even working right. I think he has a much better version waiting to come out. The question is... When RR? We are waiting . Anyway, I'll post mine if he doesn't have a problem with it. But I am not responsible if your computer suddenly comes to life, gives away all your money, drinks your beer, and starts dating the television

--- 帖子 #300 ---
Haha I have no problem with you posting your versions, just kindly adjust the filename so it says something like: "HiLo Trader 4 [TD] by rfking2"

I also suggest you put a disclaimer in your post with the EA just to make sure you're covered. Oh yes, make sure the EA by default is disabled (lot size 0 or similar) that way, nobody can sue you for negligence.

As for future versions of this EA, I can certainly release them now. I'm still waiting on some IP certificates to come back from UK and Singapore. I've sold versions of this EA to some small hedge funds for as much as $60k I can't release the exact same one for free obviously and at the same time, I don't want to lose the consulting contracts I have with these funds.

What I've been doing is writing a version meant solely for open source while at the same time leaving me room to commercialize the EA concept. It's a tricky path, that's for sure.

--- 帖子 #301 ---
I would love to see your newer open source versions as soon as possible.

Ok so here is my edited version of HiLo 2. I have more things I plan on doing to this code when I get a chance. If you know how to code and want to help me develop it further, please post.

I am not responsible for you using this EA. By downloading it, you agree that any level of loss due to you using this EA is your fault.

Some of the changes include:

Using a magic number as 0 will make it your broker acct number.

When counter trading the bot now waits for a parabolic shift in the opposite direction before placing the trade. It will use the indicator provided. Printed on the screen will be "high shift" and "low shift" This is how many times the bot has touched a new high or low and not placed the counter trade because there hasn't been a parabolic shift yet.

Instead of just testing for breakout or counter trend, it will now test for break up, break down, counter up, and counter down.

Rather then using minimum score or percentage, it now uses straight statistics. So if break up wins more then counter down. Stat high will vote for break up. And if break down wins more then counter up, stat low will vote for break down. Then the bot will trade a breakout strategy.

In addition to the breakout and counter trend strategies. I have added two more. Up trend is when stat high votes break up and stat low votes counter up. The bot will go long on highs and lows. Down trend will go short on highs and lows.

Statistically = True

Needs to be true for the bot to decide a strategy.

BackwardsTrading = False

Instead of going long, you will go short.

HighlowD1TrueH4False = True

If true you will use daily HiLows, if false they will reset every 4 hours.

BacktestD1TrueH1False = True

If true you will optimize once a day, if false you will optimize every hour.

I think that's about all I did to this version. But I am not done yet. Happy trading.

--- 帖子 #302 ---
Hi rfking2, how do you go about continuing with the testing? I was doing forward testing for the past 3 weeks with interesting results, but faced with connection error since this Monday. Hadn't been able to continue with my testing for this entire week.

2010.07.15 08:49:10    HiLo Trader [TD] EURJPYm,M1: EURJPY Error:

<br />

<b>Warning</b>:  mysql_connect() [<a href='function.mysql-connect'>function.mysql-connect</a>]: User jedcaban_Feeder already has more than 'max_user_connections' active connections in <b>/home8/jedcaban/public_html/ronaldraygunforex/TickDB/Load.php</b> on line <b>20</b><br />

Could not connect: User jedcaban_Feeder already has more than 'max_user_connections' active connections

--- 帖子 #303 ---
That connection error has to do with my server, not with rfking2's modifications. I'm still trying a workaround for this error. Worst case, I'll rewrite the receiving script to fail gracefully.

--- 帖子 #304 ---
Thanks for the response RR. Cheers

--- 帖子 #305 ---
Wow.  Very nicely done, rfking.

Appreciate the time and effort.

--- 帖子 #306 ---
Hi guys,

I'm new here and I'd like to say I absolutely looove this ea. It just makes sense...

I realize the final version hasn't been released yet but can someone give me an idea of what settings would be a good starting point?

I just kinda winged it so far.

Thanks,

Kim

--- 帖子 #307 ---
Thank you MuddBuddha.

--- 帖子 #308 ---
rfking, I noticed that when running your version (4), the bot opens the initial position and then a corresponding position about (1) point apart.

Worked out nicely as it profitted all day, but I have the simul trades = 1, so....is that an enable point for more open positions, or a limiting parameter to a single open position?

Let me know when you get time.

--- 帖子 #309 ---
I finally have the last of the copyright certificates locked away in a safe deposit box. It's time to release a newer breed of EAs.

This specific EA I wrote almost immediately after I wrote HiLo Trader. I basically took the HiLo Trader concept, and extended it out to optimize the stoploss, trading style (breakout or counter), and trading hour. This EA is smart enough to understand that the market's behavior changes throughout the day, so in the morning, the market may be in a breakout mood, toward the afternoon, the market is more calm and better  for counter trending. This EA is capable of handling that.

This EA is unique in the sense that it almost completely ignores the start() function. That said, in order to start or stop this EA, you need to drag a new EA onto the chart or forcefully remove this EA. I suggest you save the settings you use as you cannot always change them while the EA is running.

Here are the settings. I will only explain the relevant inputs. If you don't understand an input that wasn't explained, I suggest you familiarize yourself with my other EAs as this particular EA was a fairly experimental test platform which--in the wrong hands--will quickly destroy accounts. I've modified the code to put in as many safeguards as possible, but you know what they say about idiot-proofing, they always seem to make a better idiot.

extern string Remark1 = "== Main Settings ==";

extern int MagicNumber = 0;

extern bool SignalsOnly = False;

extern bool Alerts = False;

extern bool SignalMail = False;

extern bool PlaySounds = False;

extern bool ECNBroker = False;

extern int SleepTime = 100; The number of miliseconds to wait between market checks.

extern bool EachTickMode = True;

extern int MaxSimultaneousTrades = 10; The number of simultaneous trades allowed at one time.

extern double Lots = 00.1;

extern bool MoneyManagement = False;

extern int Risk = 0;

extern int Slippage = 5;

extern  bool UseStopLoss = True;

extern int StopLoss = 200;

extern bool UseTakeProfit = True;

extern int TakeProfit = 200;

extern bool UseTrailingStop = False;

extern int TrailingStop = 30;

extern bool MoveStopOnce = False;

extern int MoveStopWhenPrice = 50;

extern int MoveStopTo = 1;

extern string Remark2 = "";

extern string Remark3 = "== Breakout Settings ==";

extern int BarsToOptimize = 0; The number of bars on the chart to use to optimize against. Set this number to 0 to use every bar on the chart.

extern int InitialRange = 60; The number of bars after  the day starts to calculate the high and low.

extern int MaximumBarShift = 1440; When testing a trade, this is the maximum number of bars a trade can stay open.

extern double MinimumWinRate = 50; The minimum amount of winning trades required as a percentage (0 to 100)

extern double MinimumRiskReward = 0; The minimum risk reward required for a trading system. MinimumRiskReward of 1, means the stoploss and takeprofit must at a minimum be equal.

extern double MinimumSuccessScore = 0; See my thread on success score to understand the calculation. This is the minimum success score required.

extern int MinimumSampleSize = 10; The minimum number of trades in a sample (One sample is a specific hour, trading style, and takeprofit/stoploss combination) required to optimize.

extern bool ReverseTrades = False; If set to true, long trades become short trades, and short trades become long trades, and the stoploss and takeprofit are reversed. This allowed me to separately test both the stoploss and the takeprofit in the optimizer itself.

extern string Remark4 = "== Optimize Based On ==";

extern bool HighestProfit = False; Highest pip profit

extern bool HighestWinRate = False; Highest number of winning trades

extern bool HighestRiskReward = False; Highest risk reward (calculated as reward amount / risk amount)

extern bool HighestSuccessScore = True; Highest success score.

To set this EA in a test-run state just to kick the tires:
Read the comments inside the code. There will be instructions to unlock the EA. Set the lot size to not 0. Make sure the chart has the right number of bars.

I cannot say this enough:

This EA is not user-friendly. This was almost by design. If you have very little experience with EAs, go and familiarize yourself with my other EAs first. I and anyone else who modifies this code and posts it in accordance with the license, will not be held liable in the event something goes horribly wrong. You are responsible for yourself.

--- 帖子 #310 ---
Basically, regardless of the MaxSimulTrades setting, the bot continues to open another position as long as the High or Low is struck.

The GBP/USD just pushed to a new daily high and the bot opened another position on each push totaling (4) positions before I disabled it, and "lined" another after being disabled.  So it would have been (5) positions on the GBP push.

Closed (3) for +$ and am letting the fourth run it's course, but I'm still a little confused as to why it seems to ignore that parameter.

--- 帖子 #311 ---
Take a look at the screen and you'll see what I'm talking about.

--- 帖子 #312 ---
Hey Ron,

For the setting BarsToOptimize, does it make sense to set this to 0 really?  Say I'm using this on an M5 chart, does it make more sense to set this to a value that uses maybe 5 or 10 days' worth of M5 bars instead of 50,000 bars?

--- 帖子 #313 ---
Wow!!!

login: 1755450

investor password: eqak4dw

server IP: 193.46.204.122

magic# 715=EU, 716=GU, 717=UC   ==>>> on M1 "Bar used" about 50,000 on printout

my MT4 setting: max bar in history and chart = 250,000 in Options=>Charts

mm=2% , all other is default
http://i26.tinypic.com/17uucx.png

--- 帖子 #314 ---
Which EA was running on this?

--- 帖子 #315 ---
Ah...OK.

I wish I could say I was surprised.

Ronnie has some talent.

He says he has black hair, but I think he looks more like this:

--- 帖子 #316 ---
Hey getting, what settings?

--- 帖子 #317 ---
Hey getting,

what was the initial deposit on this demo?

--- 帖子 #318 ---
setting:

http://www.forexfactory.com/showpost...&postcount=313

--- 帖子 #319 ---
I use 1.5M 1M bars. But it's up to you really. I don't know what the absolute best value is.

You ain't seen nothing yet!

--- 帖子 #320 ---
I have never had that problem before. What are your settings? I will check it out when I get home. Although it may be a mute point now that ron finally released his new version. I feel like a kid on christmas with a new toy to play with.

--- 帖子 #321 ---
I encourage you to develop your version rfking. You never really know what you'll come up with until you try.

--- 帖子 #322 ---
My "MACD EA" is kind of in the way, but based on the same fundamental optimising 7days on M5; EU & GU, based on this MACD EA: http://www.forexfactory.com/showpost...8&postcount=62

and working along side with:Automated Optimization of a Trading  Robot in Real Trading

myfxbook: http://www.myfxbook.com/portfolio/fu...me3wksea/32204

Thanks RR for your diligent hard work, meant alot to me!!!

--- 帖子 #323 ---
First, thank you so much RR to share these ea's with us. As a novice coder my jaw just drops looking at the code and at the results you get.

Without meaning to derail the thread, it seems that you are very concerned with legal issues. Have you been sued before by someone who lost money using an ea or does that happen in general? Reason I ask is that I see lots of people here on FF developing and sharing their eas and they usually seem less concerned. I certainly plan to share anything good that I may come up with in the future (don't hold your breath anyone) so if it's an issue it's good to be aware.

Thanks again for your hard work!

--- 帖子 #324 ---
The short answer is, yes.

The long answer:

I have been sued three times in EA-related cases, all three times I was sued for negligence. There was a time when I put in a default lot size of 1.0 in an EA. Someone who basically put what was left of their life savings into one of my EAs blew the account, and blamed me for it. He lost something like $5,000, but in the lawsuit, he claimed tens of millions of dollars in "mental anguish" and other BS claims. I won and the judge awarded me double my legal fees. It's been almost two years now I have yet to be paid by this guy. After this case, I changed the default lot sizes of my EAs to 0.0 to prevent any more stupidity on the part of my end-users.

Court case number two was a little more interesting. A 20-something trust fund baby got his hands on one of my EAs and used it without understanding what an EA is or how it works. He lost about $50,000 and daddy comes running after me saying I targeted his little boy. We both went to court, and ultimately, they settled with me before a verdict could be handed down.

Case number three involved a wannabe fund manager. The guy didn't know how to trade, and thought he could take a few shortcuts by imitating how I trade. It didn't work for him. He lost a significant chunk of client money--not sure how he got it in the first place--and he filed a lawsuit claiming that I 'neglected' to say that EAs are not perfect. Judge threw the case out in summary judgement.

There is a fourth case which is still pending with the FTC. A gentleman hired a programmer who in turn blatantly stole one of my EAs and sold it as USDBot. All his offers to settle were rejected, and we go to trial next quarter. I have every intention of seizing every dollar he made selling the code, plus any punitive damages, and making sure every person who bought from him gets a full refund.

I'm very careful around legal issues, because let's face it, if I lose a lawsuit, I could potentially lose everything. I've taken steps to try and protect myself against such problems, but at the same time I don't really want to test them. Lawsuits are expensive, time consuming, and ugly, I'd rather be trading. Look for a book called the "Stella Awards" it talks about stupid, funny, and downright ridiculous lawsuits. In the US, people sue each other for no reason at times, and what really scares me is they win. One example: An elderly woman sues three teenagers after they scared her when they baked and delivered cookies to her house. She refused to drop the case in spite of letters of apology sent from the teenagers. It was quite clear that she wanted money for her 'irreparable mental anguish' and she won the case. People like this are what scare me a lot.

With regard to intellectual property, my programming and trading experiences have taken me to a position where I now consult with small cap funds (< 10million) who either want to start an algo-trading business, or want to improve on their existing one. I've been paid as much as $10,000 an hour to lead development for an EA which is responsible for half the fund's earnings this year (3 million). I can proudly say that every client that has worked with me and followed my instructions has made back double what they paid me minimum.

This HiLo Self Optimizing EA is the first in a series of 8 EAs which collectively manage 17 million. I suppose you can argue that I'm a fund-manager by proxy. The value of these EAs is definitely high, and I need to make sure I have some sort of recourse against anyone who steals my code. I keep advocating on these forums that I want more open-source development for these types of EAs, and thus far it seems rfking2 was the only one to answer the call. I was hoping for some of the giants like SteveHopwood, Hanover, Hayseed, FerruFX, CodeMeister, et al to join together and come up with some sort of library to enable my newest EA concept which uses NeuroEvolution with Augmenting Topologies (NEAT). In short, NEAT is a program which writes a program I tell NEAT what the holy grail does/is, and NEAT tells me what the holy grail looks like. I figured I might as well be the change that I want to happen, and that's why I released this older EA.

--- 帖子 #325 ---
That was you, huh? I saw Mark Trenton changed his homepage listing the USDBot as "Sold out", and then heard that he had pending litigation. Well, good for you. I think this problem is more rampant than most realize. EA's are sold all the time on the ebay with no verification of the author.

I knew this day would come. I just thought it would be Cyberdine Systems that would be the forerunner in NeuroEvolution technology.

If a big dude in a black motorcycle jacket and sunglasses knocks on your door....well, your on your own then!

--- 帖子 #326 ---
F*ck me.... I'm surprised you still bother after all that grief.

--- 帖子 #327 ---
Hi RR,

Thanks for all your great work. Take a look at Support Vector Machines also. It seems they are the preferred machine learning method of late.

--- 帖子 #328 ---
SVM is more popular now because it's simpler to use. There are some inherent problems with SVM IMO

--- 帖子 #329 ---
Thanks for the reply. That's something to keep in mind for everyone who releases a piece of code here on FF. Even people who aren't from the US can still get sued there. I'm glad that you've come out on top in these cases and I really hope you continue to do so.

I would like to help with coding but tbh I lack the skills to do anything that complicated, back when I studied computer science things like NN were beyond anything we could imagine and since then my path has strayed far from coding. Still, if you need simple stuff done don't ever hesitate to ask me. I cannot imagine that the more established coders you mentioned are not willing to help, perhaps it's just a matter of pm-ing some of them and ask?

--- 帖子 #330 ---
Quick question here ... How long will it take to optimise before it will begin to make trades?

I have 1 million bars 1M on my screen for several hours now and no trades.

--- 帖子 #331 ---
I have been using for 2 weeks now, and the result is marvelous. Added 10% to my account(demo).

It seems I only managed to open GBP/JPY and not able to open other pair even "legal" to trade that position. And it opens 2 position(2 GBP/JPY) instead of 1. The position No.2 is opened after hitting the lower low/higher high. I believe there should only be one position open.

I am using HiLo Trader 2.

--- 帖子 #332 ---
Btw, I'm using money management, set to TRUE with the formula below.

Lots = MathFloor((AccountEquity()/10000000*Risk*StopLoss))*0.01;

It will use risk factor to determine the lot size.

In my case, I use Risk = 25, and it will give 2.5% max per trade.

Other changes I made included changing the success score to expected value.

double BOSuccessScore = (BOWinRate*TakeProfit-(100-BOWinRate)*StopLoss)/100;

double CTSuccessScore = (CTWinRate * TakeProfit - (100-CTWinRate)* StopLoss)/100;

And I only trade when expected value is higher than 200. Set MinSuccessScore = 200.

--- 帖子 #333 ---
Takes my computer 10-15 minutes.

--- 帖子 #334 ---
On my 2.66Ghz quad, it took about an hour per chart.

--- 帖子 #335 ---
I shuffled the settings like a deck of cards and searched threw every line of code. Unfortunatly I could not replicate the problem nore find any bugs. If anybody else is having this problem please let me know.

Thanks Ron, I came close to uploading it as Rons HiLo forgetting that we have the same name LOL. I certainly do plan on continuing my development of this EA. I am not so sure if the trend up and down idea will work well with any hourly arrayed optimizer. But time will tell. The HiLo entry is the most basic of entries and works well when optimzed correctly. I would like to test what other entries could be well optimized. Typically I would use a seperate EA to manage my trades, but the TP optimizer is working perfectly. All in all I see an infinite amount of potential in this EA. Keep up the good work Ron.

Anybody spell checking me can eat it cause I wrote this from my cell phone

--- 帖子 #336 ---
RR, a contributor to one of my threads brought this post to my attention.

Please do not take my lack of contribution here as lack of interest or support. Whilst I enjoy your description of me, I deny its accuracy. I am just a hack who bolts bits of mql4 code together to create trading robots. You have probably forgotten more about this stuff than I will ever learn.

I have been too busy as a mechanic to join in here. The speed with which I am coding robots is decreasing as some of them actually become successful traders, so maybe the opportunities to contribute may arise.

Just don't count on me contributing anything useful. I read the first few posts here when you started this thread, and recall not understanding much.

Cheers

--- 帖子 #337 ---
I appreciate your dedication to the open source. I have been reading your old threads and it looks like you have come a long way since your divide by zero error. Day 1 of testing this EA, first I looked at the code carefully and put it straight to a live acct. (Anybody new... this is never recommended unless you know what you are doing, and are willing to throw your money in the dumpster) I played with the settings until I was happy. Changed the code so I could visualize the HiLo lines. Then put it on low, 1 micro per trade, 1 trade per pair, on my nine most profitable pairs with the old HiLo. In one day ended up with $83 profit with 33 winning trades and not a single loss. I do have 1 floating -63 pip and I am waiting to see how the traditional Sunday volatility goes for the rest of my open trades. (bad for old HiLow) But with hourly arrayed optimization I am fairly confident in the bot. I heard about USDbot, didn't know that was you, good luck man. Anything you need I got your back, I am going to start reading up on NEAT asap. If by some random chance I do come up with something good. Its all yours to sell to a hedge. I used to own a mortgage company so I want no part of the financial industry. I'm in this to learn and share the knowledge.

Have a good weekend.

--- 帖子 #338 ---
Hi Ron,

Thanks a lot for sharing your new EA. It looks impressing.

Please tell me what's your SL, TP, TS and parameters to optimize?

I'm set HighestSuccessScore to true and use 1 000 000 bars to optimize and after 1hour it used about 40 000 ticks to optimize.

I have Pentium D 2x2,66GHz, 1GB RAM, Win7

Regards

--- 帖子 #339 ---
Lower the bar count I guess. 1GB ram is pretty small IMO, the computer I have this EA running on has 32GB and is running 20 instances of this EA.

--- 帖子 #340 ---
As a followup, consider the number of bars you're backtesting against in terms of the time. E.G. 1440 bars is one trading day. There are roughly 20 trading days in a month and 200 in a year.

1.5 million 1M bars is approximately 5 years of data to optimize against. Getting uses 50,000 bars which is approximately 6 weeks and has achieved pretty good results based on the screenshot I've seen.

--- 帖子 #341 ---
There really is no way to back test the HiLo Self Optimizing EA like any other EA is there?  I've tried and and under the Journal Tab in the strategy tester it says not enough bars on the screen. Is there a different way to do this?

--- 帖子 #342 ---
Hi Ron

Not sure if I should even be positing as I have not used the EA itself yet, but I thought I would throw out a couple of ideas while they are fresh in my mind - and before I forget them! Weighting: What I mean by this is having an overall number of bars to optimize and then within that having a subset of bars closest to the present that are given a higher weighting. So, you could have the optimizing period set to the previous 1 year of data, but then have the bot weight the latest 3 months of results more than the previous 9. (Kind of like the EMA giving greater weight to the prices closest to the present candle, if you see what I mean.) This should mean that the bot is more likely to be in tune with market conditions as they are presently. Trading sessions: Instead of making one overall optimized set of parameters, have the EA create 3 sets based on trading conditions in 3 periods of the day. Broadly speaking, we could call them Asian session, European session and US session (ignoring the fact that there are overlaps between these in reality, or we will end up with too many sub-divisions.) This should create sets that broadly reflect the specific trading conditions in each trading session, rather than one overall "generic" set. The bot would then use each set of parameters in turn based on what time of day it was. Pop these ideas in the recycle bin if they are not useful to you.

I am looking forward to working with this bot and seeing what it can do!

Cheers

Invisible

--- 帖子 #343 ---
Hello Invisible,

The bot actually breaks the week down into 7 different divisions for each day of the week and 24 different sub-divisions for the hours. Then only uses statistics from that same hour on that same day of the week to decide its strategy.

--- 帖子 #344 ---
I'm always looking for inputs and new ideas for this.
How should the weighting be done? Should the weight of each trade be calculated based on the number of bars between the trade entry and the present? As for using the weighting, how should I use the weights? Trades with a higher weight contribute more to the accuracy, profitability, and risk/reward readings? Another concern with weighting that I personally have is it turns the optimizations from a "lagging system"--a trading system whose parameters lag the market--into a "leading system"--a trading system whose parameters lead the market. There are pros and cons to each, namely that leading indicators have more false signals. I'm not trying to discount weighting in any way, I'm trying to find proper justification for weighting the testing data. As rfking mentioned, this EA already uses a more granular level of sessions, and that is the hourly periods. I could add more granularity to the EA, but then you begin to approach more extreme curve-fitting and exceedingly small sample sizes for each granular period.

--- 帖子 #345 ---
Ronald, your story makes me a little worried, cos i've often posted some junk code of my own...... dang, U.S. suers are everywhere.......

this HiLo EA looks very fascinating.  please allow a dwarf like me to ask a question:

this NEAT led me to think that HiLo EA is cored on (neural network), and i went thru your coding, seemingly it is NOT, but it is self-adjusting to a complicated set of pre-defined (specific rules). am i right? but are you working towards to use a neural network based EA? if so, MQL can be combined with neural network library in MATLAB (which is most accessible NN tool)......

just an idea if your goal is to develop an NN based EA.  i know i might totally mis-read your code and ideas, if so, sorry for that......

--- 帖子 #346 ---
I think adjusting max bar in history and chart have no effect on the EA  calculation, but I will post the result next week, I also testing HiLo-43kb  EA on InstraTrader - ECN 4digit broker , and on the bar used row it  shows bar used only at 2404(on EU M1) compares to 68,363(alpariUK EU M1)

have no idea why tick count and last cycle rows is still running, but  the CPU consumption is very minimal compares to when the market is  active.

Carol - from the time when I drag the EA onto a chart and load my saved .set file to the time it finish calculating(when a bunch of rows and paragraph blanket your left side of the screen) is probably 10-15 seconds.  Is that what u getting?

I'm little unsure of maxSimultaneousTrades being 10, but thanks for adding that feature RR.

--- 帖子 #347 ---
This EA is designed to optimize one trading system. There is very little flexibility here.

Neural networks are designed to modify and adjust one trading system. There is more flexibility in the sense that all the inputs are adjusted for the output layer.

NEAT is designed to build, modify, and optimize a trading system. This is basically one step above a standard Neural Network in the sense that I don't have to design the neural network's hidden layer anymore. All I do is give NEAT the input layer (current bar, OHLC, MA values, tick values, etc etc etc) and the output layer (buy, sell, do nothing) and NEAT fills in the hidden layer. With a traditional neural network, I need to put in the hidden layer myself.

Are you sure you have all the bars in history? Check your history center (F2), I suspect you don't have 50,000

--- 帖子 #348 ---
Thanks Ronald - I overlooked downloading M1 history on EU, GB, UC; Now the CPU going nuts calculating

now database said "database = 250000, 3,700,000 records"

glad I got this part taken care of before the week begins.

Carol- 15sec was wrong, since I didn't download M1 database, sorry.

I hope my VPS resource is up to tasks....hahaha!
http://i31.tinypic.com/jrfii1.png
http://i30.tinypic.com/1627ifc.png

--- 帖子 #349 ---
I am not sure that my suggestion would make the system a "leading system". I think all systems inherently lag as they all use past data to make future projections.

To elaborate a little, it seems that right now a user can either choose to optimize over a long market period, or a short market period. If the user chooses, say 1.5 million bars, then the bot will produce settings that would have worked very well over the last 5 years. However, as we know the market moves in phases, and what has worked in general over the last 5 years, may not have worked very well in the last 3 months. So another user might optimize for the last three months only. It is an either / or choice.

My idea to get the benefits of both long-term optimization and reflecting short-term current market conditions by weight the results from the recent period more heavily than those from longer ago.

You could do this by having 4 inputs: Number of long-term period bars, long-term weighting, number of short-term period bars, short-term weighting.

So, for example, if you say that 1 year is 200 trading days, and three months is 60 trading days, you could set up an optimization as follows to have the bot optimize for the last year, but to value what has worked best in the last 3 months one third more than what had worked in the 9 months prior to that:

Number of long-term period bars = 288,000, long-term period weighting = 1.0, number of short-term period bars = 96,400, short term weighting 1.33. In other words, the success quotient of the first 191,600 bars (the first 9 months) in the 1 year period starting 1 year prior to the current time would be multiplied by the weighting of 1.0. The final, most recent period - the 96,400 bars prior to right now - would have the success quotient multiplied by 1.33. (In other words, the most recent three months of results would be giving a third more "weight" than the previous 9 months of result.)

You could then either simply add the two scores together to give the overall success score, or you could normalize it: ((long period success quotient * long period weighting) + (short period success quotient * short period weighting)) / (long period weighting + short period weighting) Normalizing it would then mean that you could compare it with figures produced without weightings, which might prove useful in some cases.

Math was never my strong point, so I hope I have gotten this idea right!

Anyway, I hope that in some way or other this weighting idea is making sense, and if it is useful, it would be interesting to see how it could help the bot.

As rfking mentioned, this EA already uses a more granular level of sessions, and that is the hourly periods. I could add more granularity to the EA, but then you begin to approach more extreme curve-fitting and exceedingly small sample sizes for each granular period.

--- 帖子 #350 ---
Here is another way you could use the results from two different periods of optimization:

A good manual trader can look at a chart and know right away if the pair in question seems to be behaving in a normal or abnormal way. If this trader opens his MT4 in the morning and sees patterns that look strange (unusual volatility / lack of volatility / spikes etc) he will go to check out the current business news, the stock indices, the upcoming announcements etc to see what is the deal, and at that point he may either decide not to trade for the present time, or to use a different system to the one he would usually trade.

It is not reasonable to expect a program to do that. However, your program could do something like this: Take the parameters generated by a long-term optimization and compare them with those generated by a short-term one. Then if the short-term results were within a user-defined distance from the baseline long-term results, the bot would be allowed to trade, if outside then it would not be allowed to trade at that time. If it was allowed to trade, then if would use the parameters generated by the long-term optimization to place the trades.

So a user could have the EA establish the long-term parameters for a particular pair over 1.5 million bars (5+ years), but have it continually compare the parameters generated from an optimization of the last 10 days (2 trading weeks). The user could then, for example, allow the bot to trade if the results from the last 10 trading days were within + /- 10% of the results from the 1.5 million bar long-term baseline. (In other words, the bot would be able to say whether the pair had recently been trading within the "normal" range of parameters for this pair or not. Of course, if would not be able to see the upcoming NFP / tsumani / black swan, but it would at least be able to say, "The XXXYYY pair is currently trading in a typical way, so I should be able to use my long-term optimized parameters safely at the moment.")

Recycle if this is not useful.

Cheers

Invisible

--- 帖子 #351 ---
After trading commenced the EA waited x amount of bars before setting HiLos. However it did not take into account market movement during those bars to calculate HiLos. On pairs showing a downward trend, the hi is not as hi as it should be. This may be due to the way StrToTime is calculated.

--- 帖子 #352 ---
What is the general practice for end of week? Let the EA run through the close with positions open or shut it down and close out everything beforehand?

Im having a blast messing around with this

--- 帖子 #353 ---
Could you elaborate?

The EA optimizer includes weekend gaps as well, I quite literally set it and mostly forget it.

--- 帖子 #354 ---
I didn't have this problem with the old version. So looking at the HiLo calculation code I see they they have roughly the same logic written differently. If RangeStart = DayStart - InitialRange and HiLos are calculated from RangeStart then it seems to me that if InitialRange = x the EA should be looking x bars beyond DayStart and then also waiting x bars after to place a trade. Giving you 2x bars to calculate HiLo. However this pic shows the EA waited x bars after the market opened to begin calculating HiLos and began trading at the same time. That negates the point of using InitialRange, and runs the risk of a breakout trade being placed when it should not be.

Since the formula looks correct to me, I looked at the differences between the two EAs. Primarily the DayStart calculation. In the old version you used Period_D1 to calculate both DayStart and HiLo. So even on a Sunday, no matter what time zone you are in, when the market opens it is a new day. The new version uses StrToTime("00:00") to calculate DayStart. StrToTime Calculates local pc time rather then server or GMT time. Since it is not midnight here, that line of code may be causing the bug. Just a theory, because I did not have this issue last week at midnight. It worked as it should.

--- 帖子 #355 ---
Well, after trying and trying, it seems your limited to < 10,000 records for M1 and @ 2077 for M5 on any pair.

I tried downloading through a 5 decimal IBFX demo and migrating the data....NO

I tried downloading the data via demo and then logging in to my live account....NO; it just reverts back.

If anyone else is using IBFX and knows how to increase the records in the History Center, let me know.

I already have the Bars on chart and in history and all that set to the maximum.

--- 帖子 #356 ---
EDIT2:  Or.. I could just be a retard who forgot to modify the code to change reject to accept.... lol

--- 帖子 #357 ---
OK, being that I'm using IBFX as well here are some "problems" I've run into.

First, being that I am using Windows 7, windows likes to "lock" programs out from editing files in their default installation directory of "Crogram FilesInterbank FX".  This "Could" be preventing MT4 from being able to save the downloaded data.  The solution I have found is simply to uninstall and then reinstall into a different "unprotected" directory, IE: C:MT4 Trader.  Why windows treats programs installed in a "Program Files" subfolder differently then if you installed them somewhere else I'll never know, but it does and has solved a LOT of my issues with applications and games not saving their data properly.

Second, IBFX doesn't provide historical data, if you pay close attention to the message that pops up when you click download in the history center, its telling you it will download the data from "Metaquotes Software Corp" and not IBFX.  This could be why your having issues importing/exporting the data. (also MT4 seems to store different history data with different profiles, so when you log out of the "demo" profile its data is no available to the "live" profile.  You will need to log on demo, export, log on live, import.. though you mention you already tried that)

Third, I seem to be limited to 65655 records on my IBFX account even though I set the max bars to 250k and the history to 512k.  No idea how to get around this as I have tried manually typing in numbers and saving the setting, but no matter what I put in there it "caps" out at 65655.  Limitation of IBFX servers possibly?

--- 帖子 #358 ---
To download more bars: http://www.easyexpertforex.com/backt...imization.html

Use this source: http://www.forextester.com/data/datasources.html

I think you're right. It's mentioned here: (http://forum.mql4.com/33023). I wonder how I didn't have any trouble with this... If anyone is good with timezone math, I'm in the New York timezone (Eastern).

--- 帖子 #359 ---
I'm in Seattle so you are a few hours ahead of me. I think this bug only happens on Sunday open. So it could be easy to overlook if your not paying attention. But that also means that everyone using this EA has different HiLos depending on their timezone.

--- 帖子 #360 ---
OK, so after reading and re-reading how to get this EA working, I "believe" I have everything set up correctly.  So after dropping it on a chart I've been waiting now for several hours for it to finish optimizing, but nothing has changed since I started it except the cycle count.  This is what the EA is showing me.

Attached Image

All settings are default except for lots, I changed it from 0.1 to 0.01.

So should I keep waiting?  Reset and try again?

--- 帖子 #361 ---
You can only optimize by one parameter at a time. You also may have set a parameter like success score too high. I find it easiest to use WinRate. You need to find a sweet spot with the setting that will give you a TP, risk ratio, and win parentage that you are comfortable with.

--- 帖子 #362 ---
So I follow your advice and tried again changing the optimization from success score to win rate and sure enough it appears to be "working".

Funny it didn't work when being optimized for success score and a minimum success score of 0 setting.

Something else that strikes me as odd, I'm currently showing a win rate of 50%, RR of 16.56, and a success score of 828, which if those numbers are to be believed are amazing.. guess I'll let it run for a week and see what shakes out.

Attached Image

Also my TP is showing 414 in that screenshot but has since become 720.  Does the EA auto set TP levels?  If so was there any reason to put a TP SL setting in the EA?

--- 帖子 #363 ---
If setting the winrate or success score to a value such as 100, when on the chart it is showing a lower value, how does it ever take a trade from that point on?

If changing the riskreward value to anything other than zero, is it necessary to turn off the the SL and TP?

Thanks for sharing.

--- 帖子 #364 ---
If ReverseTrades is set to false, the EA tests all trades with a SL setting of whatever SL you set.

If ReverseTrades is set to true, the EA tests all trades with a TP setting of whatever TP you set.

The optimization engine of this EA is a lot more efficient than a traditional optimization. Depending on how ReverseTrades is set, the EA will pick either the SL or TP value, and all trades will be tested against that value. Once the TP or SL is set, all that's left to do is find the largest value of the other side between the time the trade is opened and the time the trade either hits the SL/TP (depending on what you set). Then the EA calculates the profit/ loss against that.

So for example. I size my lots so I will lose at a maximum, 200 pips. The EA takes that 200 pip value and finds the largest takeprofit value which meets my win rate, risk reward, and success score requirements. Conversely, if I set the EA so that every winning trade will always win 100 pips TP, the EA then goes through every trade and finds the smallest SL value which meets my criteria.

--- 帖子 #365 ---
I should probably elaborate how the backtesting and optimization work.

There are three major steps the EA goes through: Run through all the bars in the backtesting period and write any trade data to a file. Read the file into a series of arrays based on the hour and trading style Calculate the highest TP / lowest SL that meets the criterion. A traditional optimization tests every single permutation, and that has the tendency to take a lot longer.

--- 帖子 #366 ---
I would think that when the EA first starts and uses only bar data for the backtest, it's only an approximation since the bars gloss over the fine movements.  As the EA runs and gathers live ticks its optimization would become more precise since it's based on fine-grained data.

--- 帖子 #367 ---
Trickier. It's hard getting a reliable seamless set of tick data to test off of. One day's worth of tick data is pretty insignificant. You'd probably need one week minimum for marginally improved results.

--- 帖子 #368 ---
I'm using IBFX to test. Last week I contacted them and they sent me data on E/U back to 4/17. I thought I should get the data from the source on whose platform I'm testing. (?) In the History Center, there is data going back to 4/17 and there were over 65,000 records showing. I now have 69,570.

Friday, I set the chart up on EUR and on the Bars To Optimize, I set it at 50,000. On the Options >Charts, I had Max bars in history = 250,000 and Max bars in chart = 250,000.

It started running about 9:30 Eastern time on Friday. The Cycle Count and Last Tick were quickly changing. I checked it periodically on Saturday but finally on Sunday morning after about 48 hours of running, the Cycle Count was over 1.6M. I removed the EA.

Yesterday afternoon I set the 'Bars To Optimize' to 0, and after a few hours the Cycle Count was just under 400,000. I stopped it again.

--- 帖子 #369 ---
Ronald,

Thanks for the EA. I have install the first EA Hilo Trader[TD] and everything is fine. This week the EA has triggered 2 positions both winners. Now I have the EA Hilo Self Optimizing running but the face on the right upper corner is disabled and the Cycle count is running indefinitely. I also changed the "Reject" thing for "Accept". The other parameters are the same as Hilo Trader[TD]. Can you tell me what may be the problem. Thanks.

At the time of the picture Hilo Trader[TD] shows Trading Style: Counter Trend while Hilo Self Optimizing shows nothing.

--- 帖子 #370 ---
That is expected behavior.

The EA is basically running on an infinite loop. Cycle count is the number of 100 ms intervals that have passed between the last tick and the present. The EA was running over the weekend it seems so it's expected that cycle count goes into the hundred thousands.

and ForexAccount, HiLo SO is a lot pickier than hilo [TD] due to the nature of the optimization algo. What were your SL and TP and ReverseTrades inputs?

--- 帖子 #371 ---
I will let it run then. Late this morning I started it again.

--- 帖子 #372 ---
SL = 200

TP = 200

ReverseTrades= False

Does the disabled face looks correct?

--- 帖子 #373 ---
Frowny face is adjusted in the common tab when you're setting up the EA.

As for your settings, it looks like your TP is pretty small depending on the desired win rate, risk/reward, and success score. More likely than not, the optimizer EA couldn't find a setting which met your criteria.

--- 帖子 #374 ---
So Ronald, it is going to be a paint in the ass to find the right settings. i am not asking you to provide them because I know what is your answer about that but "for you" finding the rights settings is a lot easier because "you know how the EA works" and you know what you are looking for. Can you elaborate more in how to set this EA properly. Thanks

--- 帖子 #375 ---
It *is* a bit of a pain that you can't change the settings while the EA is running.  I guess just re-dragging the EA onto the chart with new settings is OK.

--- 帖子 #376 ---
With the exception of the code change, the default settings should work already.

I agree. That's the problem when you can't use the start function unfortunately.

--- 帖子 #377 ---
But, I have default SL 200 TP 200. you said that EA won't trigger any trade with that!!!  I already reset the EA

--- 帖子 #378 ---
Now the EA is telling "Break Out". Why is it different from Hilo Trader[TD] which shows "Counter Trend"?

--- 帖子 #379 ---
Okay.

Delete old EA, put in new EA, download and import bar data (www.forextester.com/data/datasources.html) start again.

--- 帖子 #380 ---
Ok Ronald, i have data from 2001 Hilo Trader[TD] Shows "BreakOut" but Hilo Trader Optimizing (New EA, old removed) shows nothing. Only the happy face but nothing more. I changed the "Reject" string as well. See picture. You can see there is no text on the left. Oh, SL, TP is again 200 as copied (default).

PROBLEM RESOLVED. I RESTARTED THE PLATFORM AND THIS TIME IS WORKING. LET SEE HOW IT GOES. ANYWAY STOP LOSS, TAKE PROFIT IS STILL 200 BY DEFAULT BUT YOU SAID THAT 200 IS TOO SMALL. LET ME KNOW

--- 帖子 #381 ---
So if I understand that statement correctly, my Cycle Count should not currently be 501634 as it is Monday, the EA is on a 1 minute chart, and I know I'm getting ticks.

I set it up on another chart to see if I can use Reverse Trades = True with a TP of 50 on the EUR/USD 1M.. sure enough after if finished its optimization is showing me that the TP is 24 not 50.  So then I looked at the code..

if(!ReverseTrades) TakeProfit = CurrentHighTP;

if(ReverseTrades) StopLoss = CurrentHighTP;

Which leads me to believe that setting Reverse Trades = True does what one what would think it does, and simply reverses the trading logic rather then sets use of SL and TP levels, which struck me as odd in your description of the setting.  Upon further examining the code I believe it would make more sense to create additional settings "Use Hard SL"  and "Use Hard TP" and then change the current "SL and TP" descriptions to read "SL Range" and "TP Range"

Also your comment string needs to be changed from:

string CommentString = StringConcatenate("Broker Type: ", BrokerType, "n",

"Last Optimized: ", LastOptimize, "n",

"Bars Used: ", BarCount, "n",

"Total Bars: ", Bars, "n",

"Current Hour: ", CurrentHour, "n",

"Current TP: ", CurrentHightTP, "n",

TO:

string CommentString = StringConcatenate("Broker Type: ", BrokerType, "n",

"Last Optimized: ", LastOptimize, "n",

"Bars Used: ", BarCount, "n",

"Total Bars: ", Bars, "n",

"Current Hour: ", CurrentHour, "n",

"Current TP: ", TakeProfit, "n",

"Current SL: ", StopLoss, "n",

So that it displays both the SL and TP levels, and will correctly display what the actual TP and SL are

--- 帖子 #382 ---
Yeah.... that's a problem. Maybe the issue rfking2 mentioned earlier is happening here.

--- 帖子 #383 ---
oK I thought that everything was fine but I saw the EA stop at a certain number and it's been a while.See picture. Is there any problem in having both EA's Hilo Trader[TD] and Hilo Trader Optimizing running on the same platform? I have an Intell core Duo 3 GB of RAM. I noticed that the EA stopped after a new tick kicks in

--- 帖子 #384 ---
Great piece of work here Ronald! I've been playing with it for the past couple of hours. How difficult would it be to adapt this to have round numbers (00's) as the focal point instead of the current day hi/lo?

--- 帖子 #385 ---
I'm wondering why your start times are in 1970... What does reloading the EA do?

--- 帖子 #386 ---
Quite difficult. There are theoretically infinite round numbers, and only two hilo numbers.

--- 帖子 #387 ---
But only the two around the price at each point in time would be of importance for backtesting

Inserted Code    int mult=1
if (Digits == 4 || Digits == 5) mult = 100;
double RNabove = MathRound( ( (Bid+Ask)/2 + MathPow(mult,-1)/2) * mult)/mult;
double RNbelow = RNabove - MathPow(mult,-1);

--- 帖子 #388 ---
Wow, popular thread today.

I think there is a mix up here between last tick and cycle count. Last tick resets to 0 on every new tick. Cycle count does not, it just keeps counting until you reset the bot. This is normal, will not cause any problems, and has nothing to do with the bug I noticed. However if it stops after the bot is already loaded, then you might have a problem.

--- 帖子 #389 ---
First off, I'd like to say that I love the potential of the EA.

My question is this... if it is to be truly a self optimizing EA then why not have the EA to automatically set the the TP and SL itself from the data it is using to optimize itself?

--- 帖子 #390 ---
Ok Ronald, I just reloaded the other time frames. Now I have BreakOut for Hilo Trader[TD] and nothing for Hilo Trader Optimizing. See pictures

--- 帖子 #391 ---
In my EA (just a keyboard-driven helper) which is looped (for better sensitivity to keyboard input) too, I use a global variable. If I set it (via F3) to some defined value (eg. 1), the loop will break and EA continues to run tickwise and settings can be invoked.. if the GV is reset, loop resumes /starts again after start()/.

--- 帖子 #392 ---
Strange stuff... TP is -1?

Did you use default settings?

What I don't get is how some people are having no trouble with this EA and others are...

--- 帖子 #393 ---
is the timeframe maybe screwing him up?? he is using H1 in that second shot.

--- 帖子 #394 ---
I think everything is fine now. I left the standard settings except the broker type to true (5 digits here). Will leave it running for the week and will advise.

--- 帖子 #395 ---
Quick question, has anyone been able to get these (or any) EA to actually make trades using IBFX since they did their change over this weekend?

I busted out some of my older EA's and tested them but for some reason I'm getting no trades and no error messages... I even made an EA that trades if close > open or close < open just so I knew that it would be sending trades.. nothing.

May be time for a new broker

EDIT:  Well, apparently IBFX is using some kinda shitty ECN esque system now..  Explains why "most" of my EA's aren't working.

--- 帖子 #396 ---
anyone tinker with "MaximumBarShift = 1440;" ?

I knock it down to 30 with ReverseTrades = True, not bad last night, but no trade today.

putting up another instance, but now with BarShift=60

--- 帖子 #397 ---
Ronald,

it is 12:42AM ET and both EA's have triggered buy positions with 3 previous resistance tops. Why would I be interested in opening a buy position with three previous tops. Is this a logical approach? Is this included into the EA? We have already (5) 30 Minutes resistance bars on this level. I am not criticizing but trying to make it better. If we have a "BreakOut" style I would check (before opening any buy position) how strong is the level and a good way to do that is looking for previous highs. If I see more than 2 tops I would diminish the idea of going long,(the same for going short) and this is even more important when you are scalping the market because any minor retrace would stop me out for sure. I will give results. Le's see what happens. Thanks

Oh, both trades were opened with the sames SL, TP. 20 pips SL, 10 pips TP. Hilo Trader Optimizing is set by default. On Hilo Trader [TD] I have TP SL set at 20. Something went wrong with this. May be I have to put a magic number for both EA's

--- 帖子 #398 ---
On the self optimizing ea I have the same TP -1 thing like ForexAccount had before. I have used the default settings except for barstoOptimize (60000) and MaxTrades (1). ForexAccount, how did you fix it? Or did it fix itself?

I did have it working earlier though. Funny thing then was that the HiLo Trader2 and the self optimizer didn't agree with each other. On the same currency pair (on different brokers) one said countertrend and the other went for breakout. For now the HiLo Trader 2 seemed to be right.

On another note, I've been trying to find stuff to read about NEAT but I'm still looking for something at the entry level. If you have a good link or know of a book then I'd like to hear about it. Failing that I'll just download one of the software packages and start playing with it, see what it does. Since some of those come with tick tack toe to train it I hope it will not come to the same conclusion on forex as the super computer did in wargames: the only winning move is not to play  Anyway, on the NEAT homepage you've got the email address of the guy who came up with it with an invitation to contact him for advice. Perhaps when you get the ball rolling he could be your first stop.

--- 帖子 #399 ---
I download new data from the link Ronald provided and imported it to MT4. After that you have to click on all time frames to create new data for every time frame. After this you can load the EA.

--- 帖子 #400 ---
Ok Ronald,

It is 1:58AM ET both EA's looks they have a Duracell battery or something. They just opened 5 positions each one. After 2 minutes 2 positions were closed and 2 more were opened. See picture. This happened only in one pair. Can you tell me if this is a normal behavior? Thanks

--- 帖子 #401 ---
Oh Ronald, your EA's look's they got a testosterone shot today. The just keep opening positions as soon as TP is reached. Is this normal?

--- 帖子 #402 ---
i encountered the same thing last week with the previous EA, even if MaxSimultaneousTrades=1. An answer will be good to clear our minds

--- 帖子 #403 ---
Thanks! I've noticed that if you keep the maxorders at 10 it will just keep opening orders (up to 10 I guess) as long as the conditions are met.

--- 帖子 #404 ---
These are the results for the massive position openings. Looks great and this happened with the trailing stop option set to "false"

--- 帖子 #405 ---
i just set up the HiLo Optimizing and took 3 winning trades...

seems good to me i'll post later after some more time with it...

thx btw!

--- 帖子 #406 ---
IBFX added a true market order type (it was all limit orders before).  The catch is that you have to add the SL and TP after the market order fills.  Maybe this is the problem.

--- 帖子 #407 ---
As I explained earlier, this self-optimizing EA isn't 'true' optimization, it's a more efficient form of optimization.

--- 帖子 #408 ---
How many H1 bars do you have in your history center? (F2). And why for that matter is the HiLo SO EA on H1?

--- 帖子 #409 ---
PM me, seems there may be another system coming.

--- 帖子 #410 ---
MaximumBarShift is basically how many bars a trade should last in the backtester.

I originally didn't have any maximum bar shift included, but what ended up happening is there were some trades which were at the absolute highest point of a trend and the price just kept going, and going, and going, which in turn skewed the trade stats.

--- 帖子 #411 ---
It's good to see you finally have the EA working.

Remember, both EAs use the past to try and predict the future. Based on the stats generated by that EA when you ran it, trades are more likely to be profitable in breakouts. To us, of course this sort of trading isn't logical. However, the EA doesn't look at bar formations. The EA looks for every instance of a higher daily high, or a lower daily low, and uses those 'events' to calculate its stats.

You're probably thinking along the lines of how you trade, there's nothing wrong with the way you trade and I actually encourage that method. I wasn't able to code that sort of logic into the EA, (how could you?)

--- 帖子 #412 ---
Use the period converter script next time. Simply clicking on other timeframes downloads data from MetaQuotes.

--- 帖子 #413 ---
Can you post a chart corresponding to the open times of those trades?

My guess is each new bar was a new daily high, and thus a new signal.

--- 帖子 #414 ---
Funny thing is RR, you're not an old dog, far from it!

--- 帖子 #415 ---
Something really odd is happening. The EA is setting it's own TP.  I have the SL and TP set to 200 but the EA took trades and set TP at both 40 and 102 on several trades. At first it was at 40 and then the TP changed on the chart to 102 and it took trades at 102 then.

--- 帖子 #416 ---
That's expected.

ReverseTrades was set to false, right? The SL is fixed and the TP is being optimized

--- 帖子 #417 ---
Hi All

Sorry to ask such a nooby question but How do you import pip data? I've never done it before so I need to learn how to do it.

Thanks in advance.

--- 帖子 #418 ---
Tools -> History Center -> Import

--- 帖子 #419 ---
That's right Ronald... this is very cool indeed.

--- 帖子 #420 ---
Ok Ronal, I Woke up this morning and these are the trades for today. The statement reflects both EA's but I shut down HiloTrader[TD] at 2:00 AM ET and left Hilo Trader Optimizing so the statement is a little mixed. I also turned on the default Trailing Stop. See Statement.

--- 帖子 #421 ---
Okay... what am I missing/supposed to see?

--- 帖子 #422 ---
RR, this screenshot shows my settings which are the default. I got the EA going yesterday and have completed 12 trades. I had 7 losers between 50 -103 pips and 5 small TP winners of 16 pips each. Overall, down 490 pips. Have 10 open trades now up a combined 62 pips.

I'm going to keep it running "as is" this week before tweaking although not knowledgeable sufficiently to know what to tweak. Anyway, I assume my settings are fine and if I there is an obvious error, I'd appreciate some feedback.

Also, I'm only planning on running HiLo Self Optimizing EA and not the original. I didn't read anything that said I needed both.

I'll report how my week goes next Monday...Rando

--- 帖子 #423 ---
How'd you manage -103 pips? Default SL is 200, unless you're on a 4 digit broker?

--- 帖子 #424 ---
Thanks Ron for explanation of how the backtesting works.

What about different settings I want to run - should I change the prefix of the output files for each of the 3 EA I'm running with different set of settings (assuming the collected data is only setting-specific)?

2nd quesion: how will EA react to the fact that more than one of HighestSuccessScore, HighestRiskReward, HighestWinRate, HighestProfit is set to true?

--- 帖子 #425 ---
Yeah, it is 4-digit broker, FXDD.

Are you saying I need to use 5-digit broker only?

Rando

--- 帖子 #426 ---
Nope, just adjust pip values accordingly.

--- 帖子 #427 ---
so... instead of using a 200 pip stop loss... we should be using 20 pip SL?

--- 帖子 #428 ---
If you want to follow my defaults.

--- 帖子 #429 ---
with 4 digit brokers yes...

example 20tp/20sl...

untill the brokers introduce a 7th digit...

--- 帖子 #430 ---
and you only used 8000 barToOptimize - not bad

RR, do u think downloading data from forextester.com has a better database than broker's own database?  I'm testing alpari-uk and it's not doing so good.

--- 帖子 #431 ---
ForexTester has FxOpen Data it seems--it matches the tick database bars that I built. The only reason why I use it is it has 10 years of data. In the past 10 years, we've gone through 3, arguably 4 market shifts. I don't expect the data to be accurate to the finite detail, but the overall shape general trends, big picture stuff should be there.

As for alpari data, I've been finding them less reliable as time moves on.

--- 帖子 #432 ---
I actually changed my SL too. Simply because I never like to loose more than my margined investment. Then lowered it even more while optimizing my settings because statistically speaking, if you have a win rate of 50% you need to have a risk reward of at least 1.0 just to break even over time.

--- 帖子 #433 ---
if follow his default, we would use 20 SL

--- 帖子 #434 ---
The self optimizing EA won't open orders at all on IBFX 5 digit demo.  I'm debugging the code now to see why.

It says the current signal is "open short" but the order is never actually executed.  There are no error messages in the journal.

--- 帖子 #435 ---
Set ECNBroker to true

--- 帖子 #436 ---
Does a displayed TP value of 2590 make sense?

I set the EA's TP and SL values to 20 since it's a 5 digit server.

--- 帖子 #437 ---
zoogle has alerted me to an interesting bug. Attached is the fixed code. The same inputs from this post still apply.

I also added [TD] capability.

[edit]

Make sure you read the terms and conditions in the source code.

--- 帖子 #438 ---
No... and you do realize you set your TP/SL to 2 pips, right?

--- 帖子 #439 ---
Am I right in thinking that if it says the current success score is 54 then I need to change my inputs for it optimize as the current settings are just not good variables as success score needs to be above 100 (I understand success score to be PF x 100)?

--- 帖子 #440 ---
SuccessScore is calculated as Winrate * (Reward / Risk). I think the absolute bare minimum is 50.

--- 帖子 #441 ---
RR

I have downloaded and changed the reject to accept on the new TD version but when I attach it to a chart I get the smiley in the top right but nothing else.

Also, whilst I will not ask you for your settings, I was wondering what anyones success was with either using trailing stop or reverse trades.  I started testing yesterday using both these functions and had good profitability until the big moves on eu this morning.

Cheers

Paul

--- 帖子 #442 ---
I thought if it was a 5 digit server you divided by 10.  Or do I just leave it at 200 and let the EA take care of it?

There's a good bit of disinformation in this thread.

--- 帖子 #443 ---
Steve

The default is 200 which translates to 20 pips for a 5 digit broker.  If you are using a 4 digit broker then you need to divide by 10 which would mean the input is set at 20 for 20 pips.

Paul

--- 帖子 #444 ---
Once my class finishes next week I'll go through the code and mod it so that the 4- and 5-digit stuff is transparent.

Here's my opinion about the extra digit.  It seems like the extra digit is now being called a pip.  I would argue that the old pre-extra digit is the true pip.  For instance, for EURUSD 0.0001 was a pip for years since brokers were all 4-digit.  Now it's 0.00001 and *that* is being called a pip.  I don't agree;  0.0001 should still be called a pip and the extra digit should simply be ignored for calculation purposes.

Currently the EA's default SL and TP settings of 200 pips mean 0.0200 or 0.00200 (for EURUSD) for 5 digits.  I would argue that 200 pips is 0.0200 for EURUSD whether it's a 4-digit broker or 5-digit.

Sorry, I meant misinformation not disinformation in the previous post.

--- 帖子 #445 ---
Hi

I had no problem with the original version of HiLo Opt - it took trades etc. But since I started using the newest version it hasn't taken 1 trade. I changed "Reject" to "Accept" and I pretty much use the default values and still no trades.

I've been running it since Sunday on Alpari UK and I'm up to 6200+ bars and still no trades.

Can someone tell me what I'm doing wrong - is there a setting I'm missing?

Any suggestions would be welcome.

Thanks in advance.

--- 帖子 #446 ---
To those of you having trouble...

What system is the EA trading?

SL?

TP?

Hour?

Style?

There are several occasions where this EA stands aside because the stats are too close in a given hour.

--- 帖子 #447 ---
IBFX 5-digits

EURUSD M5 timeframe

Defaults except lots size = 0.01 (so SL and TP = 200) and ECNBroker = true.

IBFX's midnight is actually 8 PM east coast US time.

It's been showing breakout style lately.

--- 帖子 #448 ---
Not having trouble with the original self optimising ea but the one posted today just displays a smiley and no other info.  I am using Alpari UK, sl 400 tp 500 lot size 0.01 trailing stop 30 and reverse trades true.  The original version was and still is trading breakout.

I have been trying various settings all day but only seem to get risk reward above 1 when using reverse trades and this normally results in a success score of at least 70.

Paul

--- 帖子 #449 ---
here is all I am getting with the latest build after changing the string-
http://probotic.net/images/ecn.jpg

--- 帖子 #450 ---
mine was doing the same thing... I closed MetaTrader and then opened it back up and everything came back as normal.  Still optimizing with no trades as of yet

--- 帖子 #451 ---
Here is the attachment of my screen

--- 帖子 #452 ---
Ronald,  today EA didn't do well (loosing all yesterday wins)but i think it was due to the trailing stop. I will changed it to off. Do you use daily range into the EA?

--- 帖子 #453 ---
silly question but how do you know when it is finished optimizing?

restarting MT isnt working for me, I will keep messing with it.

--- 帖子 #454 ---
When it's optimizing, the lower half of the comments in the upper left hand corner aren't printed.  Also, the CPU usage will be near 100%.  When optimization is finished, the lower half of the comment block is displayed and the EA waits for the trade entry conditions.

Depending on how much data you're optimizing against, it could take 20 seconds or 20 minutes.

--- 帖子 #455 ---
I'm having the same issue as PaulBT; the latest version of the Self Optimizer EA does show a smiley face but the rest of the chart stays empty.

I have default settings except for lot = 0.01, max trades = 3, barstooptimize = 50000, minimumwinrate = 51

I too have Alpari UK as broker, would that be the problem? The previous version did work.

I have tried restarting and reloading the ea, didn't seem to solve the problem for me.

Sorry to help turn this thread into Ronald's help desk...

--- 帖子 #456 ---
thanks, seems mine just isnt finished optimizing then.

--- 帖子 #457 ---
Try the 1M timeframe, and use 5 times the number of bars.

Did you change the license string? This new version naturally has it set to "Reject".

Looks like the attached image.

--- 帖子 #458 ---
if both the trade style/trade trigger= none

what does it means?

(no trades only runs with smiley)

--- 帖子 #459 ---
The EA couldn't find any settings which met your criteria for that hour. Array win and array loss have values, right?

--- 帖子 #460 ---
indeed they have....

--- 帖子 #461 ---
Let me hide in shame. This has fixed it for me...

--- 帖子 #462 ---
OK, what I've done is imported M1 data from the source you listed earlier.  It's about 3M bars going back to 2001.  I started the EA about 30 minutes ago and I'll see how it goes this time (it's still optimizing).

***LATER***

For those interested on a 3GHz CPU, 3GB RAM it takes the self optimizing EA about 1 minute per 125000 M1 bars.

--- 帖子 #463 ---
License string was changed. I will give it another go tonight.

Paul

--- 帖子 #464 ---
You can set the number of bars to use inside the EA as well. I bumped mine up from 10,000 bars to 20,000 bars and it started to take trades.

--- 帖子 #465 ---
Yeah I saw that.  I'm not sure optimizing over 10 years gets you much more than over 6 months.  It could be that 50K or 100K bars is sufficient.  In fact, one could argue that using more recent data optimizes for what's been "going on lately".  That might be more useful.

--- 帖子 #466 ---
When trying to set minsuccessscore to 50, could someone explain why I get the following after optimization? This is on every pair I have tried

Current TP -1

Current Win Rate -100%

Current Risk Reward -1

Current Success Score -100

Array Win -1

Array Lose 0

Thanks

--- 帖子 #467 ---
I noticed that this happens when you enable more than one of the optimization or more than one parameter starting with "Minimum" is >0.

--- 帖子 #468 ---
I should probably explain the minimum filters.

If you set more than one minimum filter, any qualifying strategy needs to meet all the criteria. That's not always the case, so when I use those minimum, I just set one of them.

--- 帖子 #469 ---
Well, the beginning of the day was bad but the EA has recovered the morning loses . Very interesting EA!!!! See today statement. Some positions were stopped out due to the trailing stop and this happened in the morning. I removed it. let see what happen from now on.

--- 帖子 #470 ---
at the risk of being a pain in the ass....i am still getting these results even when changing all minsuccess to 0 on some pairs

Current TP -1

Current Win Rate -100%

Current Risk Reward -1

Current Success Score -100

Array Win -1

Array Lose 0

now my question is this...does the EA calculate entries once the above has been reached? in other words can it recover from the above state or once it sees those negative values will it be stuck in a constant loop never finding a valid entry?

i apologize in advance if i am sounding like a broken record, just trying to fully understand what is going on. this EA is really interesting to me otherwise I would have given up long ago.

thanks again.

--- 帖子 #471 ---
how many bars do you have on the chart for optimizing?  I would have no less than 25,000 to 30,000 bars. Maybe that is the problem...

--- 帖子 #472 ---
50,000

--- 帖子 #473 ---
@faze, what about trying default settings?

--- 帖子 #474 ---
RR,

I am probably sounding like a lazy boobhead, but I loaded this up on 22 currencies, 2 different brokers and I get nada, zilch, nothing...  Except a big happy smiley face looking back at me.    Oh, expert logs say, "initialized"...

Without being asked to read the entire thread, may I ask for a shortcut to get this thing to show me something on the screen?

Oh, Running the latest HILO OPTIMIZED...

--- 帖子 #475 ---
Did you read the source code? There are instructions on activating the EA.

--- 帖子 #476 ---
Of course I did(n't).

--- 帖子 #477 ---
I have definitely got the EA activated, but am trying a different optimization and have the same screen showing. What I am wondering is whether it simply means that for this current hour there are no good optimizations that meet my current standards.

(When I first ran it I had it on the basic settings. Then I ran again but changed the minimum R:R ratio to 1.0. In the previous optimization run - without the R:R of 1 - it showed R:R ratios of less than 1, which I did not like. This is probably because it was at the end of the US session and in the start of the Asian session.)

Ronald, can you confirm that if the EA does not have a good optimization for this particular hour it will show a screen like faze and I are seeing?

--- 帖子 #478 ---
RR

I have been playing with the EA since last week. Today I downloaded the new one and finally got it to work after loading, deleting, closing and opening and so on.

I just got the message "not enough bars to optimize the EUR/USD.....".

I found the "Reject" thing in four different places. Do all of them have to be changed or only the first one?.

In my chart "Trade Style" is blank. Is that supposed to be that way?

No trades have been triggered so far.
Attached Image (click to enlarge)

I appreciate any help you can give.

Regards,

bcarbon

--- 帖子 #479 ---
You probably don't have enough bars on the chart? As for the "Reject" thing, just change the one line I told you to change.

If the EA doesn't see a set of settings that meet the criteria then yes that's what you're supposed to see.

--- 帖子 #480 ---
Thanks, Ronald. Got it!

--- 帖子 #481 ---
Okay.

In an effort to stop the posts saying "it doesn't work" I updated this EA to take care of the one thing most people who download this EA seem to miss.

I also put in a modest animation that the EA plays when optimizing itself. If you see that animation, you know the EA is optimizing. For those with slower computers, you can disable that animation by setting "AnimateOptimization" to false.

As always, please refer to the original post which explains the other inputs on this EA.

The changes in this version are cosmetic-only. You do not need to re-download this if you have already downloaded this EA.

--- 帖子 #482 ---
Ronald I have a question. Does the EA profitability depends on the position number? Can I use 3 instead of 10 positions?

--- 帖子 #483 ---
Sure

--- 帖子 #484 ---
OK, I'm cooking with gas on IBFX now.

Key points:

1) ECNBroker=true

2) Have enough data.  You normally only get a few weeks of backfill M1 data from IBFX and that's not enough.  Key posts here and here.

3) After importing all of the M1 data from back to 2001, adjust how much of it you use for optimizing.  This is controlled by the EA's BarsToOptimize parameter.  This is 0 by default which uses all the data.  If you don't want to wait 30 minutes for the optimization to complete, set this to 50,000 or 100,000 instead.

I'm using 100000 bars for speed and it seems enough.  It take 30  minutes to process M1 data back to 2001 which is about 3 million bars.

--- 帖子 #485 ---
Ronald, tks for the update I have got working on Go Markets. Have made a number of trades on EU none on AU so far. So far so good

rgds

Peter

--- 帖子 #486 ---
RR,

This looks great!  So far I am up about 2.5% on the account on forex.com off of 10K and 22 currencies placing .01 (10 cent per pip) trades.

IBFX isn't working, have done the download of historical data, set ECN = true, but will give it another few hours.

When I do both IBFX and FOREX.com on same computer, it puts processor at 100%.  Very fast computer, top of the line.  Surprised, but I am doing almost 50 pairs between the both of them, but again, IBFX isn't taking trades, just crunchin.

Here is my MT4 account for viewing!

http://www.mt4i.com/users/bluemele3

--- 帖子 #487 ---
Bluemele,

I'm trying to replicate your FOREX.com testing, did you go download any extra M1 database before you put the EA onto a chart? or you just install MT4 and go ahead with the test?

also it didn't seem like you delete out one zero for 4digits broker, 200 ->20 for TP and SL, but I'll post my result on mt4i next week.

Thanks

--- 帖子 #488 ---
OK, so that is stating the obvious to anyone who has been using this "program" for more than 5 minutes.

Sorry, I am just really frustrated as FXDD MT4 demo does not import anything when I point it to the history data file downloaded from the source mentioned earlier on this thread. Max bars in data and chart are both set to the highest possible number. I have searched for a possible explanation and found none, as well as having no problems doing the same thing with my ATC demo yesterday. If anyone has a solution, I would love to hear it.

Cheers

Invisible

--- 帖子 #489 ---
Minute after posting the above - and trying about 10 times on different installs - the data appeared in the import window (that is blank in the above image) and was able to be imported..... I have no idea why, but it confirms the title of my previous post, as far as I am concerned.

--- 帖子 #490 ---
How big was the data file you were trying to import?

How big was the .hst file before you tried to import?

How big was the .hst file after?

MT4 takes awhile to load all the data because it's parsing and converting it. You try typing in 3 million rows by hand. Ain't easy.

I'm also willing to bet that you didn't even notice the little Shift setting to make sure the imported data's time matched your broker's time.

--- 帖子 #491 ---
Ron would it be possible to display the current settings somewhere on the chart? I am running this on 12 pairs and it would be nice to see what settings I am using per chart since we are unable to get to the properties without dragging the EA again.

Currently I am saving as presets but confuse myself as to which one I am testing with. Example could be if I am using minriskreward=1.5 could it be displayed next to the value on the chart like:

Current Risk Reward 2.67 (1.5)

Thanks

--- 帖子 #492 ---
It was big, but it was so much faster on the ATC demo with the same data that it seems strange it too soooo much longer. Perhaps the fact that it seems to parse it before it actually imports it does not help as there is no progress bar indicating that anything is actually happening.

I did miss the time shift as I was so focused on actually getting the darn thing to work. Thanks for reminding me.

EDIT

So just to clarify, when importing data, the window will be blank for a while (as per my image above) as the MT4 parses it, and once it is done with that, this is when you can hit "OK" and actually load it into MT4 itself?

--- 帖子 #493 ---
Yep.

--- 帖子 #494 ---
Zoogle pointed out yet another bug to me. There was a line where the MinimumWinRate for the Counter-Trend side was 100 times larger than it should've been. This has been fixed.

I also incorporated Faze's suggestion. For the WinRate, RiskReward, and SuccessScore, the EA displays the current values as well as the minimum values in parentheses.

As always, please refer to this post for inputs and instructions on using this EA.

--- 帖子 #495 ---
RR,

It is funny, when I download and put this guy in, my computer CPU goes crazy and I start seeing R's everywhere....  Hmmmm....  I have to take a break.    Good work!

--- 帖子 #496 ---
haha...  Yes, you are right.  I saw a post about that, but honestly I have had so little time lately (Moving) that I haven't given the thread much attention.

I will change the 20 from 200.  Forex.com worked out of the box.    Some pairs haven't taken trades and probably due to not enough data, but will not know till probably end of day tomorrow which one's.

Maybe it works great with a 200/200!

---- I did have max bars already (which I always do) and downloaded 1 min data via only metatrader.  On my ibfx, I imported and did everything typical, but no luck, so I shut it down.  I would only run this on IBFX for now live, but without it working I guess Demo is the only option.  Plus, I am sure there is some code or access to the library in there to not allow live accounts yet?

--- 帖子 #497 ---
Ronald, someone mentioned that the EA can't be use on live accounts. Can you confirm this.

--- 帖子 #498 ---
I think just IBFX is having problems converting from a market maker to an ECN.

I'm live on FXDD.

--- 帖子 #499 ---
False.

rfking21 has put this EA on a live account with no problems. I have this EA running on my live accounts as well

--- 帖子 #500 ---
Thanks. I thought someone mentioned that.

--- 帖子 #501 ---
Hi Ronald, for the first time it picks "Counter" as trading style now.

I've noticed this error on Experts log though...
Inserted Code 2010.07.23 10:19:39    HiLo Self Optimizing [TD] EURUSD,M1: EURUSD Error:
<br />
<b>Warning</b>:  mysql_connect() [<a href='function.mysql-connect'>function.mysql-connect</a>]: User jedcaban_Feeder2 already has more than 'max_user_connections' active connections in <b>/home8/jedcaban/public_html/ronaldraygunforex/TickDB/Load.php</b> on line <b>20</b><br />
Could not connect: User jedcaban_Feeder2 already has more than 'max_user_connections' active connections
I guess your mysql database's on fire, huh?

--- 帖子 #502 ---
When I download this I'm always receiving the file in php, how do I download it in the normal format guys?

--- 帖子 #503 ---
Always click on the Paper clip on the top right. The file will be listed there and downloads in the right format

rgds

Peter

--- 帖子 #504 ---
I have been running the various versions of this now for a week on demo and so far up about 10%. I have a couple of queries before I look to go live.

Firstly all my testing has been using the minimum win rate of 50%. As of now 9:25 GMT, on EU my settings have resulted in a win rate of 50.6173%, a risk reward of 1.19 and success score of 60.2346. I have rerun the ea and changed minimum win rate to 0 and minimum success rate to 51. My understanding of doing this is that I will only trade in hours where the success rate is higher than 51 ( based upon RR stating earlier in thread that he would only entertain scores above 50). Unfortunately when the optimisation finished with these settings the win rate was -100 risk reward was -1 success rate therefore was -100 and no trading could take place. Is there an error when using minimum success rate to optimise?

Secondly, and this is probably the dumb question, my testing has been using reverse trades = true. This was generating some very high success scores. If the ea's trading style is breakout and I am using reverse trades = true - is this not the same as counter trend and reverse trades false?

Paul

****************************************************************************

I think I have discovered my problem with the minimum success score - I was still trying to optimise the success score as well. Anyway now running it again to check.

****************************************************************************

****************************************************************************

Just finished the optimisation and it didn't work.  Still got the -100 -1 and -100 settings.  I will continue to play with this during the day but unfortunately I am in work so it may take time

--- 帖子 #505 ---
G'day Ronald and all ...

... firstly I would like to thank you for your generosity and for sharing this and other projects with us

... and I have a question too ... How long it usually takes before the EA starts trading?

I'm running it on default settings since yesterday and there was a few break-outs opportunities, but no trades so far.

Best Regards,

Darek

--- 帖子 #506 ---
Yep. Once I'm done with a few more pressing matters, I need to start load balancing the incoming ticks.

--- 帖子 #507 ---
Interesting, I'll look into it. For now, just use winrate.

--- 帖子 #508 ---
You're quite welcome.

The EA can place trades theoretically immediately when the optimization is finished.

--- 帖子 #509 ---
The ea placed counter trend trades and the tp is like 200 pips. It should be 40 if I remember correctly. fxdd is currently a 4 digit broker and I adjusted the tp accordingly. It was normal until this set of trades.

Maybe I missed something? I dunno. I don't have the knowledge to check it out.

--- 帖子 #510 ---
Paul I am still confused as well, as soon as I change the minsuccess to anything other than 0, the EA returns negative values and does not trade from that point on. If you notice it does the same thing when trying to change the minimum risk reward as well.

The only setting I have been able to change is SL and TP, anything else and it stops trading. I think we are confused on these values.

Ron posted that success score was winrate * (risk/reward) if i remember right.

I had wanted to use minsuccess 75 which seems doable since many of the success scores are showing over 75, but I must not understand it fully.

--- 帖子 #511 ---
It's moving my sl as I set. No problems there.

--- 帖子 #512 ---
Apparently, the EA's optimization told it 200 pips is correct. Go to [metatrader folder]expertsfiles and look through the [EA Name] [ EA Pair ] Permutation Settings.csv

--- 帖子 #513 ---
Sorry, I meant [EA Name] [EA Pair] Optimized Settings.csv

The columns are:
Hour Extreme TP/SL Win Rate Risk Reward Success Score Trade Style Number of trades in sample. Number of winning trades.

--- 帖子 #514 ---
0;-1;-1;-1;-1;-1;None;-1;-1

1;37;193;0.5;1.23333333;0.61666667;Breakout;36;17

2;28;78;0.55555556;0.93333333;0.51851852;Counter;9;3

3;80;860;0.5;2.66666667;1.33333333;Breakout;30;14

4;75;540;0.52941176;2.5;1.32352941;Breakout;17;7

5;25;30;0.5;0.83333333;0.41666667;Counter;10;4

6;48;360;0.51851852;1.6;0.82962963;Counter;27;12

7;-1;-1;-1;-1;-1;None;-1;-1

8;56;112;0.5;1.86666667;0.93333333;Counter;2;0

9;168;1026;0.5;5.6;2.8;Counter;12;5

10;40;110;0.5;1.33333333;0.66666667;Breakout;8;3

11;48;168;0.5;1.6;0.8;Breakout;10;4

12;50;190;0.57142857;1.66666667;0.95238095;Counter;7;2

13;30;90;0.52941176;1;0.52941176;Counter;17;7

14;159;963;0.5;5.3;2.65;Breakout;12;5

15;209;1134;0.5;6.96666667;3.48333333;Counter;10;4

16;65;270;0.5;2.16666667;1.08333333;Breakout;10;4

17;57;549;0.51612903;1.9;0.98064516;Counter;31;14

18;121;606;0.5;4.03333333;2.01666667;Counter;10;4

19;132;498;0.6;4.4;2.64;Counter;5;1

20;31;94;0.6;1.03333333;0.62;Counter;5;1

21;121;515;0.5;4.03333333;2.01666667;Breakout;8;3

22;203;579;0.5;6.76666667;3.38333333;Counter;4;1

23;206;412;0.5;6.86666667;3.43333333;Counter;2;0

--- 帖子 #515 ---
This portion:

15;209;1134;0.5;6.96666667;3.483333  33;Counter;10;4

Tells me that on hour 15, your take profit is 209 and your stoploss is fixed wherever. The profit achieved with this specific 'system' was 1134 pips. Win rate is 50%, reward / risk is 3.48, success score is 33 (need to double check this). As far as I can tell this is legit. What backtesting period and sample size are you using?

--- 帖子 #516 ---
default......Just loading it on the 1min.

--- 帖子 #517 ---
This data is coming from the "beast" GJ pair which is pretty volatile.

--- 帖子 #518 ---
Yeah, I figured if it works on this pair-it could handle anything. I am getting decent moves even in this summer market. My spread is huge on this-9 pips.

--- 帖子 #519 ---
Bluemele,

here's my test for the past 12hrs
http://www.mt4i.com/users/getting

adjustment: for 4digits Forex.com five pairs: EU GU UC UJ AU

16 closed trades; total profit = $91.66
HiLo Self Optimizing [TD].mq4 (53.5 KB)

-magicNumber 1,2,3,4,5

-maxsimultaneousTrade from 10 to 2

-StopLoss from 200 to 20

-TakeProfit from 200 to 20

-useTrailingStop = true

-TrailingStop from 30 to 3

Total bars used and total bars is about 2000 when started the test 12hrs ago, can't download any M1 from Forex.com server, and didn't import dabatase.

As of now "bars used" about 2650, "total bars"= 3450

Also testing on goMarkets, but no open trade.

Also testing on AlpariUK, same setting as about but for a 5digits broker, with 35 closed trades; total profit about $5.00

rfking21; what's your perference on broker 4 or 5 digits?

Ronald; what do most hedgefunds used - 4 or 5 digits feeds/database?

--- 帖子 #520 ---
Today EA performed really bad. only testing E/U here. Is there anyway to reduce the memory usage. Two instances of the EA eats almost 2 GB so I think for 10 pairs I would need more than 8 GB RAM.

--- 帖子 #521 ---
Thats strange, here are two shots from mine. 14 pairs only using up 100mb on win7 64bit, and not much on CPU usage. How many bars are you using? I have 50k.

http://probotic.net/images/hilo.jpg

http://probotic.net/images/tm.jpg

--- 帖子 #522 ---
I was running this on about 4 pairs, no trades on usd/jpy for some reason. Anyway, I just dropped it on the 1m chart without importing data. Am I wrong to think that the most recent data matters most??

No trailing stop, however I move stop to break even after a set amount. I adjust the sl and tp per pair based on volatility.

This is my demo that I play with. Remember that fxdd is adding a digit on Aug 1st for demo and the 15th for live accounts.

--- 帖子 #523 ---
Seems like this bot has a mind of it's own. Does it even turn off when the expert advisor button is pushed?? lol

I also closed some manually when it moved my tp way up. lol

Seriously, it would be nice if I could see the properties after it has been on the chart, and to also know that it is turned off when I hit the button. It may very well be off but it keeps crunching numbers and scares the crap out of me.

--- 帖子 #524 ---
seems like this EA has a preference for a 4 digits brokers; FXDD, FOREX.com

Forex.com is GMT time

will test on InstraTrader 4digits next week, better spread than forex.com,

but GMT +3hr

--- 帖子 #525 ---
I dunno, seems like there are too many variables with the individuals using the bot. Let's hold off on that.

--- 帖子 #526 ---
Varies. I've seen institutional trades going 10 digits. Granted, these were 3-4 billion dollar deals.

How many bars?

Technically, the EA is infinitely initializing itself, so no, if you want to disable the EA, you need to remove it.

--- 帖子 #527 ---
I am using 80 000 bars. Now I loaded 4 pairs and removed some garbage from memory. I have now 4 instances running at 1.98 GB RAM. So I am fine now.

Ronald, Do you use currency correlation or you have all pairs running at the same time?

--- 帖子 #528 ---
I have 30 pairs running simultaneously with this EA.

--- 帖子 #529 ---
30 Pairs

--- 帖子 #530 ---
I got a mail from my vps saying that my platform may run slow or freeze because one of my ea's "must have gone mad", could I please remove it....

So I turned the ea off on 2 charts, out of 4 and now they're happy again.

Ron, I've been looking into NEAT and also found that there is HyperNeat, which seems to specialize in patterns. I don't know if that's more useful or not. I've been playing a bit with SharpNeat2 which supports both Neat and HyperNeat and though it looks impressive I haven't gotten my head around it's workings yet. I already get lost in this step by step tutorial on how to set up your own tic tac toe experiment (http://www.nashcoding.com/?p=90). If anyone does get it, perhaps it's a good starting point to get the ball rolling on this.

--- 帖子 #531 ---
Hey Ron, are you running them on separate boxes? Or are they all on one system.

--- 帖子 #532 ---
One box.

--- 帖子 #533 ---
Ronald, Do you use the default settings on every pair or do you apply specific parameters to each pair?

--- 帖子 #534 ---
Ron disclosed the specs on his box somewhere, maybe in this thread.

It's quite manly.

--- 帖子 #535 ---
I generally do 10x spread TP/SL.

There are some exceptions, (GJ *cough* *cough*).

--- 帖子 #536 ---
From previous post don't know if this is still true...Ron?

Those of you having trouble with the EA,  what system specs do you have?

I'm running Intel Core i7 2.8 Ghz, 8GB  DDR3 ram.

The main problem with this EA is that it is resource-intensive. I'm  trying to streamline the code for version 2.

regards

__________________

--- 帖子 #537 ---
This EA is running on Intel Xeon x3440 with 16GB ram. I fully agree that this is resource-intensive. As for streamlining the code, I'd love to hear your tips lionsden

--- 帖子 #538 ---
Sorry Ron,

I was just replying with one of your previous quotes earlier in the thread....Next time I'll use a link or quote....LOL!

L

--- 帖子 #539 ---
Maybe my stop was too tight on dragon. It was a winner for me anyway....

--- 帖子 #540 ---
Damn you, I was getting excited.

--- 帖子 #541 ---
Ron,

I think that you can reduce the consumption of resources by using a DLL that will make the calculations based on the data loaded directly by the DLL and not the MT4. I've seen that if you load too much data, the resources are minimizing. So, I think that it's not the EA's fault. The MT4 is forced to load more and more data, by the EA.

--- 帖子 #542 ---
Would it make a difference in resource usage if I can shrink the chart and instead access the HST files?

--- 帖子 #543 ---
Sorry for the delay Getting, with so many post its been hard to keep up.

It really depends on how much money you have in my opinion. 4 digit (market maker) will allow you to trade micro lots and the high volatility of the market is sometimes smoothed but the spreads are much higher. A 5 digit (ENC) doesn't use a desk so they don't allow micro lots (banks don't like dealing with them), they experience the true volatility of the market, but the spreads are much smaller.

If you are limited to trading micros then stick with a four digit. But if you have the cash to trade mini and need the extra pips (like when scalping) use a 5 digit.

Hope this helps

--- 帖子 #544 ---
I don't think so, because the HST files will be accessed by functions interpreted by the terminal.

--- 帖子 #545 ---
Hey Ron the EA just opened some trades and I noticed something funny.  I have it set for MaxTrades=10 so I expect to see 10 trades when it triggers.  But this past week the 10 trades were somewhat spread out over a small range of prices.  Today all 10 trades opened simultaneously, all at exactly the same price.  Is this normal?

--- 帖子 #546 ---
Should be at most 1 trade per bar...

Can you go into the experts tab and e-mail me the data from 30 mins before the first trade and 30 mins after the last trade? (RonaldRaygunForex(AT)gmail(dot)com

--- 帖子 #547 ---
Hi to all,

I've started to read this thread last week and had no time to have results to post in here. Anyhow I've noticed that were some difficulties in parameters/program setup.

Anyone can post is/her results from last week or so.

Thanks,

Pedro

--- 帖子 #548 ---
Great work ronald i was reading to some off your stuff and it made me wonder if you need some help with programming my friend is very well

capebal of that so drop me a line i think would be no problem and will

take off some work off your shoulders maybey

next i come from amsterdam the netherlands and i am busy with a new website it,s all about trading and robots so we will keep in touch

greetings marc

Amsterdam Holland http://cdn.forexfactory.com/images/icons/icon14.gifhttp://cdn.forexfactory.com/images/icons/icon14.gifhttp://cdn.forexfactory.com/images/icons/icon14.gif

email post.2@hotmail.com

--- 帖子 #549 ---
The help would be most appreciated Marc. Do you think your friend can find a way to make this EA less resource-intensive? A number of folks here on FF are having trouble it seems with running multiple instances of the EA.

--- 帖子 #550 ---
Maybe if you make the backtest write the info to a csv file and continue writing with each tick like with DB. Then don't let it erase the file. That way mt4 wont have to test the full history every boot, the info is already saved.

--- 帖子 #551 ---
Apparently each instance of the EA uses a lot of RAM.  When you run too many instances the processor starts to thrash the disk.

--- 帖子 #552 ---
Is it possible to offload the backtest /optimization and decison making part to an windows exe? At the begining a script can be run to generate the m1 bar data in a csv which can be fed to the exe for processing. Further tick count can be input into the exe through dde. A script can be run on mt4 which shall act as a order execution server. This server shall recieve the command from the exe through a text file or a windows named pipe. Single exe can be multithreaded to handle different pairs. This exe solution may be particularly helpful for brokers who have their own api such as FXCM.

I shall admit that I have not read the whole thread yet. Please don't take offense if this idea has been floated already. Ronald, your EA is awesome.

Thanks,

pillager.

--- 帖子 #553 ---
I'm in Orlando, FL at Walt Disney World at the moment, and I can't get to my trading platforms or programming computer at the moment (be back August 1), so this is off the top of my head.

The short answer:

Is it possible? Yes. By me? No

The long answer:

Developing an exe significantly increases the complexity of the EA and increases the security risks of people using the EA. I try to keep the code as much as possibe in mql so I can easily post the code online for others to double check and audit--as about half a dozen of you already have. The other major concern I have is liability. Say someone manages to corrupt the .exe file and ends up stealing account information from users. I effectively become the one to take the blame for that, and I'd rather not have to worry about that possibility. I have freely posted the code under a FOSS style license and I invite anyone who can improve or expand the code to come forward and do so. When put in the right hands, this EA is incredibly powerful and can relatively easily double an account within a week.

[rant]

With great power however comes great responsibility. About two dozen people have contacted me off-thread via PMs, e-mail, my support ticket, and one greedy bastard who hounded my phone number before I permanently blocked him, with problems related to the EA. These problems were not the resource-intensive ones, or the occasional bug that someone reports to me. The problems that some people are having are along the lines of: This EA lost me 50%, what are the right settings? The EA lost all its gains from yesterday. Yesterday, the EA doubled my account, but today it broke even. Basically, their expectations of this EA are: Holy grail Large consistent profits Bond / Bank interest Set-and-forget To everyone reading this now, I will tell you that this EA is not the holy grail. This EA is not consistent. Money from this EA--like most of my EAs--comes in bursts. And most of all, this EA needs to be monitored.

My philosophy on EAs is quite simple really. An EA is a tool to augment a trader's trading capability. An EA will not replace a trader. Simply because you have an EA does not mean you're out of the water yet. EAs are not perfect and thus, you need to be able to take over for the EA when--not if--when it fails.

This type of EA, and the HiLo Trader before it was designed using a different mindset. Instead of writing a program to trade the markets, I looked into writing a program which in turn could write a program to trade the markets. My reasoning was simple really, I don't know what the ideal trading system looks like, but I do know what it does. So, I wrote a program to tell me what the ideal trading system looks like within a given set of parameters (win rate, risk reward, success score, etc).

The self-optimizing concept was useful in that it helped reduce the EA's likelihood to fail catastrophically. The main reason most EAs fail after a few months is largely because the market changed in such a way that the EA didn't work anymore. It seemed--based of my empirical observations--that a mildly curve-fit EA would last about 3-6 months in a forward environment. The curve against which the EA was testing itself is constantly changing, so by making the optimization periods a little more frequent, the EA would at the very least get a chance to optimize itself and realign itself to the curve before the EA becomes outdated.

[/rant]

Okay, glad to get that off my chest as incomprehensible parts of it may be.

When I get back home I am considering hosting a Q&A webinar to explain the EA, answer questions regarding functionality, and basically try to clarify anything that isn't well understood about the EA. Would anyone be interested in something like that? I need a headcount to determine if I need to do multiple sessions.

--- 帖子 #554 ---
I like it - awesome

Oh yea too right. webinarcount = webinarcount+1

cheers scalpz

--- 帖子 #555 ---
Count me in. :^)

--- 帖子 #556 ---
When I get back home I am considering hosting a Q&A webinar to explain the EA, answer questions regarding functionality, and basically try to clarify anything that isn't well understood about the EA. Would anyone be interested in something like that? I need a headcount to determine if I need to do multiple sessions.[/quote]

Count me in on the webinar, Ronald. Thanks.

misterpipster

--- 帖子 #557 ---
Count me in, as well.

--- 帖子 #558 ---
Hi Ronald,

Thank You for creating this EA. I have installed the "HiLo Self Optimizing [TD]" version (found on Post #494, in Section 33 of this thread) on five pairs in FXDD.

The EA doesn't seem to be working. Can you tell me why? Here are my settings:

MagicNumber 1234

SignalsOnly false

Alerts true

SignalMail false

PlaySounds false

ECNBroker false

SleepTime 100

EachTickMode true

AnimateOptimization true

MaxSimultaneousTrades 10

Lots 0.1

MoneyManagement false

Risk 1

Slippage 5

UseStopLoss true

StopLoss 200

UseTakeProfit true

TakeProfit 200

UseTrailingStop false

TrailingStop 30

MoveStopOnce false

MoveStopWhen Price 50

MoveStopTo 1

Remark 2

Remark 3 -- Breakout Settings --

BarsToOptimize 10,000

InitialRange 60

MaximumBarShift 1440

MinimumWinRate 50.0

MinimumRiskReward 0.0

MinimumSuccessScore 0.0

MinimumSampleSize 10

ReverseTrades true

Remark 4 -- Optimize Based On --

HighestProfit false

HigestWinRate false

HighestRiskReward false

HighestSuccessScore true

Thank you for your comments -- this is very exciting!

Best Regards,

Jay Allen

Dallas, Texas

--- 帖子 #559 ---
... have a good time and enjoy your holidays, after that count me in yours Q&A webinar

(the EA still doesn't wont to open any trades for me ... and I'm starting to suspect it has something to do with my broker-GoMarkets)

Darek

--- 帖子 #560 ---
I'm interested in the webinar too, depending on timing obviously.

I had some issues with my broker too, it turned out that I only had past data for about 2 weeks, so even with the link RR provided I still had a 2-3 week gap in my data. I fixed it by exporting some data from another broker and importing that into this broker.

To see if this is the case for you, go into your history (F2) and scroll down to scan for any gaps.

p.s. Once in a while I do get the -100% win rate etc. It's only at certain hours so I assume a lack of data there.

--- 帖子 #561 ---
count me in for the webinar - subject to timing

--- 帖子 #562 ---
Some tips for those running into resource issues:

In MT4 set Max bars in chart to the value you have in BarsToOptimize anything more is just a waste.

Set SleepTime to 400 or 500 (this is milliseconds), when testing scanning through each pair 10 times a second is overkill, twice a second should be more than enough.

I currently have 3 different HiLo's running on 13 pairs each with an additional 10 variants of HiLo running on 13 pairs on a Phenom x6 with 8gb ram.

--- 帖子 #563 ---
Zoogle

How many bars are you using as I know RR said he uses 1.5M yet others seem to be getting good results with just 50000.

Paul

--- 帖子 #564 ---
~3 months or 125000. Seems statistically significant enough for me.

--- 帖子 #565 ---
I'd also be interested in the Webinar.

--- 帖子 #566 ---
I trade with go markets, the ea worked ok until the last update - no trade since

rgds

Peter

--- 帖子 #567 ---
When you attach the EA to the chart, what do you see in the upper left corner?

--- 帖子 #568 ---
This also includes setting ECNBroker to True?

--- 帖子 #569 ---
Hi Peter,

I am testing 2 demos with the above EA this week on the 4 majors. They each have the very same settings except for Max Bars in History and Max Bars on Chart.

One I have set at 1,500,000 and it has taken many, many trades.

The other, I have set at 300,000 and it has taken no trades.

Both were engaged about 11:15 am eastern time.

These were both set up on FXDD.

Carol

--- 帖子 #570 ---
Ron you can count me in for the webinar.

Have fun in Florida

--- 帖子 #571 ---
"When you attach the EA to the chart, what do you see in the upper left corner?"

Hi Ronald,

I changed sourcode from "Reject" to "Accept."  In the upper left corner I see the initials "RR" on one currency pair, and I see lines of data pertaining to the EA on the other currency pairs.  Each pair has a frowny face, however.

Best Regards,     Jay

--- 帖子 #572 ---
is the Expert Advisors turned on from the toolbar?

--- 帖子 #573 ---
GoMarkets isn't ECN-broker yet (they going to be in some time to come) but I'll change the settings anyway to test that option

Thank you guys, I'll try all those options too ...

Darek

--- 帖子 #574 ---
"is the Expert Advisors turned on from the toolbar?"

Hi Faze,

Yes, the EA is turned on at the toolbar (=green, no X on the screen).

Thanks,    Jay

--- 帖子 #575 ---
When you drag the EA to the chart, there are 2 tabs. One is 'Comments' and the other is 'Inputs'.

On the 'Comments' tab, you need to select 'Allow Live Trading' and for this particular EA you also need to select 'Allow DLL Imports'.

If you have done that and still have a frowny face, then you need to go to the tool bar and there is a button called Expert Advisors. You need to click it to make it green.

Hope this helps.

Carol

--- 帖子 #576 ---
Hi all,

I'm new here but have been running this EA this week.  It did great yesterday during the day, last night, not so much...but not complaining.

I'm running a new Pentium4 3.4ghz with 2gb ram.  I have tried running it on 3 or 4 pairs and the computer slows down big time.  If I bump up to 8 or 16gb or ram...should I see a big difference?

I'm also gonna try to change some settings others have suggested in other posts.

Also, I've tried importing history data from the site RR suggested.  For some reason, sometimes it loads fine and other times I just get the blank screen forever.  Even clicking "Download" on the data screen in MT4, that doesn't load any data.  I'm guessing this is just MT4 acting up??

Another issue I had was each time I'd reboot MT4 any history data I imported was gone!  I think I may have fixed this by increase the # in the "max bars in chart" area.  Hope that was all it was b/c it has been a pain imputing the data over and over each time I open MT4.

Thanks for the thoughts and help.

--- 帖子 #577 ---
I had the same problem with MT4 when importing data. I just closed the entire platform and opened it up again and it worked again.

Mine did great yesterday, too and mine also had a rough night. LOL

Carol

--- 帖子 #578 ---
Folks having problems with performance when running multiple instances of this EA, check this post:

http://www.forexfactory.com/showpost...&postcount=563

You should be specifying how many bars to optimize over using the BarsToOptimize setting.  Make it 50,000 or 100,000 or whatever.

Make sure the "max bars in chart" setting under Tools->Options->Charts is slightly bigger than the BarsToOptimize setting.  Just don't set this to the total number of bars you've imported.  Storing 3 million bars on each chart is wasteful and unnecessary and will slow things down big-time.

--- 帖子 #579 ---
I followed some of the suggestions.

Am now running 6 pairs, with 100K bars for optimization.

Took about 5 mins for everything to optimize.

When in opto the CP usage was at 100% and PF was around 1.20gb.

When opto was done, CP usage dropped to 30-50%.

I'm running Pent4 3.4ghz and 2gb of ram.

If I bump ram up to 4 or 8gb...will this help speed and overall cpu usage?

THanks!

--- 帖子 #580 ---
Go markets require EA's to send SL and TP separately to the buy sell. Thats what the ECN settings do on most EA's

rgds

Peter

--- 帖子 #581 ---
Thanks Peter,

I just downloaded the previous version released by Ronald on 16/07 and changed the settings to ECN - true ... and I'm gonna to run until end of this week.

Cheers,

Darek

P.S. this EA mentioned above started to trade almost straight away ... so, I'm guessing there is something in [TM] version that's upsetting/stopping GoMarkets

--- 帖子 #582 ---
I use the latest version on GoMarkets (Demo) without problems.

The only setting I had to change from default was ECN = true, and of course accept the agreement.

I have applied it to the 1min chart & hold down the Home key until I get 2 months worth of data (takes forever).  Then change the bars used setting to 57600 (ie. 8 weeks) as thats all I'm interested in optimising for (at this stage).

--- 帖子 #583 ---
Do you see some sort of really fast animation involving only 'R's?

I should probably note that when I run these EAs on MT4, I have multiple terminals with the pairs spread across them. In my particular computer running this, I have 8 logical cores (hyperthreading), and I'm able to set the affinity of metatrader terminals to ensure they are distributed properly.

Adding RAM doesn't improve the performance of one MT4 instance running, but rather, allows you to run multiple MT4 instances.

--- 帖子 #584 ---
I think thats the problem, I haven;t reaceepted the agreement after updating to a later version . I will check tonight

rgds

Peter

--- 帖子 #585 ---
Ronald,

Please include me in the Webinar.

Thank You,

Jay Allen

--- 帖子 #586 ---
Thanks for a tip "Home-key" ... that sorted-out all my issues with the latest EA ... it's running nicely now

Cheers,

Darek

--- 帖子 #587 ---
RR

Put me on the Webinar list as well

tks

Peter

--- 帖子 #588 ---
I would appreciate access to your webinar as well.

Thanks, RR

Ron

--- 帖子 #589 ---
Based on peoples experience with this EA...are the default settings the best or has anyone come up with some really good settings?

--- 帖子 #590 ---
Depending on the time, I am down for the webinar.

--- 帖子 #591 ---
Time permitting, I would like to attend the webinar also.

Invisible

--- 帖子 #592 ---
Pretty sure there are quite a few of us still hammering away at trying various settings. I would think the more people that tinker the better.

Default settings will get you going and familiar with it, some values appear to not be fully working such as optimizing based on anything other than winrate. You can still try diff SL and TP, trailing stops, reversing etc.

This thread is still pretty low on the page count at the moment, I would recommend reading through it.

--- 帖子 #593 ---
I've read thru the whole post.

One thing I want to make sure I'm clear on...the MM and risk setting...if I set risk to 1 for each pair and I'm trading 6 pairs...the risk is looked at for each individual pair based on the available margin at the time of taking a trade, correct?

Have we also concluded that 50-100K bars to opto is sufficient enuf rather than 500K to 1.5mill??

I just started using the EA this week...so far up 30% for the week...was up 80% after Tues but have given most of it back since Tuesday.  Had a bad run of 27 losing trades in a row last night.

I think this EA could be really good once we hone in on the best settings.

From an opto standpoint so far I've only seen it looking for breakout and counter trades.

--- 帖子 #594 ---
I can also imagine that some pairs are more unpredictible then others so a point could be made for a quest to find the most suitable pairs or different settings for different pairs. This is where the intensive use of resources come in for me. I run my mt4 on a vps and it can only handle 2 of these before it grinds to a halt. So far though, I have found USDJPY to do best out of the few pairs I've tried for the short period that I've tested them.

--- 帖子 #595 ---
I've been tracking my results on MT4i.

I have been running these pairs and their respective profit factory so far this week:

AudUsd 2.04

EurUsd 0.59

GbpUsd 0.64

UsdCad 0.12

UsdChf 1.42

UsdJpy 1.41

I think I may drop UsdCad and try another.

--- 帖子 #596 ---
"I just started using the EA this week...so far up 30% for the week...was up 80% after Tues but have given most of it back since Tuesday. Had a bad run of 27 losing trades in a row last night."

-- For the string of 27 losing trades, can we isolate what caused this, and guard against it in the future?  What do you think caused this string of loses?

Best Regards,

Jay Allen

--- 帖子 #597 ---
The market shifting in a pattern that it would not normally do for that hour on that day of the week. Most likely caused by a news release. Nothing is ever statistically correct 100% of the time. Its hard to replicate because new HiLos are reset at midnight local time. And the backtest array is calculated using server time. So every person, unless you are in the same timezone with the same broker, will have different results.

--- 帖子 #598 ---
In fact if I were to estimate what happened with no other info. I would say that the bot was trading a counter strategy while the market was breaking out. And every time it hit its SL, it would place another counter trade going further in the hole. In the version I released, I added a parabolic sar shift to prevent that from happening.

But its hard to guess when I don't have enough info on the 27 trades.

--- 帖子 #599 ---
... well, in my view it's to early to say anything about the settings, as the EA is only out for short time and no-one (except RR) have done any comprehensive testing yet.

I reckon, that Ronald put the defaults for a reason and they're optimum in general, but of course some adjustment to stop-loss/take-profit are necessary because

each currency pair is slightly different and behave individually too (spread, range, length of swings and so on ...)

on another hand, as Ronald pointed-out few pages back, this EA is not to "set and forget" ... it has to be monitored and adjusted accordingly to changing conditions.

So, ... keep experimenting, ... be patient ... and share your observation with others ...

Regards,

Darek

--- 帖子 #600 ---
Have you found your EA with this added setting to have more consistent winners?

Feel free to take a look at the trades I was speaking of...it was actually 25 in a row...
http://www.mt4i.com/users/buildingresults1

access code 3908

The first trade was on 7/28/10 at 08:29...starts with a sell EurUsd trade...loss of $80.

What I don't understand is why the 1st 5 trades hit SL, then the next 8 were losses but didn't hit SL.

Then a few mins later there were buys placed for EurUsd.

On a side note...does anyone have this issue with MT4?

When I close down MT4 OR change the "max bars in history or max bars in chart..." I lose all the imported data history!!  Very frustrating!

--- 帖子 #601 ---
but if we could ever get it to actually be a "SMART" EA then it should automatically adjust these settings itself as time progresses.  Surely this has got to be a possibility such as artificial intelligence

--- 帖子 #602 ---
The EA already does adjust itself. You only need to supply a fixed takeprofit (Reverse = True) or a fixed stoploss (Reverse = False).

--- 帖子 #603 ---
Is this already set in the default settings or do we need to set this ourselves?

--- 帖子 #604 ---
Looking at your statement, I think that's exactly what happened. Using the parabolic shift on a 5m chart would have made your EA wait until 10:20 to place those sales. (If my timezone calculations are correct) Then they would all ended in profit, assuming by that hour the EA was still counter trading.

Using a parabolic shift is just a safety net to prevent DD while counter trading in a trending market. I haven't had time to add this to the self optimizing version, so if you give me a second.......

I just added it, so it is fresh and should work but needs to be tested.

Good luck and happy trading.

EDIT: After testing, this version is taking trades correctly. Please let me know if you have any problems.

--- 帖子 #605 ---
Cool.

I'll try to test it next week.  I assume have to load that indicator also.

You trade it on the 5m?  I've been trading it on the 1m.

If I import data from the website RR suggested...when importing do I just import it on the 5m instead of the 1m like I have been doing?

--- 帖子 #606 ---
When using a parabolic with this EA I do trade on the 5m chart to prevent whipsaws. If you test HiLo you will notice that 1m and 5m take almost exactly the same trades, so you shouldn't loose any functionality. Yes you should import 5m as well as 1m.

--- 帖子 #607 ---
How does Parabolic Sub differ from MT4's PSAR? Glancing through the code I can't see anything jumping out at me.

--- 帖子 #608 ---
I have a problem with Parabolic in MT4 updating correctly. The dots are never where they should be. Parabolic Sub plots the same as when I manually chart the formula out.

--- 帖子 #609 ---
Based on results this week seems like UsdJpy is the best pair out of some of the majors I tried.

May just try running that one pair next week and see what happens!

--- 帖子 #610 ---
This past week wasn't so hot for EU, the only pair I've tried so far.  My equity more or less just chopped up and down (no edge).

Ron runs this on many pairs; I wonder if this isn't the way to go.  The idea is that while one or more pairs are not cooperating, there are others that are.  It might smooth out overall performance.

--- 帖子 #611 ---
That could be.  Issue is trying to narrow down which are the best pairs.

I ran EU this week and it stunk!

I think RR funds a bunch of pairs.  I'd think that would be pretty computer intense.

--- 帖子 #612 ---
Ron's running 30 pairs on a machine with 16GB LOL.

--- 帖子 #613 ---
That's what I heard!

I am running 2gb of ram now and was thinking of adding more but from what I have heard adding more won't speed up the MT4 platform...but just allow me to run more MT4 platforms at once.

--- 帖子 #614 ---
Import to 1M, then convert to 5M. Otherwise, you'll have 1M data in the 5M timeframe.

--- 帖子 #615 ---
thank you for your contribution im new and will consider it before live trade with it

--- 帖子 #616 ---
Dear Group,

During my first week of trading, Ronald's IM won 17 of 19 trades.  This is really exciting -- Thanks Ron!

Here's a question: I am get the error message "Error: Not enough bars to optimize for symbol: GBPCHF."  How can I correct this and optimize my use of bars?

Thank You,

Jay Allen

Attached Image

--- 帖子 #617 ---
If you press F2 you check how much history you have on this pair. If this is less then the number of bars you want to optimize then you need to download or import more data. RR has posted a link somewhere in this thread with a free source of historical data. Let me see... http://www.forextester.com/data/datasources.html

--- 帖子 #618 ---
Thanks MorningMania.  How many bars do you recommend?

Regards,

Jay Allen

Dallas, Texas

--- 帖子 #619 ---
I just fixed a bug. You still need the indicator from the previous post.

--- 帖子 #620 ---
I'm trying to use your version rfking, but it seems to get stuck on the message "Optimizing counter for 23:00". On my chart there is a gap which starts at 23:00 on Friday, until 00:00 for the market open on Monday.

Am I doing something wrong? Apologies if this has already been addressed earlier.

--- 帖子 #621 ---
Unfortunately your issue is not associated to the changes I made. I did not change how the backtest runs. Only when counter trades are executed and added HiLo lines. You should reset your system and if the problem continues, try changing your settings.

--- 帖子 #622 ---
When the EA first optimizes itself, it waits for the next tick after the optimization to figure out what sort of trading system to use.

--- 帖子 #623 ---
Those of you using FXDD should know that their demos have switched to 5 digit and the live accounts will too in about two weeks. Others using 4 digit should keep an eye on your settings. I was banging my head into a wall trying to figure out why my hedges were kicking in so soon and my TPs were closing at 4 pips on my experimental EAs.

--- 帖子 #624 ---
You may have to read the thread to read different people's opinion about that. It ranges from 50000 to 1.25mil bars. It depends on what historical period you think is significant long or short enough to predict future price action.

--- 帖子 #625 ---
I'm still having issues (on more than one demo account) with my imported data history staying loaded after shutting down and rebooting MT4.

Anyone else having this issue?

--- 帖子 #626 ---
Ticks have been coming through fine, but it's still stuck on optimizing for 23:00. My theory is that it got stuck due to the weekend gap - i.e. no data for 23:00 as the market closed at 22:59 and reopened at 00:00.

I wonder if this is an idiosyncrasy of the demo broker I'm using (Alpari UK), which I picked due to its timezone matching the free minute data you linked to earlier (GMT +1). I'll try a different broker today and just shift the data I guess.

--- 帖子 #627 ---
G'day Ronald,

I'm not a programmer and can't read/understand the MQL coding that well

so, I'm not sure may be that idea already exists and it's running within the optimization,

but if it doesn't ... than, is it possible to incorporate additional spread filter to the current EA?

... to prevent trades from opening during a big news releases and/or low liquidity periods.

Best Regards,

Darek

--- 帖子 #628 ---
Hey everyone,

How does Thursday night (9PM EST) and Friday morning (9AM EST) work for everyone?

I realize that the group of people using this EA is an international one and I'll do what I can to accommodate.

--- 帖子 #629 ---
9PM sounds fine since it's outside work hours.

I think  we're in the same time zone.

--- 帖子 #630 ---
That's 3pm/3am Central European Time, which is what I'm on. I can do 3PM depending on the format. Will you use chat or some form of voice communication, the latter will be a hard sell for me at work   Also, will this be recorded for those who cannot make it?  Thanks for your willingness to help!

--- 帖子 #631 ---
Sign up links: http://ronaldraygunforex.com/Webinar.html

I am using DimDim as the webinar host thingy. It's all browser-based and my initial testing with it went more or less smoothly.

I would appreciate it if you could just sign up for one of the two webinars. I only have 20 slots for each session. If there is a demand, I'll do more webinars time-permitting.

--- 帖子 #632 ---
it's normal if i instaled hilo self optimizing i see on the chart write

"I Know you didn't read the source code. Otherwise, the EA would be optimizing itself by now.

but if i installed hilo trader the EA regolar started ???

--- 帖子 #633 ---
Thanks.  Looking forward to better understanding this EA.

--- 帖子 #634 ---
Think about it... if you read the source code something magical happens.

--- 帖子 #635 ---
OK, here's a pretty good set of forward test results for Ron's EA.  Metatrader report attached.

1) Period covered: 7/21/2010 - 8/4/2010 (2 weeks)

2) Broker: IBFX demo mini account 5 digits

3) Currency pair: EURUSD only

4) Time frame: M1

5) Settings: default except ECNBroker=true, BarsToOptimize=50000

6) Fixed lot size 0.01

7) Computer used: crappy old Dell Dimension 2400 (Celeron 2.4 GHz, 512 MB RAM, IDE HD)  It's an old unused computer sitting around the house.

There were 559 trades total so it's a good statistical sample.  The win rate was 50.63% which tracks with the WinRate setting of 50%; a good sanity check.

The equity curve was interesting in that there were periods of chop (no edge) and trending periods (making money).  I could see where running this EA on multiple pairs would tend to smooth out performance.  While some pairs are chopping in equity performance, others are trending upwards to compensate.  Theoretically more pairs would give a fairly smooth upwardly sloping equity curve.

I have no idea how this performs on other pairs.  My crappy computer may not handle more than 4 pairs.

One other note.  Notice I used 50000 for BarsToUse.  This seemed to give good statistical results and would probably allow me to run more pairs on my underpowered computer, as opposed to using a million bars.

--- 帖子 #636 ---
Interesting results.  One thing I noticed is that a lot of your trades are taken on the same bar.  My understanding of the EA is that if max trades is set at 10 for instance it will only take one trade per bar - so perhaps something is wrong with your set up.

Paul

--- 帖子 #637 ---
That's correct.  I told Ron about this already.  I haven't done anything that could cause it.

*later*

Hey Ron I looked at the code that limits new orders to 1 per bar.  I believe there's a potential problem if you're running with ECNBroker=true.  It looks like the statement "TradesThisBar++;" isn't being executed because OrderModify is always returning a 0 when it's successful.

I don't know if anyone else here is running ECNBroker=true or not; maybe it's an IBFX problem.

--- 帖子 #638 ---
You might be on to something there as my demo and live accounts are with Alpari and therefore ECN is false

Paul

--- 帖子 #639 ---
Nice call there Steve.

Here's the fix.

--- 帖子 #640 ---
That's not gonna do it.  The problem is that OrderModify doesn't return a ticket but a bool.  So it only returns a 0 or 1.  You're feeding the Ticket variable (always a 0 or 1) from OrderModify into OrderSelect which will always fail when ECNBroker=true.  When that happens, the TradesThisBar counter isn't incremented.

The way you coded the ECNBroker handling always bothered me a little (i.e. with OrderSend fed directly into OrderModify on 1 line).  The way I've typically seen it is the OrderSend and OrderModify are separated.  The ticket number returned from OrderSend is validated first, then it's fed into OrderModify.  Finally the bool returned from OrderModify is validated.

*later*

I've attached a proposed change.  I got the prototype ECN processing code from the IBFX web site.  I haven't had a change to test it yet.

--- 帖子 #641 ---
for me is just perfect. Count me in.

--- 帖子 #642 ---
What I did is I added in a clause where the EA checks first if ECNBroker is true or not. If true, then it looks for Boolean, if false it looks for ticket of 0 or higher.

--- 帖子 #643 ---
But you're still assigning the return value of OrderModify to Ticket.  OrderModify doesn't return a ticket, it returns a bool for success/failure.  When you use the Ticket value from OrderModify in OrderSelect it returns an error.

--- 帖子 #644 ---
Boolean values when converted to integer are 0 and 1.

--- 帖子 #645 ---
ronald great job with the webinar i am also in i have registerd already

how are you i want to ak you if you are willing to make some streams programmes about the robots i would like to make them

the making off serie

ok greetings en let me now

--- 帖子 #646 ---
Could you clarify?

--- 帖子 #647 ---
"Last Tick" goes continously reseting itself with each new tick and "Cycle Counts" keeps going up, is it ok? Or do I have some kind of a problem? I have it on couple pairs for some time.

--- 帖子 #648 ---
Hey all,

Just started testing this on 5 pairs (to save the computer) and it is working well, but losing lots of money.

I just to verify that TP and SL are 20 pips?

When I had it at 200 pips, it was much more profitable.

--- 帖子 #649 ---
Then use 200 pips. :-)

--- 帖子 #650 ---
Ron had suggested 10x the spread as a rule of thumb for choosing the SL setting.  EURUSD has a spread of about 2 pips, so that would be 20 pips.  On a 5 digit broker you have to multiply by 10 again, so that's 200 which is the hard-coded default in the EA.

--- 帖子 #651 ---
My fix worked for handling ECNBroker=true.

Overnight the clusters of 10 trades were spaced out at 1 minute intervals. i.e. 1 trade per bar.

--- 帖子 #652 ---
Thanks for the response!

I am curious though, so my trail would be 3 pips, BE move @ 5 pips, etc..?

Just curious as my broker sucks and can't do moves less than 5 pips and would have to move these up which is fine.  Just curious on what the best settings are for testing.  I use forex.com on this with live and demo.

Oh, I lost about 1200.00 on demo with 20 pips stops etc..  Now, with 200, I am up 800.00 so it is definitely working better!

--- 帖子 #653 ---
Trailing stops hurts the profitability of this system.

--- 帖子 #654 ---
RR

Sorry but can't make the webinar as I have called out in work and the later one is in the middle of the night for me.

Paul

--- 帖子 #655 ---
old dog... new tricks??? but isn't he 16 or something... I dont get it!

--- 帖子 #656 ---
The system....

--- 帖子 #657 ---
I think the old refers to the basic two strategies: breakout and countertrend. The new trick is that the ea decides between the two based on back testing.  Or I could be totally wrong

--- 帖子 #658 ---
No one reads or searches threads any more.  It's sad. *sniff*

--- 帖子 #659 ---
ok sorry guys i need to sleep this off

--- 帖子 #660 ---
Ding ding ding, we have a winner!

--- 帖子 #661 ---
Need your expert guidance on which system to choose for analysing forex trades.

I am in love with P&F and just read the book of Thomas Dorsey.

Regards

--- 帖子 #662 ---
So which file should we be using?  Steve's updated one or Ron's updated one?  Or either b/c they both do the same?

--- 帖子 #663 ---
Either.

Steve's separates the OrderModify and OrderSend functions. Mine doesn't.

--- 帖子 #664 ---
Ronald,

I tried to log on to your webinar, but I only got the message "Has Not Begun," plus 'on-hold' music.  Were you able to make it?  Is there a way to attend in the future?

Thank You,

Jay Allen

Dallas, Texas

--- 帖子 #665 ---
9PM EDT. I'll be getting on in about 3 hrs or so.

--- 帖子 #666 ---
Ronald, after reading your posts on this thread I realized that your settings must be much more tight or with more restrictions than the default settings and this is because you have said that your EA have taken only 8 or 9 trades a week, well I m getting hundreds of trades per week.

--- 帖子 #667 ---
Let's start with the obvious one. My winrate is not 50. :-)

--- 帖子 #668 ---
LOL. I knew it.

--- 帖子 #669 ---
A 50 winrate is a little low. You might as well flip a coin.

It is impressive that the bot is still profitable though.

I wonder if you could make it be profitable with a 25 winrate

--- 帖子 #670 ---
you meant 75 win rate. Right!!!

--- 帖子 #671 ---
No, I mean I would like to see if you can profit from 25. Maybe the TP would be so high that it would cover the losses.

--- 帖子 #672 ---
In theory that would work.

Buy why not have your cake and eat it too? High Reward/Risk and a High Winrate.

--- 帖子 #673 ---
Yeah, my 2 weeks of forward testing at 50% were quite promising.

--- 帖子 #674 ---
Correct me if I'm wrong, but the winrate is not really the important factor here. The success rate is what dictates whether or not the current trade setup should be profitable. i.e. it's a measure of the winrate multiplied by the r/r, so anything above 50% means a better return than flipping a coin. Hence why a 50% winrate can be profitable.

That's as long as we keep letting the EA optimize by success rate (as I'm guessing everyone is doing?)

By limiting the trades to a higher than 50% winrate we're just introducing an additional filter which would make the trades more likely to be successful, however we could just limit trades to a higher success rate with similar effect, could we not?

I notice there was discussion earlier about weighting more recent results more heavily. Perhaps one way of doing that is to apply a linear gradient, so that the most recent are weighted X times as much as the oldest results.

This backtest system could also be utilised for a number of other trading strategies. It would be interesting to see it applied to some other easy-to-code currently zero-edge approaches such as MA crosses, rsi trades and so on, to see if an edge can be found. More complex approaches might prove more fruitful, however.

I haven't had a chance to look through this code properly yet, but I'm wondering how difficult it would be to plug in different logic for the backtest system. Any tips on this, Ronald? Or is that not within the scope of what you intended to happen in this thread?

--- 帖子 #675 ---
For everyone who wanted to join, the webinar is now starting, ask away.

Room Name:

ronaldraygun

Organizer:

ronaldraygun

Start Time:

August 5, 2010 8:51:45 PM EDT

Dial-in :

702-473-3463

Passcode :

766253

Meeting URL:
https://my.dimdim.com/ronaldraygun/

--- 帖子 #676 ---
Thanks ron, very well done

--- 帖子 #677 ---
The relation between win rate and risk reward is inverse within the same success score. Success score of 50 could mean a win rate of 50 and a risk reward of 1. It could also mean a win rate of 90 and a risk reward of (5/9).

By adding one of the other two parameters--risk reward or win rate--you more finely tune the EA's optimization engine.

As I explained on the webinar, this method may be tricky due to how the optimizer works.

More complex generally means longer backtest times and even longer optimization times.

The backtester is simple--conceptually. It just needs a few things: Way to track trades and profitability Way to model the price movement within a bar. In terms of using the structure of this EA to run the backtests for other systems, that's mighty difficult. Every time I want to write an EA that optimizes itself, I have to write from scratch.

--- 帖子 #678 ---
This is what I was trying to explain on the mic, if you are able to make it look back x bars like with trader and still keep hourly arrayed like in optimizer the more recent results will have a greater weight. Not much though.

--- 帖子 #679 ---
Ronald,

Good work on the Webinar.  Very informative.

--- 帖子 #680 ---
I am going to update My version soon. Those who use it, please let my know whether you would prefer RR ENC, or Steve"s ENC. I want to know what you think.

--- 帖子 #681 ---
Thanks for the further clarification Ronald. I am, however, a little perplexed as to why simple trading strategies should increase the optimisation time greatly. Currently, the EA just looks at trades when the high/low is breached. A simple MA cross would just look at trades when one MA crosses the other - surely a very quick calculation. I'm just saying that it might be worthwhile exploring the same backtest approach on different simplistic trading logic to see if it can provide an edge.

I also think that you should not feel limited by the lowest common denominator for processing power. Even if it takes 10-20 minutes to run the calculation for one pair on slower machines, it's only run once a week. That's a very small percentage of the actual trading time to be sure. On this point, perhaps with a more long-term outlook I'm wondering if you have any plans to implement some sort of cloud system whereby optimization data could be shared across willing clusters of users?

Finally, I've been having weird issues with utilising the EA. On some occasions it seems to work just fine, while on others the EA shows the following. Default settings except for ECN true, minimum success rate = 55. Or is this expected behaviour? If so, what does this actually mean?

--- 帖子 #682 ---
I've had the same before due to a small gap in my historical data. It may be worth checking if your data history doesn't have any gaps.

--- 帖子 #683 ---
Actually now that I look at the screenshot I took earlier during the webinar of your data, I see that you the first few entries also have -1, I guess this means insufficient data?

Looking at that screenshot has further puzzled me, however. If you are working off 1.5 million bars of prior data (on M5 I'm assuming), how can there only be 98 trades at 5am? Ahh.. wait a minute, are the "number of trades in sample" affected by whatever you set the minimum success rate to? I note in my data I have something like 1529 trades on 100,000 bars at 5am for EURUSD.

So, if I understand correctly, it will display -1 for all values depending on how stringent you set your minimum successrate or winrate. Furthermore, in the recorded CSV, the "number of trades in sample" will be reduced accordingly.

Sorry for all the thinking out loud, I'm just trying to work it all out. Hope I didn't confuse anyone

--- 帖子 #684 ---
I may have picked this up wrong but on any tests I have run so far I had thought the success score was simply calculated by multiplying win rate by risk/reward.  In which case 0.9 * 1.8 would give a success score of 1.62 and not 0.5.

Paul

--- 帖子 #685 ---
When writing the trading logic within the EA's backtester, I need to write it in such a way that I can calculate all the necessary variables as if the EA were just started that bar. It's not always easy to do that for more complex systems.

I have a version of this EA which optimizes the Range-based breakout. It's basically the london breakout style system. That--by my estimates--takes something on the order of 122 days to optimize. Why? There are 4.14M permutations to handle. The core system of this EA (HiLo) is so very simple that the backtest runs incredibly fast.

When the system settings don't make sense (TP of -1 is a good example) the EA couldn't find any settings that met your criteria, so the optimizer set the EA using impossible settings so it doesn't trade.

The EA that sample came from isn't the one being used on my live account. That terminal is where I do most of my debugging/testing.

You're right. It should be 0.9 * 0.555555 (5/9)

--- 帖子 #686 ---
Say I enter say a MinimumWinRate of 60%, MinimumRiskReward of 1.5 and Optimize Based On HighestSuccessScore and the optimizer does its thing and returns a TP of -1.  Should I keep trying different settings until it returns a result that makes sense?

--- 帖子 #687 ---
Not at all. TP of -1 means the EA couldn't find any settings that match  your criteria. It basically means "Stand Aside"

--- 帖子 #688 ---
So as long as the settings aren't otherwise unreasonable, just set it and let the EA do its job?

I'm assuming my hypothetical settings are reasonable...

--- 帖子 #689 ---
Pretty much.

You can set what you want the EA to achieve and if the EA finds a scenario that matches, it will trade that scenario.

--- 帖子 #690 ---
Ahh! This has helped clear some things up for me I think as well.

--- 帖子 #691 ---
Replays are up.

http://ronaldraygunforex.com/WebinarReplay/

Webinar 2 should be done in 40 mins. So pls wait until that finishes.

--- 帖子 #692 ---
Great!  Thanks!

--- 帖子 #693 ---
ok, that clears one of the issues for me too. If I set let's say winrate55 r/r 1 success 60 it shows me negative values (TP-1) SO that means it stands aside till it finds this minium conditions so it can start to trade.

--- 帖子 #694 ---
If it doesn't find the minimum condition to trade...how often is it looking for it again?

--- 帖子 #695 ---
and is it possibile to make ea show some values (best real values instead of negative values) even if it does not meet the condition to trade? That way we can visually what works most of the time and/or highest values possibile and edit our settings acordingly.

--- 帖子 #696 ---
Once a week

That seems counter-intuitive to how the EA works. EA basically looks for what you define as your holy grail.

--- 帖子 #697 ---
I guess then it would make sense not to leave settings in the "take a pass" mode as it won't look again for that possible situation for a full week....thus if I'm understanding correctly there would not be any trades for a whole week??

--- 帖子 #698 ---
During that specific hour of the day.

--- 帖子 #699 ---
So during another hour of the day it might "wake up" and go into breakout or counter mode?

--- 帖子 #700 ---
Yes

--- 帖子 #701 ---
I am confused.. on eur/usd:

My setings (please see picture 1):

minimum win rate 60

minimum r/r 0

minimum success 0

Ea is trading and it shows:

minimum winrate 60

minimumr/r 1.2

success 72

As you can see my minimum coditions set are basic, and Ea shows me that at present time the market actually it is in a much better conditions of trading.

but if I change my settings by raising minimum a litlle bit more (please see picture 2):

winrate 60

r/r 0.7

success 60

it suppose to trade as it showed me earlier the conditions matched and are even better that what I set as minimum, however ea wont trade  Keep in mind it is the same hour, same minute.

Is there a bug in the program?

p.s.(please disregard the sell order in the pictures, it was made manually)

--- 帖子 #702 ---
Interesting...

I'm not sure to be honest.

--- 帖子 #703 ---
I was going to post with exactly the same issue actually.

I was looking through the optimized csv data with default settings and decided to try setting a minimum successrate of 60 (there were many hours in the day for that pair which were marked with a higher success rate in the optimized csv). However, after restarting the EA, the optimized csv file had -1 for all entries - i.e. it could not find suitable results. I believe there may be a bug somewhere :/

--- 帖子 #704 ---
The EA is taking hours and hours to optimize itself - never reached the end -

Although I am not having any resources issue (CPU 30%), I have tried it on two different PCs, with different MT4 compilations.

I have reduced the number of bars to optimize to 100 and still having the same problem.

I even changed the parameter EachTickMode to False to see if it is faster but same result...

I can see the animation during the optimization, with the number of cycles and ticks increasing and the smiley too!

I am on M1 chart and didn't changed the default settings.

I can see the optimization CSV files in ExpertsFiles

So wondering what's going wrong

--- 帖子 #705 ---
Since the market hasn't opened yet you're not receiving any ticks.  When the first tick comes in, it'll start optimizing and probably peg the CPU.  I'd bump up the number of bars to like 50K since that's considered the minimum and it's very easy on the CPU anyway.  Takes about 10 or 20 seconds on my crappy computer.

--- 帖子 #706 ---
Thanks Steve, it's working now the market is open.

--- 帖子 #707 ---
Science experiment #2

Previously I traded 1 pair (EURUSD) for 2 weeks.  Everything default so MimimumWinRate = 50 and MinimumRiskReward 0.  BarsToOptimize = 50000.  This meant that I was taking less than favorable trades frequently and there was a large trade count.

I'm now trading 8 pairs with MimimumWinRate = 60 and MinimumRiskReward 1.  This should give me fewer more favorable trades.  It was a pain finding the right BarsToOptimize setting.  I had been using 50000 and I wanted to increase it but my test computer only has 500 MB RAM.  400000 bars was too much and the computer started to thrash.  When I dropped it to 300000 bars it was all able to fit in RAM with no paging.

The optimizing process took about 4 minutes per pair.

To pick the SL setting I used Ron's rule of thumb and set it to 10x the spread.

The pairs and SL values are:

AUDUSD,30

EURJPY,30

EURUSD,20

GBPUSD,40

NZDUSD,50

USDCAD,30

USDCHF,40

USDJPY,30

I'm trading a fixed size of 0.01.  Because the SL values are quite varied my risk is also not constant.  Also, the $ per pip is different for the non xxxUSD pairs so I'll have to take that into account as well.  Next phase I want to equalize my $ risk per pair.

This experiment should at least give a baseline of profitability in pips.

--- 帖子 #708 ---
Nice I like your aproach, I am trying:

risk/reward 0.8

winrate 60

all pairs (10 pairs) with 30 pips sl and 30 pips TP

100000 bars.

Last week I wasn't satisfied with only minwinrate 50 bars 60000

--- 帖子 #709 ---
Ive never seen my winrate break 60 on any pair.

--- 帖子 #710 ---
With the default of reverse trades true, Your 30 pip TP will be ignored by the bot.

--- 帖子 #711 ---
Has anybody tried a global closure yet?

--- 帖子 #712 ---
Then something is wrong with your setup as I have had a couple over 70%...

--- 帖子 #713 ---
Thanks for sharing.  I am running on ibfx, gomarkets and forex.com

waiting to go live though...  So far so good on even 50% winrates....

Have it set up for 50, 60 & 70 to see where the sweetspot is.  Had one at 90, no trades.

--- 帖子 #714 ---
Am I correct in thinking that if after optimisation if I have the following showing that that means that the EA could not find a successful set of past trades from my requirements I gave it:

TP -1

Current Win Rate -100%

Current Risk Reward -1

Current Success Score -100

Array Win -1

etc.

I was using the following settings across 13 pairs.

Stoploss 300 (5 digit broker - with TP set to false)

Breakout Settings:

Barstooptimise 400,000

Min WR 70.0

Min RR 0.0

Min SS 90.0

ReverseTrades False

Then using optimisation based on Highers SS

Thus I wanted the EA to use a fixed stop loss of 30 pips (10 x spread on GU) and a min WR of 70% and SS > 90 (meaning a RR of 1.29). I'm using JadeFX thus have ECN set to true and am using the Stevegee58 version.

Thus, does the display I'm getting mean that my input settings are too high...e.g. I should lower the WR or SS or both?

Thanks

--- 帖子 #715 ---
you are right, I know that.

Can you guys post some results? All I know is that i Had this bot with default settings last 3 days last week on 10 pairs, and it lost heavily and there were also lots of orders... over 50 orders actually. I am trying different settings this week supposedly there would be  less orders but more profit.. we'll see...

So let me ask you this.. What do you guys think, take profit suppose to be fixed or the stop loss? It is an interesting question... I think stop loss.... at least you know for sure how much you are going to lose in the worse case scenario

--- 帖子 #716 ---
i would lower  success rate...

--- 帖子 #717 ---
Thanks...is that what TP -1 etc etc means then that settings are too 'high'.

I quickly tried it with very minimum SS and 0 WR and 0 RR and still got the same result?

I'll try again tomorrow with a different broker and see what happens. I'm surprised a WR>70 and SS> 90 doesn't produce any results though?

--- 帖子 #718 ---
How good was it on WR 50%? I am curious because I lost heavily last week... Was it a standard deviation of a coin toss or something more substantial?

--- 帖子 #719 ---
Try not to be to picky at the beginning till you get the taste of this bot... I would test it with a small increase of the settings, one of a time.. but that's me..

--- 帖子 #720 ---
Its never wise to bet money against statistics. You are welcome to try, let me know if it works.

--- 帖子 #721 ---
Can you elaborate please? Also I have a question, I noticed some of the orders don't end up at take profit or stop loss.... Why is that? Is the bot closing some of the trades abruptly?

--- 帖子 #722 ---
I set the stop for fixed, but I would also like the option to set my own TP.

--- 帖子 #723 ---
When you set up reverse trades the bot is optimizing for you to loose. If you use that as a strategy you are betting against statistics.

--- 帖子 #724 ---
I'm mostly doing manual trading these days but couldn't resist putting Ron's EA on a demo EU chart  (15 M).   It took a nice short today which I closed at +44 pips.   Then I put it on a few other charts tonight.  It's already taken a GU long and a UJ short.  The GU is in minor profit.  My set file is below.  Nice job.

Sandy

Remark1=== Main Settings ==

MagicNumber=12349

SignalsOnly=0

Alerts=1

SignalMail=0

PlaySounds=1

ECNBroker=0

EachTickMode=1

CloseOnOppositeSignal=0

Lots=0.50000000

MoneyManagement=0

Risk=0

Slippage=5

StopLoss=600

TakeProfit=600

Remark2=

Remark3=== HiLo Settings ==

BarStart=0

InitialRange=10

WinPercent=50.00000000

MinimumSuccessScore=0.00000000

MinimumConfidence=90

--- 帖子 #725 ---
well I am going with default setting: Reverse = False (fixed stoploss) I think I missunswered to fxshadow. Anyway thanks for the tip, if we change reverse=true it would be optimized for losing??!?

you mean with default settings reverse=false my TP will be ignored.

rfking2 opened my eyes I answered wrong to your post.

--- 帖子 #726 ---
A lot of you seem set that this EA must trade every day?

I ask all of you to try what steve has done.

Set the EA up on a weekend, and don't touch it for a week. The only real reason you would need to interfere with this EA is if the EA's forward-profitability is significantly different from the expected profitability based on the internal optimization.

This EA tends to predict itself more accurately when the TP and the SL for a given hour is greater than the average range of a bar (high - low). The reason is simple really. The EA when testing looks for a bar where the target price (Stoploss or takeprofit) is inside the high or low. If that bar happens to be the same as the entry bar, or if the target price and the highest price happens in the same bar, the EA cannot truly model how that price will work within a bar and those scenarios could skew the results.

--- 帖子 #727 ---
Will this EA take signals on an offline range bar chart?

--- 帖子 #728 ---
Thank you for posting an entire list of settings as they are a bit confusing to me  I would like to forward test this as well and with RR's suggestion will setup over weekend.  Do we need to manualdownload data for best results?

And then place on 1 minute chart yes?

--- 帖子 #729 ---
so on the bars that get tested. Under options it says bars in history 512000 and max on chart 65000.  Are these all it needs to backtest?

--- 帖子 #730 ---
Maybe...  The previous week was bad, last week was great!  Made up all losses then some.

I know very little of how this EA works as I haven't had time to dig into the code yet.

--- 帖子 #731 ---
I don't think so... unless the bar updates with refreshrates(). There's only one way to find out.

--- 帖子 #732 ---
Musashi,

I don't think so ... either, 'cos that was my initial preference with this EA

but over 80,000 bars (1 min.T/F) translates only into about 2,000 bars (5 pips) Constant Range

so, this looks like not enough data for optimization ... unfortunately

--- 帖子 #733 ---
Very interesting stuff Ronald... subscribing to the thread ....

--- 帖子 #734 ---
Ronald or any other programmer,

Is there a way to implement into the EA a TP based on Risk/Reward?

For example let's assume I have my EA set for 1.33 Risk/Reward. When the EA finds this condition and execute the order I want to modify the TP to another Risk/Reward value less than the 1.33 or any other. I think the win rate would be higher.

--- 帖子 #735 ---
You lost me. What's the point of your modification? Why not just increase the win rate and decrease the risk reward?

--- 帖子 #736 ---
Sorry Ronald, my English is not very good. If you set the EA for specific settings and then you take a portion of what the EA predicted as a Take Profit you will do better than modify the EA settings. If the EA tells me that there is a trade with more than 1.30 Risk/Reward I would prefer to secure that trade at 1.15 than to go for more. Sometimes the EA will place the TP more than your Risk Reward settings. Yesterday I got a trade on USD/JPY with a Risk/Reward more than 2.10 and you know what the TP was not triggered by 2 -3 pips away.  I don't know if you get what I am saying? If not forget it. The EA is profitable so far.

--- 帖子 #737 ---
I'm not sure how good of a programmer you are, but you can have a second EA read the optimized settings in the experts/files folder created by the original EA. Then you can weight up or down.

--- 帖子 #738 ---
Hey Ron, is the MinRiskReward setting really risk/reward?  Or is it reward/risk?

Phrased another way, if you want to risk 1 to make 2, is the MinRiskReward 2 or 0.5?

--- 帖子 #739 ---
The formula is reward / risk.

So 2 in your example.

--- 帖子 #740 ---
I've attached it to a 2R Chart, guess I'll find out.

This is what the writing in the top left looks like.

No idea if that means it will trade or not.

--- 帖子 #741 ---
Well it worked ok on the offline 2R chart

Trading the exact same trade i was considering this morning.

--- 帖子 #742 ---
Hit the 10 Pip TP target no problem.

--- 帖子 #743 ---
2x10 pip winners.

According to the backtest the win ratio is 54.15%

--- 帖子 #744 ---
Seems breakouts work well when a strong trend in place eh...

7 winners 1 loser

I'm guessing once a range begins it will even up somewhat.

--- 帖子 #745 ---
Ronald: My post must have got lost a couple of pages back, but basically I think that there may be an issue with the successrate filter. I covered it in my post here.

Basically, the optimized filter has the following, for example:

4: successrate: 0.58

5: successrate: 0.65

6: successrate: 0.63

If you then apply a minimum successrate of 60, while changing nothing else, I get an optimized set full of -1 values. With this example set, hours 5 and 6 should be tradeable, should they not?

--- 帖子 #746 ---
As I mentioned to iulli, I'm not sure.

It seems that the backtesting data changed.

Here's a thought.
Take a backtest/optimization. Go to the experts/files and back up the initial files. Rerun the optimization. Compare.

--- 帖子 #747 ---
I was having the same problem the the success rate. I solved it by entering "1" for a success rating of 100, not "100". So for a success rating of 60, try "0.6".

--- 帖子 #748 ---
I have a question,

Does this Green and Red Dotted Line indicate the zone by which the breakout strategy trades once price goes past these levels.

If so can you elaborate as to how these levels are determined, intraday or end of day? or both.

--- 帖子 #749 ---
Green = Long

Red = Short

These are intraday levels

--- 帖子 #750 ---
So do these level move at all during the day or are they only determine via the current day H/L range.

At which point do they reset to the initial 10 Pip range?

--- 帖子 #751 ---
00:00

--- 帖子 #752 ---
What do you consider a good success rate using the inbuilt back tester with a R:R of 1:1

Obviously the higher the better, however considering the back tester is not perfect is there a cut of level you would consider to small?

Or anything over 50.1% win ratio is ok for you?

--- 帖子 #753 ---
@ronald

Optimizer :
Inserted Code  if(TimeDayOfYear(Time[SearchShift]) != TimeDayOfYear(Time[SearchShift + 1]))
{
DayStartShift = SearchShift;
}
//Find the end of the range and establish initial high and low
if(DayStartShift - SearchShift == InitialRange)
{
RangeEndShift = SearchShift;
HighShift = iHighest(SymbolUsed, 0, MODE_HIGH, DayStartShift - RangeEndShift, RangeEndShift);
HighValue = iHigh(SymbolUsed, 0, HighShift);
LowShift = iLowest(SymbolUsed, 0, MODE_LOW, DayStartShift - RangeEndShift, RangeEndShift);
LowValue = iLow(SymbolUsed, 0, LowShift);
}
Master function:
Inserted Code int DayStart = iBarShift(NULL, 0, StrToTime("00:00"), False);
int RangeStart = DayStart - InitialRange;

//Determine Current Hilo
int HighShift =  iHighest(NULL, 0, MODE_HIGH, [color=Red]RangeStart[/color] - 1, 1);
int LowShift = iLowest(NULL, 0, MODE_LOW, [color=Red]RangeStart[/color] - 1, 1);

double HighPrice = iHigh(NULL, 0, HighShift);
double LowPrice = iLow(NULL, 0, LowShift);
Shouldn't that be DayStart instead of RangeStart? Because the optimizer is start calculating hilo from daystart. And the optimizer... feels weird you know . I'm still comparing generated csv data to understand how it works and how it suppose to works. I'll let you know if I found something. Btw, your MM lines doesn't include SL in it, is it ok? It seems trade doesn't close around percent loss MM value.

@musashi

Use attached file, excel 2007 format. It draws random equity curve expected from certain winrate, RR and risk. But remember, that any equity curve emulation derived from those value will be quite different from reality. In my experience, profit loss distribution / sequence is not a normal distribution one.

--- 帖子 #754 ---
Not quite.

Initial range is the number of bars after the day start that the EA waits before calculating the high/low. I generally wait an hour because it only takes an hour for the day's high and low to separate enough to minimize whipsaw.

If I started calculating the high / low from the day's start, then there is a chance the EA will ignore the initial range and trade during that time.

--- 帖子 #755 ---
Hmm..mabe RR can weigh in on this.

Does it matter if it is set at 70 for 70% or should it be 0.7

--- 帖子 #756 ---
In successscore, it should be whole numbers. (0 to infinity)

In risk/reward, it should be decimals (1 being equal)

In win rate, it should be whole numbers. (0 to 100)

--- 帖子 #757 ---
Hey RR, here's an example of using 90 and 0.9 to get a successscore of 90:

Could there be a bug in the code that multiplies the successcore by 100?

--- 帖子 #758 ---
RR

Checking the csv file it would appear that success score of 1 is equal to 100.  For instance a win rate of 50% (or 0.5) and risk reward of 2.0 would equal 1.0 in the csv file.  It appears on the trading screen as 100 so the ea must multiply this at some point.

Paul

--- 帖子 #759 ---
I think the numbers in brackets are what the minimum criteria you set for the EA i.e. 50% win rate, 0 RR and 0.9R. The numbers to the left of the numbers in brackets are the current projected SS, WR and RR based on the EA's backtesting for this strategy type in this particular hour?

--- 帖子 #760 ---
Correct. The numbers on the left mean that my criteria was met and is looking for trades.

--- 帖子 #761 ---
Edit: It actually seems the second part of the problem was due to me having the files open in Excel (it couldn't clear them). The minimum success score works with a decimal place - i.e. 0.5 = 50% 0.6 = 60% and so on.

Confirming the issue here, and furthermore even if you use a decimal place for the success score, it seems to ignore the success score minimum.

I think this is due to the EA failing to clear the csv of optimized settings upon re-initialization. Instead of creating a new optimized settings csv with updated data it appended the new batch of results. Can anyone confirm this is also a bug?

--- 帖子 #762 ---
Ronald just one question for you.

You trade a lot of pairs. Do you use the same setting for optinization for all of them.

At the moment i am testing 20 pairs. I have diferent SL settings for each pair but i used winrate 60% and risk reward 1.2 for all of them. I optimized with sucess score true over 300000 bars. I have quite a few pairs without any tradable hour in csv file.

What would you do with souch pairs. Juste leave them out or lower optimisation settings. I think that with 60% an RR 1.2 they are low allready.

Or should i just leave them as they are and maybee after a month or two there will be some change in the market and after every week optimisation those pairs woul be tradable.

boki

--- 帖子 #763 ---
If the pair's optimization results leave me with no trade options, then I don't bother. I know what sort of results I expect from the market and if the market won't give me what I want, I won't trade it.

--- 帖子 #764 ---
Has anyone figured out how to prevent the EA from having 8-10 straight losses on a pair?  On on EST and last night while sleeping I had 19 losing trades in a row on 2 pairs.....giving back all my gains for the week so far.

Also..I know there are a few versions of this EA having been posted in this thread...RRs and 2 others I think...one from Steve and one from King.

Have we decided which is the preferred one to use?

--- 帖子 #765 ---
What about ... MaxSimultaneousTrades = 10 ... ? ... perhaps that's a bit to many.

I did change this to just one ... and so far, I had only two losers in a row, but on average it looks like: two wins against one loss.

--- 帖子 #766 ---
I ran into a motivation for using a VPS this morning.  We had a particularly violent thunder storm come through and knock out the power.  When the power came back, the cable (internet) was still out.  So my science experiment is going to lose a day until things stabilize.

BTW, the science experiment hasn't been going too well.  I've had long strings of losses and don't know if it's due to market conditions or running too many pairs at once. i.e. overloading my computer.

--- 帖子 #767 ---
That should work.  I will try that moving forward...maybe knock it down to 2 or 3 and see what happens.

--- 帖子 #768 ---
I tried running this on a vps and I find it tricky to run more then 2 currencies at the same time. I also struggle to download more history into mt4 because of restricted resources. So I guess it depends on how much money you want to throw at a vps. I've got a basic package and this ea is just too much for it to handle.

On the other hand, it's motivated me to work toward a better setup at home so I can run it from there

--- 帖子 #769 ---
For 'just' $720 (Plus tax) You can get the one of the exact same servers I'm running.

Just remove one hard disk, and bump the processor up one.

--- 帖子 #770 ---
I do like your manly computing setup Ron, but it doesn't solve the power/internet outage problem.

A good VPS company has backup power and redundant network connections.

--- 帖子 #771 ---
I remember when you ran into this problem.  But remember I'm successfully running 8 currencies on a very, very crappy Dell 2400 with 500 MB RAM.  The critical setting is the "Max Bars in Chart" setting under Tools/Options.  Then you just make sure the BarsToOptimize setting in the EA is set to a value smaller than that.  I limited myself to 300,000 bars and it worked fine.

Last time I looked, typical VPS specs were better than my setup.

--- 帖子 #772 ---
I can't solve power/usage.

But what I do have are rented closets around the US (literally, closets) and I put my own custom-built servers there. I pay something like $100 / month for the space, electricity, and internet connection. It's far cheaper than colocation, and in some cases, cheaper--after depreciation--than VPSs.

I suggest you use family/friends. It just happens that my friends are quite tech savvy, and have no problem doing the basic management stuff (set up network, troubleshoot internet connection, etc).

--- 帖子 #773 ---
You could buy a generator and use water as your fuel

--- 帖子 #774 ---
i have had nothing but losses all week.

--- 帖子 #775 ---
Ronald: Does the optimizer take into account spread at all when making its assessment? If so is it possible to add an option which lets us set the spread as it may vary at different times of the day. If it's not included, any chance you could add this feature, as the spread could heavily change profit/loss calculations.

Thanks, as always.

To anyone who is having trouble with the EA, make sure you are using a minimum successrate of greater than 0.5 otherwise you have no edge.

--- 帖子 #776 ---
Last night while restarting my computer after the power outage, I took the opportunity to tighten my trade criteria since I was unhappy with multi-pair results this week.

I've increased MinimumWinRate from 60 to 65, increased MinimumRiskReward from 1.0 to 1.5.  I calculated the stop loss settings as before, using the 10xspread rule of thumb.

I want the EA to be much more selective and take less trades.

--- 帖子 #777 ---
When I try to be more selective on EU (Min Success Rate=55), the EA is not able to find any winning combination. By looking at the optimized settings CSV file I can see all the values to -1.

Maybe my historical data is not acurate, or that just the HiLo strategy didn't perform historically well on this EU pair.

were you able to find winning combinations with the below settings on EU?

--- 帖子 #778 ---
Frankly I've been running around lately and haven't had a chance for a sit-down with the csv files that the EA generates.  I'm hoping to have a look this evening after trading stops.  It could very well be that I've tightened things to the point that there will never be any trades.

--- 帖子 #779 ---
I have managed to get one or two hours of trading on EU with win rate 50 and success score 0.8.  Anytime I try a higher win rate it blocks out all trading.  At least the success score ensures my risk reward is well above 1.

Paul

--- 帖子 #780 ---
Thanks Paul for sharing this.

But if you have only one or two hours where trades can be trigerred, the EA can spend a month before finding a trade opportunity.

But as you said your success score statistacally ensures that you will end up by winning.

So maybe the best thing to do is to run the EA on as much pairs as possible with the highest statistical sucess score and increase the lot size.

--- 帖子 #781 ---
... yes, that would be great ... I did mentioned about spread filter somewhere earlier in the thread, ... Ron what do you think about it ???

--- 帖子 #782 ---
If your bar count was relatively low, then that would be expected. Why? This week was the first down week in awhile.

As for those asking about spread, yes, I'm working on putting in a more realistic spread model to put in. Sunday spreads tend to be wider than normal spreads.

--- 帖子 #783 ---
To give an update on what I ran for the week.

4 pairs (U/J seems to still be the best)

Had MM set to True, risk of 1

Turned off the scrolling RR during opto to speed things up a bit.

50K bars to opto

70 min success score up from the default of 50.

Start off the week well...then had 19 losses in a row to blow out all the gain...and take back some of the gains from last week.

Last night around 6pm est. I lowered the max trades at once to 5.  Didn't get any trades between last night and this morning.  Turned it off for the weekend around 8am est to give my pc a break.

I'm tempted to just try it on U/J with more optimization the beginning of next week

--- 帖子 #784 ---
Yes, my CPU's (pretty much have a super computer) all the instances of MT4 live, with all the currency pairs, while trading futures using tradestation and ATC brokers interface.  Computer gets a little bogged if I have anything much over 50K bars..

It was working beautifully last week when I had it just on one instance and 300K-400K bars...  I guess that is the trick...

--- 帖子 #785 ---
You might have missed this earlier but min successrate needs to be set with a decimal point - i.e. 0.55 = 55%

Ronald said it shouldn't be this way, but according to my testing it works.

--- 帖子 #786 ---
Thanks Ron, good to hear

One other question that may have been asked earlier in the thread - does the optimized back test take into account the max number of trades setting? e.g. Will it take all 10 trades during a breakout hour if the breakout continues on each consecutive m5 bar, or does it wait until the first trade is closed? If so, might we be skewing our own results by using a max trades of 10 when the backtest uses the equivalent of 1 max trade?

--- 帖子 #787 ---
Thanks Mindsphere.

I Will try a SuccessRate with a decimal value.

I still have 2 questions, maybe someone can help :

SucessRate is a combined metric of Win Rate and Risk Reward, so I think it is better to set only the value of the minimum SuccessRate (and not the win rate) and optimize the results according to SuccessRate also.

Is it redundant to proceed this way?

What is the difference in terms of performance between the two following settings:

A- 0.1 lot with a maximum of 10 trades

B- 1 lot with a maximum of 1 trade

I tend to say that scenario A is safer, but I am not sure...

--- 帖子 #788 ---
The backtest takes all trade opportunities regardless of whether or not there are other simultaneous trades open. The reason why is in the nature of how the TP/SL optimization works as I explained in the webinar.

--- 帖子 #789 ---
Well I finally got around to looking at the files that the EA generates.  The files named "HiLo Self Optimizing XXXXXXm Optimized Settings.csv" contained all -1 values.

I guess that means no trades were found in the 300,000 bars over which I had it optimize with my criteria? (65% win rate, 1.5 reward:risk)

--- 帖子 #790 ---
The easiest way I found to get a success score over 100 is to lower the win rate and increase risk reward. Next week I'm going to test a win rate of 30% and R/R of 4. This should give me a success score of 120. 12 pairs and 250,000 bars. Lets see if my results fall in line with statistics...

--- 帖子 #791 ---
Doesn't look like it.

What does All Permutations say?

--- 帖子 #792 ---
Interesting... If that is the case, is it possible that extremely long trends, over consecutive m5 candles for example, could skew the backtest results?

i.e. if it takes 1 trade per bar, and there are situations where the trend continues slowly for a couple of hundred pips on a given day, triggering a breakout on m5 every 15 minutes or so, it's possible that the backtest system will over-weight that day, thus rendering the backtest less reliable as a predictor of future moves.

On that point, is there a way to get the EA to draw the trades that its calculated? Might be a little much for a 1million strong bar chart, however

--- 帖子 #793 ---
It's full of numbers that aren't -1.  What's the interpretation for those records?

--- 帖子 #794 ---
The column headings are the same as the optimized settings file. Difference is this is every possible permutation. If you see something there that you like, replace the corresponding hour with the new line.

--- 帖子 #795 ---
Yes, it's possible. Take a look in the master copy file and see how frequently trades happen.

That's largely why I backtest against longer periods. I'm more likely to catch both a long up trend and a long downtrend.

--- 帖子 #796 ---
I see... So the idea is that by taking an extremely large sample we correct for such possible discrepencies? If that's the case can you possibly recommend a good source for accurate historical data that goes back further than 2001? The free source quoted throughout this thread gives me only about 700,000 bars on m5.

Thanks again!

--- 帖子 #797 ---
Are we to go off the M1 or M5, as I have not been keeping up w/ this thread, but when I do M1 data, I can import about 380K records.  Then, when I reboot my MT4, it goes back to 83K bars???

Anyone know why this might happen?

I have max bars set in history...  I used to have 300K bars, but now it just keeps going back...

--- 帖子 #798 ---
Why are you using M5?

--- 帖子 #799 ---
Ah I thought that was what you recommended at some point in order to minimise whipsaw. You recommend using m1 then?

--- 帖子 #800 ---
Just found the thread and am now reading if from the beginning.

--- 帖子 #801 ---
1M or smaller.

Basically the more granular the timeframe the better. I'm trying to generate some sizable 5 tick bars. I have about a month's worth of data. There's some promise but nothing conclusive yet.

--- 帖子 #802 ---
Pg 21 is the current EA...

--- 帖子 #803 ---
I use M5 with my version on post #621 because it uses a parabolic when counter trading. I continue to test both time-frames on RR's to ensure functionality, and they trade at most only a few seconds apart.

--- 帖子 #804 ---
The issue I'm concerned with is the backtest. 5M bars are generally larger than 1M bars and thus an increased likelihood of unsure trades--trades where any two of the entry price, takeprofit, or stoploss are on the same bar.

And RFKing, did you do something to ensure the filenames in expert/files are different? For all we know, the 1M EA's optimize data is being used by the 5M EA

--- 帖子 #805 ---
Most interesting! I'm guessing you've got that running separately to metatrader (sub m1 timeframes)...

Do you suggest we limit the EA to less than 10 simultaneous trades? With m1 were more likely to suffer a string of losses even with a high threshold for successrate & winrate, are we not? Is there anything else you can suggest to counter such an outcome?

--- 帖子 #806 ---
I checked the all permutations file and saw some weird (negative) numbers for the take profit values.  What's that about?

Also, when a SL value is 37600, how many pips is that?  e.g. for EURUSD, what value does that map too?

In the areas where the numbers seem more sensible, I found why I didn't have trades.  For trades with win rate > 65% the highest reward:risk was 1.0.

This was a real eye-opening exercise.  Start up the EA, let it optimize, stop it and go through the all permutations file to find settings that are appropriate.

Here are 2 screen shots of the Excel file where I added my own heading line.  The first screen shot just shows the very first lines of the file.  The second shows a more normal-looking area.

--- 帖子 #807 ---
You can if you want. I don't see too many bad strings, but then again, I use super-long optimization periods.

You can also consider the possibility of a string of wins. The EA is fairly accurate in predicting its own success.

You can also consider increasing the required sample size.

--- 帖子 #808 ---
Your stoploss value is the gross stoploss and your takeprofit value is the gross takeprofit.

The profit column is the net profit.

I am curious to know why the gross profit is negative. I think those were the tested trades where the entry bar is the same bar as the takeprofit bar or the same as the stoploss bar, or the takeprofit bar is the same as the stoploss bar.

In the master copy file, have a look at the trades themselves. Specifically pay attention to start and stop shift.

--- 帖子 #809 ---
The master file doesn't have fields for start and stop shift that I can see.  Here's a screenshot of the first part of the file...

--- 帖子 #810 ---
I don't see anything too abnormal...

The trades are ending either in 1440 bars, or in < 100 bars

--- 帖子 #811 ---
I am only using about 250,000 bars because I don't like waiting any more then a minute to change settings. I have separately installed instances of mt4 to ensure my multiple demo and live accounts don't interfere with each other. This also inadvertently keeps the data files separate. I mean M1 time-frame and M5 time-frame. Using M5 with parabolic prevents whipsaws. In my demo I test "RR SO" on M1 and M5 (separately installed with small starting balances) with all pairs to keep a good account of profitability and ensure time-frame functionality. I am live with "RFK SO" on M5 with optimized pairs, and have good results even threw this past week when most other systems failed due to the market shift.

--- 帖子 #812 ---
Will the EA perform the optimisation when the markets are shut...i.e. can I run it over the weekend so I can run various potential settings so I can analyse the csv files or does the markets need to be open?

I tied running it today but the optimisation animation doesn't come up like it normally does?

--- 帖子 #813 ---
Somebody said last week that you have to wait till the market is open.

--- 帖子 #814 ---
You can attach the EA to your chart, and than close MT4 and start it again.

The optimization works for me even when the market is closed.

--- 帖子 #815 ---
If you right click on the chart and click "refresh", what happens?

--- 帖子 #816 ---
One major differance I have noticed between trades taken simultaniously. Is M5 trades tend to have a higher TP then M1. Im not really sure why, but winrate stays the same so it is more profitable from my tests.

--- 帖子 #817 ---
Today's science experiment is to run an optimization and go through the data to come up with some sensible values for MinimumWinRate and MinimumRiskReward.  Last week I shot from the hip on these values, not knowing that I'd set them so tight that there were no trades at all.

So I'm running the optimizations now and will be going through the csv files when it's done.

--- 帖子 #818 ---
Great Steve, can't wait to hear your findings.  Thanks for taking the time to do this.

--- 帖子 #819 ---
LOL I'm doing it to make money, no need for thanks.

--- 帖子 #820 ---
LOL...of course.....but at the same time your helping others see what might be the best settings.

--- 帖子 #821 ---
Has anyone been changing the min sample size setting for the default of 10?

I have a really good SS, WR and RR for a specific setting and specific hour on GU but the no. trades in the sample from the optimization over 1.5m 1min bars is only 29. I know the definition of min sample setting is:

The minimum number of trades in a sample (One sample is a specific  hour, trading style, and takeprofit/stoploss combination) required to  optimize.

But I'm not sure what that actually means in terms of what are the maximum number of possible trades within a given hourly sample over 1.5m bars? Thus is 29 really too low in terms of expected frequency of trades and too low to be a reliable statistical figure?

--- 帖子 #822 ---
Today I ran settings of 500K bars to opto...just on UsdJpy

Had WR set to 65% and SS set to 0.6

No trades for 24 hours.

Guess I'll try something different now!

--- 帖子 #823 ---
Hrmn.

I think for the next version of this EA I'll have it post the highest values gained for that permutation so you can manually compare against desired values.

--- 帖子 #824 ---
Did you go through the csv files that are generated by the EA's optimizer?

The "All Permutation Settings" file has the info you need to see if your settings are too tight.  Maybe there weren't any trades with those stats.

--- 帖子 #825 ---
No, I guess I need to figure out how to do that lol

--- 帖子 #826 ---
I thought's that what it does now? If I set min value of WR of 65 and optimise based on SS it will post the highest SS gained for a min WR of 65 within that 'hour'?

--- 帖子 #827 ---
I did some optimization over the last couple days across the USD crosses and found that the for a WR > 65 RR falls to lower than 1 on average and vice versa for a low WR which you'd expect. The top SS's I found were in the 80 region apart from a few anomalies which were higher but the sample size was extremely low thus trades would be too few.

Are these types of SS's the same as what others are obtaining, I thought I remember Ron saying he gets above 105 on more pairs? (I know you don't want the EA to be trading all the time...i.e. just when it meets some picky criteria).

I'm optimizing based on 1.5m bars.

--- 帖子 #828 ---
I'm getting SS of between 80 and 90 with a wr of 50 on both eu and uj.  I'm using 500,000 bars

Paul

--- 帖子 #829 ---
The EA doesn't quite do that now. It shows you the highest values that exceed your criteria.

--- 帖子 #830 ---
Ronald, just a couple of quick questions:

- When backtesting does the EA presently take into account spread in its calculations?

- Is there any reason why the EA would close trades that haven't hit TP & SL? (default settings, other than modified minimum Winrate & Successrate).

--- 帖子 #831 ---
No

When backtesting, the EA holds trades open the maximum amount of bars, by default, 1440 (one day)

--- 帖子 #832 ---
I have noticed that sometimes the EA closes the trade even if the SL or TP is not hit.

If a trade was taken based on a Breakout style at a certain hour, and let's say that in the next hour the EA detects a Counter setup, than the current trade will be closed and another one will be taken in the opposite direction.

Most of the time this trade reversal is beneficial (bank some pips and reverse the trade to gain more or cut the losses and reverse the trade to be in market direction).

I will let Ronald confirm!

--- 帖子 #833 ---
RR,

I started testing with money management last night, and all the trades started closing before hitting tp or sl. Any ideas why and how to avoid this?

--- 帖子 #834 ---
EA automatically reverses a long trade if there's a short signal and vice versa.

--- 帖子 #835 ---
If a trade is closed during optimisation after 1440 bars does this trade count towards the overall win rate bearing in mind it neither hit sl or tp.

In addition to this what is the general view on how long trades should be kept open for.  My tests opened 7 trades yesterday approx 11 am (GMT).  These went about halfway to tp and are now in dd, although they are now moving in right direction.  My point is that these trades in my view have now lost any relationship with the original trading time, ie whether they were part of a breakout or counter trend.  As we have moved into another day they may as well just be random trades as the pair have now got new high and lows for today.  Surely the relevance of why the particular trade opened becomes less the longer it is held for.

Cheers

Paul

--- 帖子 #836 ---
The trade is counted as a win.

The way the optimizer works is (assume reverse trades is false)...
An entry bar is found in the bar history. The EA counts the number of bars after the entry bar when the stoploss is hit. Or the maximum trade length is hit. The EA determines the highest takeprofit during that period and enters that takeprofit in the TP/SL optimizer. If the Maximum trade length is hit, the EA assumes the stoploss is hit at the end of that trade length and again calculates the highest takeprofit. In my initial development of this EA, there were some trades which were the 'perfect trades' where the trade is taken at the apex of a trend, which ultimately skews the optimization results.  If reverse trades is false...

The EA looks for the bar when the takeprofit is hit and checks for the largest stoploss in that period.

--- 帖子 #837 ---
Thanks for the clarification Ronald, however I'm unclear as to whether you answered the first part of my question - does the EA take into account spread in its calculations at all? If it doesn't, aren't we getting somewhat skewed results from the optimizer?

Cheers!

--- 帖子 #838 ---
No, the EA doesn't use spread. No it shouldn't skew the results as long as the sl/TP is greater than the spread.

--- 帖子 #839 ---
Managed to get success scores of 105 and 125 on EU using 500,000 last night.  Settings are SL 190, min win rate 50 and min success score 0.8.

It only occurs in two trading hours, however, RR mentioned earlier in the thread that his settings may not trade often and he aim for at least a SS of 100.

Paul

--- 帖子 #840 ---
Hi, I don't understand how do you get success scores so high, with the same setting I have none trade.

May you help me to understand better?

--- 帖子 #841 ---
eracle

I am in work at the moment with no access to my vps.  If I get a chnace I will post the set file tonight so you can try it.

Paul

--- 帖子 #842 ---
OK Thank you

--- 帖子 #843 ---
Sorry for the delay, here is the set file

Paul

--- 帖子 #844 ---
I am posting my results for my first week on a demo account. I am quite satisfied from the results even if my profit factor is 1.43. What is good with the system is that it worked like I've set its parameters except for EU.

For the next week, I will keep the same settings but I will just disable the trading for certain hours by filling -1 values in the optimized settings file.

If you want to know my settings, all you have to do is to look at the results!

http://www.mt4i.com/users/jupiter/stats

--- 帖子 #845 ---
So your min win rate was set to 72%?

--- 帖子 #846 ---
75% but I had bad results on EU.

I believe that the win rate is more reliable than R/W and Success Score when working with a HiLo strategy. The strategy can predict statistically what will be the type of the trade better than what will be the TP. So I set the SS not too high.

--- 帖子 #847 ---
I stopped the EA earlier this week after having an abysmal couple of weeks.  My setting was like 60% with a RR of 0.9.  Should've worked better than it did but it was just loss after loss.

Surprisingly my first experiment was just default settings with the win% at 50% and the EA was moderately profitable.  Maybe this week I'll have another go and just up the win% to 55% or 60% and leave everything at default like the first time.  I think I adjusted too many variables at once.

--- 帖子 #848 ---
How many bars were you using?  Did you select optimize based on win rate? What did you set the SS to.  What did you use for stop and what pairs did you trade?  Thanks.

--- 帖子 #849 ---
yeapp same here, lots of losses last week winrate 60% Risk/reward 0.9. At one point I was even thinking just to go the opposite of the signal, I would have had lots of winners... I have 100,000 bars, stoploss 30 pips,15 pairs.

--- 帖子 #850 ---
125,000 bars

optimized based on SS

different SL for each pair, you can check the results

--- 帖子 #851 ---
Thanks!  I can see now on the excel sheet all the trades.  Interesting to see that the E/U didn't perform.

--- 帖子 #852 ---
Taking into account that I was using 125,000 bars on EU, I think it's logical that the pair didn't perform well, it's the first week in this bar range where the market was acting like this.

--- 帖子 #853 ---
using win rate 60% and success score 0.8 and 500,000 bars on EU kept me out of the bad week,  Just shows what RR has said that with larger number of bars the ea should be more reliable

Paul

--- 帖子 #854 ---
Can you post your results for EU?

--- 帖子 #855 ---
I have read some people are using R/R 0.9 instead of 1.10!!!!!  May be I am wrong.

--- 帖子 #856 ---
I have been constantly changing my settings until I find something I am comfortable with.  Last week my settings only allowed trading for 2 hours a day and we never hit a hi or low during these times therefore no EU trades.  I am using the same settings on UJ and this managed 7 trades on MOnday.  I let these trades run and run.  They were open for just over 48 hours before closing at a loss.  Hence my question to RR earlier in the week about ideal times to close a trade rather than letting it run its course.  The EA in backtesting closes after 1440 bars but doesn't do this live.  I am thinking that I will certainly not let trades run any longer than this but we will see.

Paul

--- 帖子 #857 ---
Hi Networkr75,

your MinimumSuccessScore=0.8 correct?

--- 帖子 #858 ---
Hi Ron,

Your EA doesn't work correctly on IBFX broker. It opens 10 trades during one bar against one trade on each bar.

I'm using last version on M1 chart

Regards,

LeW

--- 帖子 #859 ---
You're not using the latest version.  Also, make sure to set ECNBroker to true for IBFX.

--- 帖子 #860 ---
I have the lasted version posted by Ron on 4 Aug...

--- 帖子 #861 ---
Try using steve's version. His code handles ECN brokers better than mine.

--- 帖子 #862 ---
I am not filtering based on MinimumSS, only Win Rate and R/R.

--- 帖子 #863 ---
Hi networker75

Do you use a stevegee58 or Ron version of EA? On which broker?

Regards,

LeW

--- 帖子 #864 ---
I am on a demo account from Alapari and I am using the "official" EA of Ronald.

--- 帖子 #865 ---
4 days of demo and not 2.

Nothing strange with that, look at the csv files and you will see if you will get too many trades or not.

Besides, my max trades was set to 5 and not 10 like the default settings.

If you set the RR to .9 than you will get fewer trades.

--- 帖子 #866 ---
Hey Ronald, I know I've asked you about this before - but I'm wondering why you think spread does not play a role in the optimization calculations? Surely a pip can make a difference when working out whether or not a trade would have been a win or a loss? It would be great if the optimizer could model based on the current spread, or an inputted spread even.

The reason I am concerned about spreads is that I have been running the EA successfully over the past 2-3 weeks on Alpari pro demo. Their spreads are great. The retail accounts I have, however, are anywhere between 0.5-1 pip higher on the majors. I wish I could use something like Alapri pro, but I simply don't have the capital at the moment. ThusI am wary about putting the EA onto a live account without some idea as to how the spread could affect the outcome. I guess I need to run it on a demo account with spreads more reflective of what is available to me at present. Some idea of what you think about this would be of help.

My other thought is - is it possible to implement some sort of emergency shutoff filte in the next versionr? You could set a maximum consecutive loss number, for example.

Thanks!

--- 帖子 #867 ---
I think I explained how the backtester works, and assuming your stoploss / takeprofit are sufficiently large, spread should be a non-issue. I didn't design this to be a scalping EA, I designed this to be more of a swing-trading EA, which is immune to minor spread fluctuations, but not from news.

As for the other option, were you looking for something like: "if the win rate / risk reward / success score is away by a certain deviation, stop trading?"

--- 帖子 #868 ---
Well, for example - on USDJPY I've got my stoploss set to 15 pips, and the corresponding takeprofit ranges from 21-30 pips (winrate is 50%). Thus I've got a r/r of around 1.66. In this example, a pip or two could significantly impact the return, could it not? My other fear is that it could impact the implied win-rate.

I guess that'd be one way of doing it. My idea was primarily aimed at significant market events where all of sudden it starts moving against what the EA believes to be the right action for that hour. e.g. it continuously breaks out while the EA keeps on counter-trading. I know you said this doesn't happen often, but would it not be useful to have some sort of cutoff feature?

e.g. Stop trading for this hour if x consecutive stoplosses have been hit.

My other thought was perhaps a news filter could help, or more an excessive spread filter. When significant news events occur the spread can spike massively and getting filled can be problematic. You could even get filled and stopped almost simultaneously.

Just some ideas...

--- 帖子 #869 ---
Very quiet on here this week.  Anyway I decided in an attempt to get a couple more trades to use the following settings this week on both EU and UJ.

SL10pips

min win rate 50%

Min success 0.8

bars tested 500,000

Its been a good week.  IN total 46 trades 23 wins and 23 losses.  Total profit 205 pips.

This is only on demo at the moment so will continue for a couple of weeks as I have had my fingers burnt on numerous occassions before where demo settings were great only for it not to work on live account.  My only concern is the spread although most of my trades this week had a success score of over 1 therefore meaning my rr was at least 2 which ain't bad.

Paul

--- 帖子 #870 ---
HOw is this possibile? If you have 50% wining rate (you have 23 wining and 23 losses) and wisk/reward less than 1 than you are losing and it wasn't a good week, there is no way you can have 200 pips profit with the results listed... please correct your post.

--- 帖子 #871 ---
I got second losing week... 60%, 0.9 r/r on 200000 bars first days od the week lots of winings, last days of the week mostly losing. I am using 12 pairs.

I noticed something strange this week however....same setting 200000 bars give same results as sames settings 700000 bars... interesting...

Also can somebody confirm, same settings 30 pips stoploss gives same results as same settings 60 pips stop loss? Or there must be something wrong with my metatrader/system/EA...

--- 帖子 #872 ---
I dont really understand why you are willing to take 40-50% losses. You dont need a self-optimizing statistical backtest for that, all you need is a coin.

--- 帖子 #873 ---
Placing orders by flipping a coin (random entries) you are losing, you know that you'll have to overcome the spread just to break even in the long term. Flipping a coin gives you about 49 % wining rate. So my logic is simple, in order to be profitable any system has to give you at least 55% winning rate, less than that you are breaking even or lossing, when you consider the spread. I tried higher settings eg winning rate but the EA hardly/if  place any orders.

Please share your experience with this system.

--- 帖子 #874 ---
My winrate is much higher, I dont have a min ss or rr. I do optimize by ss however. I trade every pair in demo watching performance. Live trade the best pairs (always changing) and I havent had a loosing week yet.

--- 帖子 #875 ---
UJ has the highest winning rate, from looking at my trades and jupiter stats
http://www.mt4i.com/users/jupiter/stats
http://www.mt4i.com/users/getting/stats

--- 帖子 #876 ---
No need to correct my post.  Win rate was 50%.  My risk/reward was not less than 1.  With a minimum success score of 0.8 the minimum risk/reward would have to be 1.6.  As I said on most occasions the risk/reward was more than 2.

Therefore the 23 trades that lost lost a total of 230 pips.  However the 23 that won earned a total of 435 pips.  Net result 205 pips.  If you want I can post actual trades.

I haven't decided if these are the settings I want to use live but simply lowered then min win rate to try and get a few more trades as the week beofre with 0.65 wr and ss 0.8 I got no trades.

Paul

--- 帖子 #877 ---
My bad...  What stop loss did you use?

--- 帖子 #878 ---
Stop loss was 10 pips (100)

--- 帖子 #879 ---
Hi

Ron, can you modify the EA to not open trades at Friday evening(e.g. after London session), because the brokers increase spread 2-3 times

Regards

--- 帖子 #880 ---
Hi all (and especially Ronald, for whom these questions are),

I have discovered this thread a few days ago, and I've begun trying the EA on a demo account.

I would like to ask Ronald a question: once optimization is done, if we look at the Optimized Settings file, we see some lines with -1.

If I'm correct, this means that no optimal settings have been found for the corresponding hour.

My question is: does this mean that there will NEVER be any trade opened during that hour for that pair, unless a future re-optimization generates new settings?

And another question: Ronald, you say that it's better to use as many bars as possible. You are using 1.5M bars, which corresponds to 3 years I think. But I suppose this means that the weekly re-optimization has only little chance to provide different results, because only one week is added (which is less than 1% of total bars), so the impact of one single week is very limited.

In other words, with respect to my 1st question, this means if settings do not allow trades for a given hour, there is little chance this will change in the near future? Or maybe I've missed something...

I'm asking those questions, because with settings such as WinRate = 60% and RR = 1.3, some pairs contain almost only "-1" rows in the Optimized Settings... which means (correct me if I'm wrong) there will almost never be any trades for that pair?

Thanks for your replies!

JL

--- 帖子 #881 ---
Settings of -1 do mean the EA won't trade. It's basically illogical information which the EA cannot trade with so it ultimately disables the EA.

The impact of a single week is of course limited. When using such a large sample size, I'm able to locate the long-term patterns within the hilo trading system that are consistent and therefore predictable. A lot of people using bar counts under 100,000 bars will suffer from lag when the EA is adjusting for the winter slow session and the summer's occasional volatility. In theory, 1 year minimum (~300,000 bars) is all that's needed to make sure the EA optimizes itself against all market scenarios. I use 5 years so at least I've covered the pre-subprime market, the subprime-crash, and the post-crash.

The way I'm trading, generally what changes are the stoploss/takeprofits for a given pair every time I reoptimize. But overall whether or not there is a trade for a given hour, one hour changes every 2 weeks or so.

If you see only -1 in the optimized settings, that's perfectly acceptable. I never really understood why some users need this EA to trade at least once every day.

--- 帖子 #882 ---
Thanks Ronald for your reply.

No problem with -1, it was just to make sure I fully understand how to interpret this.

Just 2 more questions...

You say everytime you re-optimize, the main changes are S/L and T/P. But I thought you based these settings on 10 x spread, and I guess the average spread does not vary? Or did I misinterpret what you mean?

Other question if I may... in one of your webinars you mention that this EA is the first of a series of 8 EA's. I suppose you mean 8 EA's based on the same auto-optimization principle... May I ask you which core strategy you plan to trade with those 8 EA's?

Thanks

--- 帖子 #883 ---
When optimizing using this EA, you choose whether or not you want a fixed stoploss or a fixed takeprofit. I have EAs where I am optimizing both--independently. That's where I notice the most changes. The strategies traded using those EAs are the ones that I either created alongside the people who have contracted me to create these systems for them, or manual systems that have been automated by myself.

--- 帖子 #884 ---
Thanks.

I had started initially using M5 charts, and Rfking's version of the EA, but after watching the webinars, I switched to M1.

I have launched optimization with the following settings on 9 majors:

- 200 SL (i.e. 20 pips)

- reverse = false

- 150000 bars

- WR 60%

- RR 1.1

- Optimize based on Success Score

- everything else at default values

I'm quite surprised with the results, on average I have only 2 rows (i.e. 2 hours) with values that are not -1. On some pairs 3 or 4, on others only 1. I don't think my settings are very tight... If I use WR 60% and RR 1.3, not a single usable hour!

Does this seem normal to you?

--- 帖子 #885 ---
Yes

--- 帖子 #886 ---
So this means that settings such as WR 60% and RR 1.3 are simply un-usable?

--- 帖子 #887 ---
I have been using this on EU and UJ since last monday with an sl of 10 (or 100).  Whilst I know that RR has suggested using 10 times spread and that you don't need it to trade every day I was just wanting to test the theory.  I had previously been using a higher sl.  This combined with a win rate of 50% and a min success score of 0.8 has resulted in some very good risk reward scores (sometimes 2 or higher).  I am testing over 500,000 but may increase this.  I posted my results last week and so far this week it has given up some of last weeks gains.  This EA has real potential it is just a matter of everyone finding what they are comfortable with.

RFKing posted earlier that he simply sets a high win rate.  I tried this over the weekend but win rates of 80% or 90% gave me lots of trading opportunuities but very low risk reward scores.  The tp's were so low it was nearly like scapling which I know RR has suggested it is not designed for.  Having said that I am tempted to give it a try.

Paul

--- 帖子 #888 ---
Thanks for your reply.

I'm currently testing various combinations as well, but I remember having read some posts about combining WR above 60 and RR above 1, so that's why I have tried to do.

But the result is that my Optimization file contains only -1 rows, which means it will never take any trade.

That's why I asked this question...

--- 帖子 #889 ---
Ronald I noticed the less bars to optimise we have the more deficiencies we find e.g. tradable hours. Like in above example with 30 pips stop loss if we use more bars to optimize (700000) we have actually no tradable hour. Based on this findings, does it not make sense to you actually to take the opposite trades of this EA? The deficiences seem to actually balance in time.

So if at 150000 bars the hour 8 is tradable we suppose to get against the EA when we chosse the direction to trade because  with 700000 the hour 8 is not tradable. Am I making sense?

Also How come you find anything to trade with 1.4 mil bars.... Am I missinfg something? Do you find anything over 60% winrate? with a decent risk/reward?

--- 帖子 #890 ---
Not sure I would go against the EA in this situation, anyway there is no option to do this I guess... but let's wait for Ronald's answer.

However, your second question makes more sense to me... I wonder how you can find tradeable hours if you tighten a bit the requirements. I'm OK not trading all hours of the day of course, but what if the reasonable settings do not allow any single tradeable hour?

(by reasonable settings, I mean in terms of risk and representativity of the sample, i.e. a decent WR, a decent RR and a decent number of bars)

I guess we probably miss something here...

--- 帖子 #891 ---
Nobody is missing anything.

When I trade with this type of EA, I try to set it up so I get a handful of trades per week.

When you test against the larger datasets, it's expected that trade opportunities are harder to find. When you think about this, it makes sense. The EA is looking for a trading opportunity in the past x bars which is relatively consistent based on the requirements you have for the EA. In my case, 5 y ears ago, everybody on wall street was sitting pretty, it was the period before the financial collapse. FX market changed when the mortgage market crashed, and we are currently in the post-crash world.

That's two, possibly three paradigm-shifting events that happened in the market. The fact that I'm fortunate enough to have a system that seems to be working through that period with the expectations that I have for it is really interesting. I always try to force the EA to optimize through two different markets. Why? It gives me some peace of mind knowing that the system that the EA is currently trading is not dependent on a particular market.

--- 帖子 #892 ---
I have been trying to import additional data into a MT platform. I have done it before and didn't have any problems, but for some reason, today it won't import. Here is what I have done and perhaps one of you have some suggestions that I could try that I have overlooked. I will try to be as detailed as possible with my explanations.

What lead me to do this in the first place, is I have a lot of problems with 'Old Tick Data;errors showing up on different EAs I try to run. I loaded Steve's version on Monday morning using 300,000 bars and up until this morning, there were 3 trading opportunities, but with Old Tick Data errors, so the trades never got placed. I decided to try the EA on another platform but I needed to import additional data.

I am trying to import the data to IBFX, although I have also tried this morning to import to FXDD and the same problem exists. I also have allowed for the time shift in FXDD. None needed in IBFX since they are GMT.

RR posted a site to d/l data from and I believe its Forex Tester. I went there and d/l to a folder on my computer. After, I opened the zip files and placed the txt files in a folder.

I set up a new account on IBFX, opened a M1 E/U chart, went to Tools > History Center. I select the currency and M1 for the time frame.

Next I clicked the 'Import' button. At the top of the box a line appears that says File. I enter the file that I have stored the data on my computer, making sure the file corresponds with the currency I have selected.

There is a large amount of space at the bottom of the box, where the opened file USUALLY appears. This is where it is not happening. The space stays blank. It never shows the open txt file.

I read a tip earlier today that someone said you have to go to Tools> Options> Charts and enter 999999999 in the Max Files in  History. I did that. Didn't help.

I have 20 IBFX demo files on my computer and I opened # 21. That didn't help. It still won't import.

Tried going back to the Forex tester site and I re-d/l a couple of files and that didn't help.

I tried every one of the 21 demo platforms and none of them will import the data.

I've been working on this problem this morning close to 4 hours now and I'm starting to get a wee bit frustrated. LOL

TIA.

Carol

--- 帖子 #893 ---
The first thing I would check is how much ram you are using when the chart is loaded up. If you are close to maxing out then you should lower the "max bars on chart" (just below the "max bars in history" in the options tab) I say this because your computer allocates ram to the bars on your charts. If you dont have enough ram to operate then it wont load your history correctly.

Hope this helps.

--- 帖子 #894 ---
I just bought a new computer about 2 months ago and it's an Intel Core 2 Quad 2.66 Ghz with 4GB of RAM.

A few minutes ago, I reloaded the platform that I was getting the Old Tick Data on and after it optimized, I have right at 2 GB of RAM available.

The platform has 300,000 bars in the History and 300,000 bars on the Chart. I have the EA placed on 10 charts in that platform.

When I was trying to import data, I had closed everything down but the platform I was trying to import the data to and my AOL software.

Thanks for your help.

Carol

--- 帖子 #895 ---
Hi

Is it possible to modify the EA to save the .csv files in other folder??

(e.g. MT4/experts/files/HiLoTrader/ *.csv)

Regards

--- 帖子 #896 ---
Anyone getting this error in the Experts folder?

HiLo Self Optimizing [TD] stevegee58 EURGBPm,M1:EURGBP Error:>!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> <html> <head>...

The above error is happening on each currency I have the EA attached to.

Thanks.

Carol

--- 帖子 #897 ---
I had to take down the tick database. I'm trying to setup a backup database tonight. Not sure how long it will take.

Those errors will affect all of the [TD] EAs. Simplest way to disable them is to look for the line in the code where you see "!IsOptimization()" or "!IsTesting()" and comment it out. Some EAs have TickDatabase as an input and you can just set that to false.

--- 帖子 #898 ---
Ronald,

if you don't mind, please publishing one of your result on mt4i.com, it would be a great help to view and analyze the profit factors of certain pairs

thank you in advance.

Josh

--- 帖子 #899 ---
"   I had to take down the tick database. I'm trying to setup a backup database tonight. Not sure how long it will take.

Those errors will affect all of the [TD] EAs. Simplest way to disable  them is to look for the line in the code where you see  "!IsOptimization()" or "!IsTesting()" and comment it out. Some EAs have  TickDatabase as an input and you can just set that to false."

Hello, Ronald

First let me apologize for my english...

You said that affect all [TD] EAs. Did you mean that, while this error continues, it will not trade?

Thank you in advance.

--- 帖子 #900 ---
Ronald

If I have a TickDatabase, EA won't open trades?

How to disable it? Could you describe it in more detail?

I can see only one line with "!IsOptimization()" and "!IsTesting()"

Should I delete this line?

Inserted Code  if(!IsTesting() && !IsOptimization() && AcceptReject != "Reject")
{
MasterFunction();
}

--- 帖子 #901 ---
The EAs will still trade. They just can't send tick data yet.

--- 帖子 #902 ---
Wrong section. Look for something that refers to the tick database.

--- 帖子 #903 ---
To disable the Tick Database in this EA, look for this section of code (around line 390)

Inserted Code TotalTime = GetTickCount() - StartTime;
Rates = "True";
LastTick = 0;
TickData();

Replace with this block of code

Inserted Code TotalTime = GetTickCount() - StartTime;
Rates = "True";
LastTick = 0;
//TickData();

--- 帖子 #904 ---
Hi Ron

Why the expert current hour is different then my computer local time?

Please look at my attached screenshot.

Is it a bug?

Regards

--- 帖子 #905 ---
Are last tick and cycle count still counting upward?

--- 帖子 #906 ---
No, but MT4 worked correctly and expert advisor trading was enabled.

I restarted MT4 and now it's OK. I don't know why the EA was stopped.

--- 帖子 #907 ---
If neither of those numbers are moving, the EA generally got stuck somewhere.

--- 帖子 #908 ---
Total trades 60 wins 19 loss 41 -59 pips

Still doing fine over the two weeks of testing so far up 146 pips

Noticed that some UJ trades last MOnday (being bank holiday in UK) got very close to TP but then reversed to a loss.  Again in a similar way at on Friday the EA took two EU trades about 11/2 hours before close.  These remained open over the weekend and came to within 1 pip of tp before reversing for a loss.

I am considering using the move to be function to at least protect against this but will see how the week goes first.

Paul

--- 帖子 #909 ---
I started demo testing the system a week ago Friday (8/27-9/3) and actually had a profitable first week on my settings. I was using:

5 min. chart

Minimum successes score 1.0

Minimum Win Rate 50.0

Other settings were default

I was trading 0.1 lot size, but on two 5 min charts, so effectively 0.2 lot size.

$98 net

Total trades: 187

81 wins, 106 losses

Total pips would be about +490

Only tested it on EU.

--- 帖子 #910 ---
Very good results!  How many bars were you using? What was your stoploss?

--- 帖子 #911 ---
I wanted to use more bars but was having some trouble loading additional bars; I ended up with just about 5,000.

I just used the default StopLoss and TakeProfit. Both were 200.

This was using the stevegee58 version.

--- 帖子 #912 ---
Any reason for the very low success score of 1.0?

--- 帖子 #913 ---
No, I was just testing for a minimal setting.

--- 帖子 #914 ---
Sorry if i sound like i come form the mountain but i am very impressed that his ea does self optimisation... this could be the Holy Grail EA?

--- 帖子 #915 ---
The closest thing to it.

--- 帖子 #916 ---
tried it on the GBPUSD M5 , not so good, trade went opposite and the EA fire 3 trades and went to SL

--- 帖子 #917 ---
patience grasshopper

--- 帖子 #918 ---
why are you using m5 chart?

--- 帖子 #919 ---
Oh... its suppose to me m1 chart..careless me.. did not expect it could make so much difference..

--- 帖子 #920 ---
Ronald, I seem to have a couple of problems with the EA every now and then.

If the client gets disconnected and reconnects, the script appears to crash.

Sometimes when I restart the client the script gets stuck at the last calculation ("23:00") and does not actually load the final screen.

Any tips for how to resolve these issues?

Oh and any chance of a news avoidance filter any time soon? (although this may skew the optimized results) Thanks!

--- 帖子 #921 ---
Adding in news is easier said then done. It would add a lot of permutations and would infact skew the results. Its difficult to quantify because the market doesn't move right when the news officially breaks, a lot of times the news is already built into the price by then. And trying to tell the bot how to even read the data would be another issue. Using unemployment as relative example. It would be logical to assume that if unemployment goes up that the market would weaken. But if the rate of change was slightly less then the last report the market could actualy stregthen. Not quite as simple as hilos. If you have any ideas, I am all ears.

--- 帖子 #922 ---
I think Mindsphere meant something which disables the EA during news.

I still know that's a bad idea and here's my explanation. The spikes that occur during the news do show up in the backtest that the EA puts itself through. This EA in a roundabout way, has already taken into account the effects of the news.

--- 帖子 #923 ---
Ronald,

I don't know if this was already covered, but do you reapply the EA to the chart on a periodic basis (perhaps weekly) so the system will recalibrate or do you just do that once?

I guess what I'm asking is does the EA automatically optimize every day without having to be loaded again? It was my understanding that the EA just optimizes when you first load it.

Thanks,

Pipper

--- 帖子 #924 ---
In theory, the EA will continue to reoptimize itself every week starting on the first tick sunday / monday.

I always have my servers do a hard restart over the weekend to clear the cache, apply updates to metatrader, the OS, occasionally my EAs and keep the memory leak in check.

--- 帖子 #925 ---
Ronald

You mentioned the EA optimizes on first tick sunday/monday each week.  I was under the impression it optimized each night at the start hour.

Paul

--- 帖子 #926 ---
Weekly.

--- 帖子 #927 ---
Thanks for the response, Ronald.

--- 帖子 #928 ---
Hello Ronald.

About the optimization, I have 10 EAs running and they optmizes every day at the same time, like paulbt38 says...

Anything wrong?

--- 帖子 #929 ---
Nope, nothing wrong. I had a second look and I mistook a different EA for the one I posted here.

It should reoptimize daily.

--- 帖子 #930 ---
uhhh...24hr time...

17 = 5

--- 帖子 #931 ---
If you look closer at the EA's current hour, it was 15. That doesn't match obviously. My guess is the EA got hung somehow.

--- 帖子 #932 ---
BLAST! i thought i deleted that comment when i learnt how to read

Cheers Ron

--- 帖子 #933 ---
@Ron

On how many currency pairs you haven't got any tradeable hour?(currently)

Yours win rate is set to 50 or higher?

--- 帖子 #934 ---
7 of 20.

Yes

--- 帖子 #935 ---
Been Long since I posted on FF, Hello everyone...

Great thing we have here though I don't trade off EA as such I am actually impressed by this EA and what Ron has done.

Thank you for bringing back the dream of realizing Autotrading Potentials...

Noted today was that I made over 450cts(live cents account) night and morning session +3GMT but these stupid spikes sometime kills the joy. Maybe a CloseAll() incase someone wants to run with the money... hehe

Anyway Happy Eid to all muslim friends

Regards

Sabore

--- 帖子 #936 ---
Ron

Thanks for your reply!

Can you post a weekly optimization version or write a version which make optimizing at custom date?

(e.g I want to start optimizing on EURUSD at every Saturday on 1 a.m; on GBPUSD at Sat 2 p.m, etc.), because when it start optimizing every currency pairs at the same time, it cause crash the terminal and I should to restart it!

--- 帖子 #937 ---
This is what the EA did for me this week. The EA only traded on Tuesday (9/7) of this week but it did very well, making 305 pips ($305) in that time period. It took the rest of the week off. I kept the settings the same as last week except for increasing the lot size from 0.1 to 1.0.

--- 帖子 #938 ---
@Ron

Is it possible to modify your's EA as I suggested in the #938 post?

--- 帖子 #939 ---
Are you still using just 5000 5 minute bars?

--- 帖子 #940 ---
In theory yes. Not sure how I'm gonna do it.

--- 帖子 #941 ---
Yes, I know it's supposed to perform better with more bars but it worked for week 1 so I kept it the same.

I'd be interested to hear of other people's results over the past weeks if they have them.

--- 帖子 #942 ---
I am using the EA with default setting with lot size at 1.0 and I am not getting any trades. What am I doing wrong?

--- 帖子 #943 ---
Nothing out of the ordinary.

The EA didn't find any settings which would meed the requirements you had set up for this hour.

--- 帖子 #944 ---
Holy Grail seems to be the most used term on Forex Factory. Anyone disagree?

I am also impressed with the EA and really appreciate Ronald's efforts. Thank you, Ronald. That said, I am also reminded of his words from an earlier post and have no illusions that this is a Holy Grail, though I think Ronald is really onto something here--the idea of self-optimization is tremendously powerful and can be applied to all kinds of systems to improve them.  It certainly makes this one superior to many others for that reason alone.

--- 帖子 #945 ---
Hello Guys,

Which is the last version of this EA?? Anyone mind pointing or posting..

..... I know I have seen the ones on attachment still not sure which is specified as last version..

Thanks

About CloseAll() as a suggestion..

CloseAll() function should be able to close trades that are loaded by EA as long as the user choses to switch CloseAll() to True

if(!IsTesting() && !IsOptimization() && AcceptReject != "Reject" && closeAll != True)

{

MasterFunction();

}

Sabore

--- 帖子 #946 ---
http://www.forexfactory.com/showpost.php?p=3922031

EDIT:

Sabore,

I would recommend reading the thread, starting at page 21 so you make sure you are familiar with the nuances of the system before using it.

--- 帖子 #947 ---
Hey Pied,

Thanks for the pointer and advice I appreciate your effort.

Regards

Sabore

--- 帖子 #948 ---
Hi Ron

Is it possible to modify your expert for optimization time?

(e.g. on 5 currency pais it started optimizing at 00.00 a.m and on the other 5 currency it started at 00.20 a.m, 20 minutes later)

Can you modify it?

--- 帖子 #949 ---
I understand what you're asking. There is an easy, but unstable fix.

Look for the string "00:00" in the code and replace that with whatever time you want.

--- 帖子 #950 ---
I am working on a version 2 and gonna go through a very thorough testing phase before ultimately releasing it. I hope to have it out just in time for thanksgiving.

--- 帖子 #951 ---
Let me be first to say it..... WE apreciate this Ron, thanks for your contribution.. What's new about it?

--- 帖子 #952 ---
I don't know.

--- 帖子 #953 ---
I cant wait to try it out

--- 帖子 #954 ---
Hello Ronald.

I don't understand very much the source code, but could you tell me where i can change to optimize just once a week?

--- 帖子 #955 ---
how long does it usually take before the EA will make a trade?

--- 帖子 #956 ---
However long it takes for the market to make a new daily high / low

--- 帖子 #957 ---
Hi

I'm using this EA with settings:

SL,TP 200

MaxTrades 5

Bars 600.000

WR 50

RR 0,4

SS 0,8

Other default

Yesterday this EA made 12 trades, all losses.

@Ron

1)What do you think about my settings? Which values should I increase/decrease?

2) How many profit and loss trades had you yesterday?

Regards

--- 帖子 #958 ---
Do you actually have 600,000 bars in history?

--- 帖子 #959 ---
I have to more than 600.000 bars on charts.

--- 帖子 #960 ---
Your data then goes back to approximately July 2009 on your charts?

Can you post a picture showing the losses?

If the losses are spread out, then my guess would be spread spikes.

If the losses are close together, you may have hit a mini-swan.

Overall, the backtester inside the EA is as accurate as the data it gets. Barring the win rate, did the trades meet the rest of the criteria? If so, leave the EA running. What you may have come across was a statistically unlikely situation. This can go both ways: Long string of losses Long string of wins

--- 帖子 #961 ---
Hy ther guys.I have one of topic for you RONALD RAYGUN.Is there posible to run EA on offline renko chart.I look for somone to code simple grid ea for offline renko chart.Thnx

--- 帖子 #962 ---
I can go back to Nov 2008 on chart

Please look at the attached screen

--- 帖子 #963 ---
Looks like you hit a huge news spike.

--- 帖子 #964 ---
Yes, the FOMC Statement caused high volatility on the markets and losses

Ron, is the EA opened trades during this news on yours account?

What about my settings? Is it less "strict" then yours? Which parameters?

Regards

--- 帖子 #965 ---
Hi,

After a while doing some experiments with this EA, I need, if possible, some clarifications:

Somewhere in this thread, Ronald said that sometimes he gets SS above 120 that means for example a WR-60 and RR-2 or WR-80 and RR-1.5 and somewhere before he mention to start with WR-60 and RR-1 and try to improve results.

What I'm trying to ask is which parameter is more important, WR or RR because I've made a backtest with 1.5 years data and WR-80, RR-1.5, SL/TP-110 on USDJPY and the results where exactly the opposite - only 20% wins.

Can anyone help on this?

Thanks,

Pedro

--- 帖子 #966 ---
I think your Sl and TP is too tight. The EA built-in tester does not include spread value during optimization so if your target is 110, the 20 pips spread may have a big influence on live results...

Has anyone found the profitable settings? If yes, please post some advise how to configure this EA?

Thanks

--- 帖子 #967 ---
Ron, is it true that your SS is set to about 1,2 ??

--- 帖子 #968 ---
Not even close

--- 帖子 #969 ---
I've just reviewed all Ron Posts and really He didn't mention anytime SS of 120. Probably I dreamed with it.

Sorry people for this misleading info in my previous post.

Pedro

--- 帖子 #970 ---
A lot of people here seem to ask for the best settings. The reality is that there are different profitable settings for each pair.

So here is a tip for you all.

1.) Set the bot to whatever settings you want to test, and allow it fully optimize itself.

2.)Open your mq4 and search for

Inserted Code BarCount = SelfOptimize(SymbolUsed);
and you change it to

Inserted Code //BarCount = SelfOptimize(SymbolUsed);
3.) Copy the optimized files from expert/files and paste them into tester/files.

4.) Run the back-tester in mt4 to see how you would have done.

Things to remember:

Commenting that line out prevents the bot from re-optimizing and forces it to read the files from the last optimization, so if you want to re-optimize you need to change that line back.

If you change the name of the bot, you need to change the name of the files too or it wont use them.

After you set your settings in the initial optimization and copy the files, your back-tester settings don't really matter. It uses the files to know what to do.

If you want to test different settings or with a different pair, you need to re-optimize and copy the files again.

If your modeling quality is "N/A" then you need to recompute your data in the history center.

Hope this helps everyone.

--- 帖子 #971 ---
I would like to present a chart of potentiality as well as a little challenge. This is EU tested from 01/01/10 using 5% risk money management settings, starting at $10k.

Can anyone top it?

--- 帖子 #972 ---
Hi rfking2

I was doing the other way around, I mean, I have a 2 years FXT 1min data and i'm doing several tests with different WR/RR/Nr. Bars but as you can imagine... takes ages every iteration.

So, I ask, when you change the code, the bot does not optimize himself during the backtest? and, the bot with that modification can work in forward test?

Thanks,

Pedro

--- 帖子 #973 ---
rfking2

You made a backtest on the same period as you previously made optimization?

If yes, not surprising that backtest statement is profitable

--- 帖子 #974 ---
Yes, if you are happy with your bots strategy then you can comment this line out and it will work in forward test without re-optimizing. This can be useful to save computer resources. But if you want to change any setting, you must allow it to re-optimize.

--- 帖子 #975 ---
No, I did not use future data with that back-test.

--- 帖子 #976 ---
Ron

1/ What the WinRate value you set?

2/ What's your real WR (in forward test) [win trades/all trades]

I have set WR = 50, but my real (in forward test) is lower

Waiting for your reply

Regards

--- 帖子 #977 ---
Hi Ron et al,

I've noticed that the EA after a few hours working "freeze" in the platform. And this symptom his metatrader broker or version (225 and 226) independent. Also I run it in two different machines (Win Vista and Win 7) and the same result.

I've tried to increase the sleeptime from 100 ms to 500 ms and also using the EA with the modification indicated by rfking2 (commenting on the optimizing at day start line code) and using only 5000 bars.

And still the same final result. The EA freezes after a few hours and the last tick and cycle count numbers are stopped and the computer processor is "working hard".

Anyone has noticed this?

Thanks,

Pedro

--- 帖子 #978 ---
Pedro

I have had the same problem here.  Like you I have tried many different settings etc but still the ea eventually hung.

Paul

--- 帖子 #979 ---
That chart looks like it represents the trending activity of EURUSD. The big rise at the end corresponds to the 27-day uninterrupted uptrend that we've just seen. Therefore, my supposition would be that your settings see the trader focus on breakout trades during highly liquid hours. I'd be interested to see a backtest from the last 3 years on those settings...

--- 帖子 #980 ---
You are right that its EU. I think forcing it to trade a breakout at any time would be counter productive to a real self optimized strategy. Its more about finding the statistically best trade to make at any given time.

Three years is a good amount of time to back-test. The thing about money management code is, with a good strategy you eventually hit a max lot buying size. Hence the loss of the awesome curve into a normal up curve, but notice the 90% tick quality.

Here you go!!

(EDIT): Its a little hard to see the balance so I copied the final line in the results tab.

11392    2010.10.15 23:00    close at stop    5696    500.00    1.39730    1.38690    1.40107    20000.00    160617169.45

--- 帖子 #981 ---
Hi Ron,

What about new version? What are the changes, results? When are you planning release it for testing?

Thank you

--- 帖子 #982 ---
Hello

I use this EA with WR=75, RR=1.2, bars=600.000 on 10 majors currencies since Monday 8th Nov. EA doesn't open any trade since I run it on my account.

Is it correct? Any ideas?

Regards

--- 帖子 #983 ---
might just be that it hasn't seen any opportunities that fit your conditions. If it's on demo, just turn down the winrate and/or RR and see if it starts to trade.

--- 帖子 #984 ---
Look in the files to find the trading times and strategy.

--- 帖子 #985 ---
Hello

I used this EA with WR=75 and RR=1.2 and I had only one tradeable hour on USD/JPY on 10 pm. There were no conditions for open trade on USDJPY in last two weeks.

I lower the WR=70 and have also one tradeable hour.

I'm afraid this EA with WR < 70 may not be profitable, with WR >= 70 it may open a trade once a month... (?)

--- 帖子 #986 ---
it looks like this thread has finally died.... what happened??

--- 帖子 #987 ---
The account is invalid?! Does anyone has the investor access to it?!

--- 帖子 #988 ---
Hi RR,

hope you are fine just wondering if you ever finished ver II of this EA.

Regards

Always

--- 帖子 #989 ---
hey guys can any of u work out an ea based on my inverse idea

the ea is awesome oscillator

and no matter what time frame u go to,it always looses

teh avg loss in 10 pips,avg gain 15

24%win and 76%loss

and in the post i explained some stuff

the ea in general is an absolute looser

http://www.forexfactory.com/showpost...0&postcount=13

--- 帖子 #990 ---
Hello

I've modified this EA to doubled lot size after loss on SL.

EA trades with SL/TP=1 and after SL it opens on new signal with doubled lot. When the trade close by TP it returns to basic lot size.

I'm testing it on 6 majors currencies, it gives about 10% return monthly.

I would like to add more currencies to receive higher profit monthly.

It required a high-performance server.

I would like to create a group to test it. If anyone interested, please contact me.

--- 帖子 #991 ---
what happens if it losses second time? You double it again or take the double loss?

--- 帖子 #992 ---
Yes, it doubled again, but don't worry the max DD may be max 12,6% (6xSL)

After that, EA will stop trade

--- 帖子 #993 ---
so let's say the ea goes with tp40 sl60. I just realized that with martingale you will lose more, if you go more levels you will lose even more ... I think if this ea proves profitable to you, don't apply martingale to it, just keep it the way was build. Here is an example if it loses 3 times in a row and forth time wins, how much your losses will be:

Applying martingale:

1 Lot 0.01 Lose tp40 sl60 Total loss $ 6

2 Lot 0.02 Lose tp40 sl60 Total loss $ 12

3 Lot 0.04 Lose tp40 sl60 Total loss $ 24

4 Lot 0.01 Win tp40 Sl60 Total win $ 4

Total Win -$ 38

Not aplying martingale(not using your style)

1 Lot 0.01 Lose tp40 sl60 Total loss $ 6

2 Lot 0.01 Lose tp40 sl60 Total loss $ 6

3 Lot 0.01 Lose tp40 sl60 Total loss $ 6

4 Lot 0.01 Win tp40 Sl60 Total win $ 4

Total Win -$ 14

What do you think is better?

--- 帖子 #994 ---
I test it about 3 months

I have max 4xSL only one time

EA start trading from very small risk and can doubled it 6x

The idea is receive small profit  x every currencies = nice profits per months

--- 帖子 #995 ---
Hello

I'm looking for a programmer, who can add one function to this EA

Please contact me on PM

--- 帖子 #996 ---
For someone like me, who enters this forum for the first time it is kind of difficult to dig through 65 pages of what seems to be an advanced discussion between insiders. Although I am an experienced EA user, programming my own EAs, this thread is painful just by its sheer length....

Can someone direct me to a location where I can find some sort of starter?

I got the EA working (HiLo Self Optimizing [TD] stevegee58, who I was led to believe is the latest) on EURUSD M1 with default settings and I was impressed. IS IT REALLY THE RECOMMENDED VERSION?

When trying it on GBPUSD M1 it get stuck however in  the position "Optimizing counter for 23:00". Anyone got an idea?

What is actually the method of optimizing the settings, does it work as with other non self optimizing EA, that is, through the Strategy Tester? I have noticed that it is not possible to change setting "on the fly" via Right Click > Expert Advisor > Properties. Do I need to remove and add the EA to get access to the settings? I hope not....

Thanks for sharing your knowledge and helping out this clumsy novice!

--- 帖子 #997 ---
I haven't been on in a long time. When I was working on this I heavily modified the code. I am focused on another project now so I am donating it. Bear in mind that this was a personal version so you may find some bugs, but here is the version I have on file.

Merry Christmas

--- 帖子 #998 ---
care to share why you abandoned this strategy? Was not worth your time?

--- 帖子 #999 ---
This is an amazing piece of code because it works with statistics. If you know anything about quantum mechanical math, statistics rules probability. But in my honest opinion, even after I broke down the optimization to file the stats into block (small time-frame divisible by bars in one day), day of week and month of year. There was still more to the market that makes it difficult to use straight logic. So I now work with mostly neural networks and AIs so I can gauge more parameters at once. I still use a lot of this code, just not so much the HiLow strategy of it.

I hope that answers your question

--- 帖子 #1000 ---
thanks, I appreciate your answer. I asked you because you gave it a lot more thought into it than most of us.

--- 帖子 #1001 ---
Hey all I'm new and like the other new guy above me, I also can't hardly think to read this whole thread. However, I did write a self-optimizing EA in the past. It didn't really work very well. Probably because the underlying strategy wasn't too good. But it backtested every day, on the first tick of the day, kind of like running an "optimization" on MT4. It would then switch to whatever settings it found to have worked best in that prior day. But, again, it didn't work because I guess the underlying strategy wasn't that great. And, perhaps, because the market doesn't do the same thing for two days in a row lol. Long term strategies don't need constant reoptimization in my humble opinion, because of the market doesn't change behavior so often I suppose, at longer time frames. And now I trade mostly longer time frames. I assume that this code here in this thread was more for shorter time frames? Anyway good luck to all...

--- 帖子 #1002 ---
This EA is profitable though right? I recall you saying you hadn't had a losing week with it at one point. In your opinion is it worth the time and effort and computer resources to run and find consistently profitable settings?

Can you explain what modifications you have made with the EAs above?

Thanks

--- 帖子 #1003 ---
Yes it can be profitable and absolutely worth your time. The ability to self optimize is golden and should be included with any EA you code. RR is brilliant for creating it. As for my mods, I encourage you to reverse engineer the code. That is the only way you will learn to code yourself. I worked on it for so long that its hard for me to remember it all. If you have any specific questions, I will be more than happy to help.

--- 帖子 #1004 ---
I put the EA in my MT4 but when i run a backtest i get no errors and no results.

--- 帖子 #1005 ---
Please read this thread and inform yourself. Don't be lazy.

--- 帖子 #1006 ---
I am not lazy, but english is not my mothertounge.

--- 帖子 #1007 ---
Thanks a lot for this EA. Could you please post the set file of the settings that you use for it? This would give a good place to start with demoing it.

Many thanks

--- 帖子 #1008 ---
In order to backtest you must first optimize then copy the "optimized settings" from mt4-experts-files to mt4-tester-files and turn "reopt" off when testing.

If you read the optimized settings file you will notice it files by month of year, day of week and block of day. So reopting more than once a week is pointless.

Im sorry, I cant give you a set file because I don't know what you want to trade or how you want to trade it. You must backtest and find your own settings.

EDIT: By the way, the only way you will make this work is to completely quarantine your data to your broker. That means delete all your metaquotes data and only download from your broker!!

--- 帖子 #1009 ---
I've been playing around with the settings for a while now, however it still has not given me a trade yet with HiLo Self Opt.

My settings are simple: everything default except for Bars to Optimize = "50000" (my pc can't handle too much bar data), Min WinRate="60%".

My demo account is with Gomarket metatrader, so I'm not sure if they're an ECN broker or not. Therefore, I ran with the default settings set to No to ECN broker.

One time, Trade style said breakout. There was even something at Trade Trigger other than 'None'. However, no trades were opened. Did it not satisfy the Min WinRate?

Would someone be able to explain to me what I'm missing? Thanks.

--- 帖子 #1010 ---
Here is a pic of when I ran it with fxcm demo. Default settings except for Bars to Optimize = 50000, Min WinRate = 55%, Min SuccessScore = "150".

I'm wondering why it says -100% for the Current WinRate and -100 for Current SuccessScore? Is this expected when EA doesn't think the market meets the trading criteria?

--- 帖子 #1011 ---
I Guess it means there isn't a stratagy found which holds your criteria (you can see it at the bottom of the feedback: there is no trading style. Have been playing with the settings but haven't been able to found any profitable settings/timetrafes yet. All are giving around 50$ win rate with negative (smaller then 1) R:R ratio.

Weird because when i look back to pics here people did seem to get good R:R's

--- 帖子 #1012 ---
You need to read the "Optimized Settings" excel file that is created after you optimize. That is where you will find how often it can trade with your settings.

Also, if you downloaded any ticks from the history center, your data is false, and it will be impossible to find good settings. The only data that matters is from the broker you are using at the time.

--- 帖子 #1013 ---
I am also testing HiLo and Month Opt.  I am a little confused about something.  for Month Opt, I optimized a pair using OOTB settings and had pretty good success score.  I would then try to save those settings by re-applying the EA with ReOpt turned to false.  But eventually, the optimization setting would change (i.e., turns to Current Win Rate 1100%, Risk Reward -1, Success Score of -100).  I didn't change any setting aside from ReOpt.  I suppose that is not the best way to save an optimization?

Anyway, I don't know if this will prove profitable but it is definitely interesting and fun.  RR and RF, thanks for your contributions.

--- 帖子 #1014 ---
idash,

Did you ever get this to work?  I am having the same issues using no minimums so I would expect at least a few trades.

--- 帖子 #1015 ---
If you are using month opt, open up the optimized settings folder. Look at the first 3 numbers in each line, the first number is the month of year 0 = january, the second is the day of the week and the third is the block of day. So that means if it says 0;0;0, that line is the strategy for the first hour Sunday morning in January.

EVERY NEW LINE IS A DIFFERENT STRATEGY TO ACCOUNT FOR EVERY BLOCK OF EVERY DAY OF EVERY MONTH OF THE YEAR!!!

--- 帖子 #1016 ---
Thanks for sharing your work.  Much appreciated.

--- 帖子 #1017 ---
Jed,

I have a question about the hour optimization of this strategy.  It appears it just simply queries the server for the hour of the bar.

if(HourUsed == TimeHour(TimeCurrent()))

However, it doesn't appear to account for DST adjustment at all.  I have read in some of your previous posts that you use ForexTester.com for your data source which does not account for any type of DST adjustment either.  The only broker I'm familiar with is Oanda's data where they adjust because they are based on the east coast.

The reason I bring this up is I have built strategies in the past and seen completely different results when using non-DST adjusted data. When building a strategy that is built on using specific trading times.

Below is a short snippet of my code that does this for me:

else if(DayOfYear()>beforeDST && DayOfYear()<afterDST){

if(HourEST+DSTOffset>23){

if(Hour()==HourEST+DSTOffset-24 && Minute()==0)

set_Prices();

}

else if(Hour()==HourEST+DSTOffset-1 && Minute()==0){

set_Prices();

}

}

//+------------------------------------------------------------------+

//| Set the days of the year when DST chanes                         |

//+------------------------------------------------------------------+

void get_DST(){

switch(Year())

{

case 2001:

beforeDST=91;

afterDST=301;

case 2002:

beforeDST=97;

afterDST=300;

case 2003:

beforeDST=96;

afterDST=299;

case 2004:

beforeDST=94;

afterDST=304;

case 2005:

beforeDST=93;

afterDST=303;

case 2006:

beforeDST=92;

afterDST=302;

case 2007:

beforeDST=70;

afterDST=308;

case 2008:

beforeDST=68;

afterDST=306;

case 2009:

beforeDST=67;

afterDST=305;

case 2010:

beforeDST=73;

afterDST=311;

case 2011:

beforeDST=72;

afterDST=310;

}

}

//-------------------------------------------------------------------

Anyways I've been meaning to write a "self optimizing" strategy myself before and I just haven't found the time.  But the work you put forth in this post is very inspiring and means I do not have to start from scratch.  Mine will be based on sets of moving averages. But I like your idea of taking the highest high of a given period and the lowest low.   It is definitely a crude way of analyzing but it sounds like it has worked for you.

--- 帖子 #1018 ---
I agree DST adjusted data is better.

Problem becomes how do I account for the two 2:00AMs and the lack of a 2:00AM twice a year?

For now, I've avoided that issue by simply using relatively small backtesting periods.

DST shifts tend to affect the markets for a week--two at most. I suspect this is driven mostly by the new sleep schedule traders need to accommodate. I would like to learn what advantages and opportunities you're seeing with DST-adjusted data.

I was hoping to use the law of large numbers to my advantage in this EA concept. The problem with this version is accounting for spikes and other abnormal market events. I've been especially fortunate to have perfectly captured three major market shifting events. (Tsunami, Reactor issue, Osama). So this year has been especially fruitful for me.

I'm currently working on an update to this release to Clean up the code--A lot Allow for more variables to be tested in addition to breakout/counter and hour. Provide a better UI to explain to the user exactly what the EA is doing. Move away from a file-based date transfer to array-based. Current prototype takes about 2 minutes to process 40,000 bars and about 15k permutations of systems.

Also, you mentioned you are trying to self optimize sets of MAs, here's why my code won't work with that specific application.

During the initial pass, the EA is scanning through the bar history looking for trade events. Because trade events are based on the day's high and low, there is a fixed number of events in the bar history. This fixed set of events allows me to only have to do one pass.

When using multiple MAs, the number of trade events changes based on the values of each MA. This requires one pass per unique set of values, and can quickly become very resource intensive.

You'll need to modify the code to account for the multiple passes required if you want to write your own self optimizing EA.

--- 帖子 #1019 ---
I'm still trying to decipher all of this code and I have to admit it has been overwhelming.

In regards to the DST adjustment I wrote a strategy that uses a specific time of day waiting for a breakout to occur.  When I went to optimize the strategy to determine what the best time was I noticed mixed results as my statistics did not accomodate for any type of DST adjustment.  Once I wrote the code in the previous post my results increased significantly.

The problem I see here with your optimization is you are looking for the best hour(from what I can tell so far) to trade breakout or reverse.  However, if the NY markets open at 8AM for half the year and 7AM the other half then your backtest results are going to mix up 8AM and 7AM statistics.  However, I do suppose if you are only optimizing your data say for a week at a time then this point becomes moot.  While two weeks out of the year might be off the rest will be fine.  In my instance I was testing data for years at a time so it made a significant difference.

As far as using multiple MA's my thought process is as follows:

for(MA1=0;MA1<StopMA;MA1++){

for(x=BarsBack;BarsBack>0;BarsBack--){

if(!VirtualLong && if MA1[x] > MA1[x+1]){

VirtualLong=true;

VirtualLongEntry=Ask[x];

VirtualStopLoss=Ask[x]-inputStopLoss;

VirtualTakeProfit=Ask[x]+inputTakeProfit;

}

if(VirtualLong){

if(High[x]>VirtualTakeProfit && Low[x] > VirtualStopLoss){

MA1Win++;

VirtualLong=false;

VirtualLongEntry=0;

VirtualStopLoss=0;

VirtualTakeProfit=0;

}

if(Low[x]<VirtualStopLoss && High[x] < VirtualTakeProfit){

MA1Loss++;

VirtualLong=false;

VirtualLongEntry=0;

VirtualStopLoss=0;

VirtualTakeProfit=0;

}

if(High[x]>VirtualTakeProfit && Low[x]<VirtualStopLoss){

Print("Could not determine win or loss);

VirtualLong=false;

VirtualLongEntry=0;

VirtualStopLoss=0;

VirtualTakeProfit=0;

}

}

}

}

This is my crude approach I just typed up as an example and obviously is no where near completion.

--- 帖子 #1020 ---
Hi first of all RR Thanx for sharing your EA to the public = ) To Rfking and RR im just wondering is there anyway you guys can put a hidden stop and hidden Tp on the EA PLs ? maybe a extra or 2nd SL or TP? The reason I ask this because some brokers manipulate your order even though you put in your setting your TP and SL, the broker dont put IT! so im getting a floating negative! then i have to close it manually because the broker did not put my SL and TP, which is scary when your away in your PC. it will be nice for this EA to be stealthy so that the EA ,can do it job without the manipulation of the broker

THNX in advance = )

--- 帖子 #1021 ---
Thank you

--- 帖子 #1022 ---
First I want to say thanks to RR for sharing this. I stumbled upon this soon after I found out about forex about a year ago, but never could figure out how to make it trade and I don't like to ask noob questions, so I left it alone. I went through and read the entire thread last night and I love the idea of this EA being two very basic concepts (breakout and countertrade) but that the EA is constantly determining which one is best. I set up a demo account and let it run overnight with pretty much the default settings and it has made a small profit so far.

I am about to resart the account and play with some settings and this is my thought right now. I am going to set the win rate and risk reward to 0 and only use success score. My thinking is that if it has a low win rate, but when it wins, it wins big, I will still be getting those wins. Also, when it wins a lot, but small and has an occasional bigger loss, I will be getting those trades too. In my thinking, both should be profitable in the long run.

Another Idea that I had for those using old computers that are having a hard time would be to make the optimization time an external variable and set it to a different time for each pair. By doing this, you will only have one running at a time, but each will still be optimized daily. If you set one for every hour, that would give you 24 pairs you can trade if you desire. This is just an idea in my head, but it seems like it would work.

Thanks again to RR and everyone who has contributed to this idea.

Jon

--- 帖子 #1023 ---
It's good to know that something so old still proves to be useful.

--- 帖子 #1024 ---
First it seems like a good idea...but then  I noticed the longer time you optimized the data the more this advantages dissapear.... So in my mind it makes sense to go opposite to what this ea suggest.

--- 帖子 #1025 ---
An interesting thought.

I think the last version worked well because things happen repetitively. By that I mean markets open and close at the same time everyday and news breaks the same time every year. So that leaves a pattern of market sentiment that can be mildly predictable with some pairs. So it would be logical to think the more data would give you a more accurate prediction.

The earlier version on the other hand was based on a number of candles. So if you went too far, the strategy could be too slow to react. On the other hand, if you didn't go far enough you could get faked out.

In the end I think the major flaw was the use of arbitrary static numbers. Market resistance doesn't care where your static stoploss is because market resistance is dynamic. So whats the point of trying to optimize a target profit from a failed static number? In my opinion its better to base a target profit and a stop loss from the size and percentage of the current waves. They will be dynamic in nature and move with the market.

So instead of trying to optimize with pips as the unit of measurement, maybe it would be better to use percentages of the wave, ie Fibonacci congruent resistance levels like AB=CD, COP, OP, XOP.

The entry of hi lo has its own issues as well. Unfortunately the code is completely based on that. So in order to create a different entry, it would almost have to be completely rewritten.

But the ability to optimize the statistics was brilliant. I commend RR for that. I wish I had more time to perfect this EA.

--- 帖子 #1026 ---
so... the last version posted by you has any edge in your opinion? better than a random entry? If yes how much? 51%, 55% 60%??  Or is it enough to overcome spreads?

--- 帖子 #1027 ---
The last version (month opt) has the edge of statistical probability. It is unbelievable how accurate it can be a certain things like predicting how far the market will move before changing directions.

To give you an example in the past week in the EU. During the European market the Euro was being sold, then when the American market opened it would be bought and swing back to take the high. This happened nearly every day this week.

Month opt was giving me breakout sell signals with target profits that were within 10 pips of market reversal! Then as it approached that reversal it was giving me counter trend buy signals with the target profits above the previous high.

And so it was accurately predicting the momentum and pivot points of converging markets without the use of moving averages, fibs, or trend-lines. That's money in the bank my friend.

That being said, I don't and wont use it to auto trade a live account. But it is an extremely powerful tool to give you an extra level of confidence in your manual trades.

--- 帖子 #1028 ---
The mention of using fibonacci swings might be of use.

Using the current day's high / low in such a way that the most recently broken high/low is 100% and the opposite extreme 0%--if a high is broken, then the previous high is 100% and the current low is 0%

What is the likely retracement? Will it hit 82% before hitting 138%?

--- 帖子 #1029 ---
That's a good thought. Is it a wave 5?

--- 帖子 #1030 ---
Hi RR first of all thnx for sharing the EA i just got one problem though im having some error when i load up the EA

2012.05.04 02:28:27 HiLo Self Optimizing [TD]accept EURUSD,M1: EURUSD Error: <html><head><title>403 Permission Denied</title></head>
<body bgcolor=white>
<h1>403 Permission Denied</h1>
You do not have permission for this request /TickDB/Load.php?TN=EURUSD&amp;GMT=1336098310&amp;TT=1336123510&amp;B=1.31495&amp;A=1.31513&amp;BN=FxPro%20Financial%20Services%20Ltd&amp;UN=HiLo%20Self%20Optimizing%20[TD]accept
</body></html>

RR , Rfking2  or somebody can help me how to solve this problem I love to run the ea pls....

--- 帖子 #1031 ---
The EA is trying to connect to a tick database that no longer exists.

--- 帖子 #1032 ---
RR thnx for the response =)  hmmm... what can i do to fix this ?  so I can run your EA

thnx in a million = )

--- 帖子 #1033 ---
Every platform I am aware of automatically adjusts time so it remains constant at either local time or exchange time.  Are you sure this DST adjustment isn't built-in to your program?

--- 帖子 #1034 ---
Ignore the problem

That should not affect the EA itself.

--- 帖子 #1035 ---
did you abandonate this Ea alltogether? If not.. any updates?

Thanks for your contribution (even if it stops here) Julian.

--- 帖子 #1036 ---
I have 'abandoned' the EA in the sense that I have been working on future generations as part of my consulting business. I cannot release those new generation EAs for a certain period of time. Another year or two, and I can finally release what I was working on about 6 months after I first posted this EA here.

The fundamental concept--self optimizing EAs--still exists. The trading system has changed.

--- 帖子 #1037 ---
thnx for the response RR

so you mean the ea will still trade even theres a erorr coming in the journal? one question = ) will it cause alot of lag in the metrader 4 if the EA keeps on recording those erorr on the journal?? =( it will slow down the metatrader4

--- 帖子 #1038 ---
It will use some RAM and will fill up your hard drive. I recomend you go and comment out the code.

--- 帖子 #1039 ---
thnx for the response rfking = ) one question sorry Im not good in computer can you pls tell me step by step how you gona do this------------->" go and comment out the code " pls...

last question do you also experince this erorr ------>2012.05.04 02:28:27 HiLo Self Optimizing [TD]accept EURUSD,M1: EURUSD Error: <html><head><title>403 Permission Denied</title></head>

<body bgcolor=white>
<h1>403 Permission Denied</h1>
You do not have permission for this request /TickDB/Load.php?TN=EURUSD&amp;GMT=13360983 10&amp;TT=1336123510&amp;B=1.31495& amp;A=1.31513&amp;BN=FxPro%20Financ ial%20Services%20Ltd&amp;UN=HiLo%20 Self%20Optimizing%20[TD]accept
</body></html>

thnx in advance

--- 帖子 #1040 ---
Look for references to dlls. Just comment those out.

--- 帖子 #1041 ---
thnx for the response RR  and rfking ,sorry let me just clarify what you guys say

ARe you guys saying i need to go metatrader 4 folder, then expert folder, then log folder, then there i delete those log from time to time to avoid lagging of metatrader 4 ?

--- 帖子 #1042 ---
no... I think you should just ignore the errors, if you don't know how to do it. You still have to have some minimmum programming skills

--- 帖子 #1043 ---
If your system gets bogged down too much, go ahead and periodically clear out the log folder.

--- 帖子 #1044 ---
thnx for the reply RR but i have some issue on EA when I put the Tp to 100pips the EA doesn't follow instead it puts 60 pips all is default is this normal to the ea to do this???

--- 帖子 #1045 ---
Yes.

The EA is optimizing itself.

--- 帖子 #1046 ---
RR are you still using this EA in your LIVE account? if so are you running it on VPS or in your PC?

--- 帖子 #1047 ---
Hows your  experimental doing? using only succes score???

keep us update..

--- 帖子 #1048 ---
Wow, this thread is interesting. I also read the article you mentioned on post #1 at mql4.com, I want to implement it on my EA but couldn't understand how. Well, I am not a programer after all and learn to code EA on my own googling here and there.

I've download your EA and I will observe how it behave. As mentioned on your earlier post about running several EA together to have some kind of MM. I already done it with my EAs, run about so many EAs with different pairs and yes when one loose there will be many other win their trade.

Here is one of my EA set doing forward test on non optimized parameter. I also run the optimized one on my live account(spent more thana week to optimize it, duh!). I don't use TP but use some condition for exit, when my internet down earlier I have so many winning trades became loosers. Maybe I should use VPS or co-location server next time.

http://www.myfxbook.com/members/Newb...-ea-set/336068

--- 帖子 #1049 ---
I've been looking for interesting eas and refloating the old ones here are some to get the most out of them.

They are all self-optimizing. This work is a real gem of simple programming, and adaptable to the market, provide the programmers to adapt this to the current situation.

--- 帖子 #1050 ---
This work is a real gem of simple programming, and adaptable to the market, provide the programmers to adapt this to the current situation.

--- 帖子 #1051 ---
d
"
But in the time I read all.... I could create 3 other strategies as Indicators and Expert Adivsors on MT4....

I prefer Linda Rashke 80-20....10 minutes too read.... and we haven t 2 talk about how profitable such thing is when she gots the data from Moore Research Center by Steve Moore...

4 pages with several pictues so only 1 page text to read...
Why try 2 invent the wheel....maybe this wheel is more round...

Greetings from Perth... R
PS: Feel free 2 ask me when my EA to this strat(ofcourse we are talking about Linda) cause this strat is on my 2 do list...

Moore Research Center by Steve Moore

--- 帖子 #1052 ---
hello, interesting, what is the link of your work

--- 帖子 #1053 ---
Hello. I have seen your project, but it is useless.

These Expert advisor that I publish are not profitable, but by adding a neural network to it, they could improve a lot.

Actually, the neural network works like any indicator that adapts to the operation of the pair, the problem is that it should self-optimize after each important news, and achieving that is very difficult.

--- 帖子 #1054 ---
You're basically saying that you wish to:

1) take some trash input

2) and then perform some alchemy on it (neural network)

3) and hope to create gold in the end.

Think about that for a few minutes.

Then ponder on the concept known as "overfitting". So here's a hint. Instead of starting with "trash" why not start with something that at least has a chance to be converted to gold?

--- 帖子 #1055 ---
Sorry for my bad English. One of the few ways to obtain profitability in forex, with Expert advisor: Self-optimizing neural network, which takes into account the spread, the broker's commission, and the news filters. There is not in any internet forum, a system that by itself is minimally profitable, and that when doing a tick-by-tick test with variable and real spread, passes the test from 2006 to today, starting from a petty cash. , for example 500 dollars.


===== 附件下载链接 =====

HiLo Trader [TD] Lines.ex4: https://www.forexfactory.com/attachment/file/385419?d=1262265391
HiLo Trader [TD].ex4: https://www.forexfactory.com/attachment/file/385420?d=1262265391
HiLo Trader [TD] Lines.ex4: https://www.forexfactory.com/attachment/file/384382?d=1262036414
HiLo Trader [TD].ex4: https://www.forexfactory.com/attachment/file/385417?d=1262265250
HiLo Trader [TD] Lines.ex4: https://www.forexfactory.com/attachment/file/385418?d=1262265250
HiLo Trader 2 [TD].mq4: https://www.forexfactory.com/attachment/file/401042?d=1264469658
Attachment: https://www.forexfactory.comhttps://www.forexfactory.com/attachment/file/506569
Rfking2 HiLo Trader [TD].mq4: https://www.forexfactory.com/attachment/file/508021?d=1279159289
Parabolic Sub.mq4: https://www.forexfactory.com/attachment/file/508022?d=1279159289
HiLo Self Optimizing.mq4: https://www.forexfactory.com/attachment/file/508661?d=1279217278
Statement_ 68387 - Demo.pdf: https://www.forexfactory.com/attachment/file/511241?d=1279641978
HiLo Self Optimizing [TD].mq4: https://www.forexfactory.com/attachment/file/511771?d=1279713807
Statement_ 68387 - Demo.pdf: https://www.forexfactory.com/attachment/file/512049?d=1279747983
HiLo Self Optimizing [TD].mq4: https://www.forexfactory.com/attachment/file/512164?d=1279771013
HiLo Self Optimizing [TD].mq4: https://www.forexfactory.com/attachment/file/513131?d=1279892386
Parabolic Sub.mq4: https://www.forexfactory.com/attachment/file/516846?d=1280503766
Rfking2 HiLo Self Optimizing [TD].mq4: https://www.forexfactory.com/attachment/file/516881?d=1280508694
Rfking2 HiLo Self Optimizing [TD].mq4: https://www.forexfactory.com/attachment/file/517454?d=1280708735
old dog.zip: https://www.forexfactory.com/attachment/file/519208?d=1280921826
HiLo Self Optimizing [TD].mq4: https://www.forexfactory.com/attachment/file/519285?d=1280929503
HiLo Self Optimizing [TD] stevegee58.mq4: https://www.forexfactory.com/attachment/file/519349?d=1280935482
t-score.zip: https://www.forexfactory.com/attachment/file/523322?d=1281510117
hilo80ss.set.txt: https://www.forexfactory.com/attachment/file/529302?d=1282242261
DetailedStatement HiLo 9.10.10.zip: https://www.forexfactory.com/attachment/file/541765?d=1284172936
month opt.ex4: https://www.forexfactory.com/attachment/file/689387?d=1304189182
month opt.mq4: https://www.forexfactory.com/attachment/file/689388?d=1304189182
HiLo Self Optimizing [TD] (1).mq4: https://www.forexfactory.com/attachment/file/3998740?d=1627380221
HiLo Self Optimizing [TD] (2).mq4: https://www.forexfactory.com/attachment/file/3998741?d=1627380222
HiLo Self Optimizing [TD] stevegee58(1).mq4: https://www.forexfactory.com/attachment/file/3998742?d=1627380223
HiLo Self Optimizing [TD] stevegee58(2).mq4: https://www.forexfactory.com/attachment/file/3998743?d=1627380224
month opt (1).mq4: https://www.forexfactory.com/attachment/file/3998744?d=1627380225
Parabolic Sub.mq4: https://www.forexfactory.com/attachment/file/3998745?d=1627380225
Rfking2 HiLo Self Optimizing [TD] (1).mq4: https://www.forexfactory.com/attachment/file/3998746?d=1627380226
